/*!
 *
 * Bryntum Gantt 5.5.0
 *
 * Copyright(c) 2023 Bryntum AB
 * https://bryntum.com/contact
 * https://bryntum.com/license
 *
 */
var K=Object.defineProperty;var Q=(P,e,t)=>e in P?K(P,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):P[e]=t;var I=(P,e,t)=>(Q(P,typeof e!="symbol"?e+"":e,t),t);import{GridFeatureManager as j}from"./GridBase.js";import{DragHelper as Z}from"./MessageDialog.js";import{Base as ee,Delayable as te,InstancePlugin as N,Rectangle as re,DomHelper as M,Combo as Y,Popup as oe,LocaleManagerSingleton as ie,Field as ae,Checkbox as se,BrowserHelper as le,VersionHelper as ne,ObjectHelper as O,Toast as k,AjaxHelper as de,EventHelper as pe}from"./Editor.js";import{RowsRange as C,Orientation as F,FileFormat as W,PaperFormat as G,Exporter as z,FileMIMEType as ce}from"./Exporter.js";var X=P=>class extends(P||ee){static get $name(){return"SummaryFormatter"}generateHtml(t,r,o,i,a,s){const n=this.store,d=t.summaries||(t.sum?[{sum:t.sum,renderer:t.summaryRenderer}]:[]);let l=`<table class="${o}">`;return d.forEach(u=>{let p=u.sum,c=null;switch(p===!0&&(p="sum"),p){case"sum":case"add":c=n.sum(t.field,r);break;case"max":c=n.max(t.field,r);break;case"min":c=n.min(t.field,r);break;case"average":case"avg":c=n.average(t.field,r);break;case"count":c=r.length;break;case"countNotEmpty":c=r.reduce((h,b)=>{const f=b.getValue(t.field);return h+(f!=null?1:0)},0);break}if(typeof p=="function"&&(c=r.reduce(p,"seed"in u?u.seed:0)),c!==null){const h="b-grid-summary-value",b=u.label?`<td class="b-grid-summary-label">${u.label}</td>`:"";let f=u.renderer?u.renderer({config:u,sum:c}):c,m;f==null&&(f=""),String(f).includes("<td>")?m=f:m=b?`${b}<td class="${h}">${f}</td>`:`<td colspan="2" class="${h}">${f}</td>`,l+=`<tr>${m}</tr>`}}),l+"</table>"}};class T extends te(N){static get deprecatedEvents(){return{gridRowBeforeDragStart:{product:"Grid",invalidAsOfVersion:"6.0.0",message:"`gridRowBeforeDragStart` event is deprecated, listen on this event on the Grid instead."},gridRowDragStart:{product:"Grid",invalidAsOfVersion:"6.0.0",message:"`gridRowDragStart` event is deprecated, listen on this event on the Grid instead."},gridRowDrag:{product:"Grid",invalidAsOfVersion:"6.0.0",message:"`gridRowDrag` event is deprecated, listen on this event on the Grid instead."},gridRowBeforeDropFinalize:{product:"Grid",invalidAsOfVersion:"6.0.0",message:"`gridRowBeforeDropFinalize` event is deprecated, listen on this event on the Grid instead."},gridRowDrop:{product:"Grid",invalidAsOfVersion:"6.0.0",message:"`gridRowDrop` event is deprecated, listen on this event on the Grid instead."},gridRowAbort:{product:"Grid",invalidAsOfVersion:"6.0.0",message:"`gridRowAbort` event is deprecated, listen on this event on the Grid instead."}}}construct(e,t){this.grid=e,super.construct(...arguments)}doDestroy(){var e;(e=this.dragHelper)===null||e===void 0||e.destroy(),super.doDestroy()}init(){const e=this,{grid:t}=e;e.dragHelper=Z.new({name:"rowReorder",cloneTarget:!0,dragThreshold:10,proxyTopOffset:10,targetSelector:".b-grid-row",lockX:!0,dragWithin:t.bodyContainer,allowDropOutside:!0,scrollManager:t.scrollManager,outerElement:e.targetSubGridElement,touchStartDelay:e.touchStartDelay,isElementDraggable:e.isElementDraggable.bind(e),monitoringConfig:{scrollables:[{element:t.scrollable.element,direction:"vertical"}]},setXY(r,o,i){const{context:a}=this;if(!a.started){const s=re.from(a.element,this.dragWithin),n=a.startPageY-globalThis.pageYOffset-a.element.getBoundingClientRect().top;i=s.top+n+this.proxyTopOffset}M.setTranslateXY(r,o,i)},ignoreSamePositionDrop:!1,createProxy(r){const o=r.cloneNode(!0),i=document.createElement("div");if(i.classList.add("b-row-reorder-proxy"),o.removeAttribute("id"),o.style.transform="",o.style.width="",i.appendChild(o),t.selectedRecords.length>1){const a=o.cloneNode(!0);a.classList.add("b-row-dragging-multiple"),i.appendChild(a)}return M.removeClsGlobally(i,"b-selected","b-hover","b-focused"),i},internalListeners:{beforedragstart:"onBeforeDragStart",dragstart:"onDragStart",drag:"onDrag",drop:"onDrop",abort:"onAbort",reset:"onReset",prio:1e4,thisObj:e}},e.dragHelperConfig),e.relayEvents(e.dragHelper,["beforeDragStart","dragStart","drag","abort"],"gridRow"),t.relayEvents(e.dragHelper,["beforeDragStart","dragStart","drag","abort"],"gridRow"),e.dropIndicator=M.createElement({className:"b-row-drop-indicator"}),e.dropOverTargetCls=["b-row-reordering-target","b-hover"]}get targetSubGridElement(){const e=this.grid.regions[0];return this.grid.subGrids[e].element}isElementDraggable(e,t){if(!e.closest(".b-grid-cell .b-widget"))if(this.gripOnly){const r=e.closest(".b-grid-cell:first-child");if(r){const o=getComputedStyle(r,":before"),i=this.grid.rtl?r.getBoundingClientRect().width-t.borderOffsetX:t.borderOffsetX,a=M.roundPx(i)<=M.roundPx(parseFloat(o.width));return a&&(this.client.preventDragSelect=!0),a}}else return!0}onBeforeDragStart({event:e,source:t,context:r}){const o=this,{grid:i}=o,a=o.targetSubGridElement;if(o.disabled||i.readOnly||i.isTreeGrouped||!a.contains(r.element))return!1;const s=r.startRecord=i.getRecordFromElement(r.element);if(s.readOnly||s.isSpecialRow)return!1;r.originalRowTop=i.rowManager.getRowFor(s).top,i.selectionMode.checkboxOnly||(t.startEvent.pointerType==="touch"?i.isSelected(s)||i.selectRow({record:s,addToSelection:!1}):!i.isSelected(s)&&!e.shiftKey&&!e.ctrlKey&&i.selectRow({record:s}));const n=i.selectedRecords.filter(d=>!d.readOnly);return r.records=[s],n.includes(s)&&(r.records.push(...n.filter(d=>d!==s)),r.records.sort((d,l)=>i.store.indexOf(d)-i.store.indexOf(l))),!0}onDragStart({context:e}){var t,r;const o=this,{grid:i}=o,{cellEdit:a,cellMenu:s,headerMenu:n}=i.features;a&&(o.cellEditDisabledState=a.disabled,a.disabled=!0),s==null||(t=s.hideContextMenu)===null||t===void 0||t.call(s,!1),n==null||(r=n.hideContextMenu)===null||r===void 0||r.call(n,!1),i.element.classList.add("b-row-reordering");const d=e.element.querySelector(".b-focused");d==null||d.classList.remove("b-focused"),e.element.firstElementChild.classList.remove("b-selected","b-hover"),i.bodyContainer.appendChild(o.dropIndicator)}onDrag({context:e,event:t}){const r=this,{grid:o}=r,{store:i,rowManager:a}=o,{clientY:s}=t;let n=!0,d=a.getRowAt(s),l,u,p,c,h;if(d){const f=d.top+o.scrollable.element.getBoundingClientRect().top-o.scrollable.y,m=d.height/4,g=f+m,R=f+d.height/2,v=f+m*3;u=d.dataIndex,l=i.getAt(u),i.tree?c=(l.isParent||r.dropOnLeaf)&&s>g&&s<v:i.isGrouped&&(c=l.isGroupHeader&&l.meta.collapsed),p=!c&&t.clientY>=R}else t.pageY<o._bodyRectangle.y?(u=0,l=i.first,p=!1):(u=i.count-1,l=i.last,p=!0),d=o.rowManager.getRow(u);if(l===r.overRecord&&r.after===p&&r.over===c){e.valid=r.reorderValid;return}if(r.overRecord!==l){var b;(b=a.getRowById(r.overRecord))===null||b===void 0||b.removeCls(r.dropOverTargetCls)}r.overRecord=l,r.after=p,r.over=c,(l===e.startRecord||!p&&!c&&u===0&&i.isGrouped||p&&l.isGroupHeader&&l.meta.collapsed&&i.indexOf(l)===i.count-1)&&(n=!1),i.tree?(h=p?l.nextSibling:l,e.records.some(f=>f.contains(l))&&(n=!1),e.parent=n&&c?l:l.parent,r.clearTimeout(r.hoverTimer),l&&l.isParent&&!l.isExpanded(i)&&(r.hoverTimer=r.setTimeout(()=>o.expand(l),r.hoverExpandTimeout))):h=p?i.getAt(u+1):l,d.toggleCls(r.dropOverTargetCls,n&&c),!c&&u===i.indexOf(e.startRecord)+(p?-1:1)&&e.parent&&e.startRecord.parent===e.parent&&(n=!1),d&&M.setTranslateY(r.dropIndicator,Math.max(d.top+(p?d.element.getBoundingClientRect().height:0),1)),r.dropIndicator.style.visibility=c?"hidden":"visible",r.dropIndicator.classList.toggle("b-drag-invalid",!n),e.insertBefore=h,e.valid=r.reorderValid=n}async onDrop(e){const t=this,{client:r}=t,{context:o}=e;if(o.valid=o.valid&&t.reorderValid,o.valid){o.async=!0,r.store.tree&&(o.oldPositionContext=o.records.map(a=>{var s;return{record:a,parentId:(s=a.parent)===null||s===void 0?void 0:s.id,parentIndex:a.parentIndex}}));let i=await t.trigger("gridRowBeforeDropFinalize",e);i===!1&&(o.valid=!1),i=await r.trigger("gridRowBeforeDropFinalize",e),i===!1&&(o.valid=!1),await t.dragHelper.animateProxyTo(t.dropIndicator,{align:"l0-l0"}),await t.finalizeReorder(o)}t.clearTimeout(t.hoverTimer),t.overRecord=t.after=t.over=null,t.trigger("gridRowDrop",e),r.trigger("gridRowDrop",e)}onAbort(e){this.client.trigger("gridRowDragAbort",e)}async finalizeReorder(e){const t=this,{grid:r}=t,{store:o,focusedCell:i}=r;let{records:a}=e;if(e.valid=e.valid&&!a.some(d=>!o.includes(d)),e.valid){let d;if(o.tree){var s,n;a=a.filter(l=>!l.parent||l.bubbleWhile(u=>!a.includes(u),!0)),d=await e.parent.tryInsertChild(a,t.over?(s=e.parent.children)===null||s===void 0?void 0:s[0]:e.insertBefore),r.rowManager.forEach(l=>l.removeCls(t.dropOverTargetCls)),!e.parent.isExpanded()&&(n=e.parent.children)!==null&&n!==void 0&&n.length&&r.expand(e.parent),e.valid=d!==!1}else if(o.isGrouped&&t.over)o.move(a,o.getAt(o.indexOf(e.insertBefore)+1));else{if(a.length>1)for(;e.insertBefore&&a.includes(e.insertBefore);)e.insertBefore=o.getNext(e.insertBefore,!1,!0);o.move(a,e.insertBefore)}(i==null?void 0:i._rowIndex)>=0&&(r._focusedCell=null,r.focusCell({grid:r,record:i.record,columnId:i.columnId})),o.clearSorters()}e.finalize(e.valid),r.element.classList.remove("b-row-reordering")}onReset(){const e=this,{grid:t}=e,r=t.features.cellEdit;t.element.classList.remove("b-row-reordering"),r&&(r.disabled=e.cellEditDisabledState),e.dropIndicator.remove(),M.removeClsGlobally(t.element,...e.dropOverTargetCls)}onPaint({firstPaint:e}){e&&this.init()}updateShowGrip(e){this.grid.element.classList.toggle("b-row-reorder-with-grip",e)}get isDragging(){return this.dragHelper.isDragging}}I(T,"$name","RowReorder"),I(T,"configurable",{showGrip:null,gripOnly:null,hoverExpandTimeout:1e3,touchStartDelay:300,dropOnLeaf:!1,dragHelperConfig:null}),I(T,"pluginConfig",{after:["onPaint"]}),T.featureClass="",T._$name="RowReorder",j.registerFeature(T,!1);class $ extends X(N){static get configurable(){return{selectedOnly:null,hideFooters:!1}}static get pluginConfig(){return{chain:["renderRows","bindStore"]}}static get $name(){return"Summary"}construct(e,t){this.grid=e,super.construct(e,t),this.bindStore(e.store),e.hideFooters=this.hideFooters}bindStore(e){this.detachListeners("store"),e.ion({name:"store",change:"onStoreChange",thisObj:this})}get store(){return this.grid.store}doDestroy(){super.doDestroy()}doDisable(e){super.doDisable(e);const{client:t}=this;e?t.element.classList.add("b-summary-disabled"):(this.updateSummaries(),t.element.classList.remove("b-summary-disabled"),t.eachSubGrid(r=>r.scrollable.syncPartners()))}renderRows(){this.updateSummaries()}updateSummaries(){const e=this,{grid:t,store:r}=e,o=M.children(t.element,".b-grid-footer"),i=e.selectedOnly&&t.selectedRecords.length>0,a=(r.isFiltered?r.storage.values:r.allRecords).filter(s=>!s.isSpecialRow&&(!i||t.isSelected(s)));t.columns.forEach(s=>{var n;(n=s.summaries)===null||n===void 0||n.forEach(d=>{"seed"in d&&("initialSeed"in d||(d.initialSeed=d.seed),["number","string","date"].includes(typeof d.initialSeed)?d.seed=d.initialSeed:d.seed=Object.assign({},d.initialSeed))})}),o.forEach(s=>{if(!s.dataset.column)return;const n=t.columns.get(s.dataset.column),d=e.generateHtml(n,a,"b-grid-footer-summary");(n.summaries?n.summaries.length:n.sum)&&(s.children.length?M.sync(d,s.firstElementChild):s.innerHTML=d)})}onStoreChange({action:e,changes:t}){let r=!0;this.disabled||(e==="update"&&(r=Object.keys(t).some(o=>{const i=this.grid.columns.get(o);return!!i&&(!!i.sum||!!i.summaries)})),r&&this.updateSummaries())}updateSelectedOnly(e){const t=this;t.detachListeners("selectionChange"),e&&t.grid.ion({name:"selectionChange",selectionChange:t.refresh,thisObj:t}),t.refresh()}refresh(){this.updateSummaries()}}$.featureClass="b-summary",$._$name="Summary",j.registerFeature($);class _ extends Y{static get $name(){return"ExportRowsCombo"}static get type(){return"exportrowscombo"}static get defaultConfig(){return{editable:!1}}buildItems(){const e=this;return[{id:C.all,text:e.L("L{all}")},{id:C.visible,text:e.L("L{visible}")}]}}_.initClass(),_._$name="ExportRowsCombo";class U extends Y{static get $name(){return"ExportOrientationCombo"}static get type(){return"exportorientationcombo"}static get defaultConfig(){return{editable:!1}}buildItems(){const e=this;return[{id:F.portrait,text:e.L("L{portrait}")},{id:F.landscape,text:e.L("L{landscape}")}]}}U.initClass(),U._$name="ExportOrientationCombo";function J(P,e=t=>t){return Object.keys(P).map(t=>({id:t,text:e(t)}))}class V extends oe{static get $name(){return"ExportDialog"}static get type(){return"exportdialog"}static get configurable(){return{autoShow:!1,autoClose:!1,closable:!0,centered:!0,client:null,autoSelectVisibleColumns:!0,hidePNGMultipageOption:!0,title:"L{exportSettings}",maxHeight:"80%",scrollable:{overflowY:!0},defaults:{localeClass:this},items:{columnsField:{type:"combo",label:"L{ExportDialog.columns}",store:{},valueField:"id",displayField:"text",multiSelect:!0,weight:100,maxHeight:100},rowsRangeField:{type:"exportrowscombo",label:"L{ExportDialog.rows}",value:"all",weight:200},exporterTypeField:{type:"combo",label:"L{ExportDialog.exporterType}",editable:!1,value:"singlepage",displayField:"text",buildItems(){const e=this.parent;return e.exporters.map(t=>({id:t.type,text:e.optionalL(t.title,this)}))},onChange({value:e}){this.owner.widgetMap.alignRowsField.hidden=e==="singlepage",this.owner.widgetMap.repeatHeaderField.hidden=e!=="multipagevertical"},weight:300},alignRowsField:{type:"checkbox",label:"L{ExportDialog.alignRows}",checked:!1,hidden:!0,weight:400},repeatHeaderField:{type:"checkbox",label:"L{ExportDialog.repeatHeader}",localeClass:this,hidden:!0,weight:500},fileFormatField:{type:"combo",label:"L{ExportDialog.fileFormat}",localeClass:this,editable:!1,value:"pdf",items:[],onChange({value:e,oldValue:t}){const r=this.parent;if(r.hidePNGMultipageOption){const o=r.widgetMap.exporterTypeField,i=o.store.find(a=>a.id==="singlepage");e===W.png&&i?(this._previousDisabled=o.disabled,o.disabled=!0,this._previousValue=o.value,o.value="singlepage"):t===W.png&&this._previousValue&&(o.disabled=this._previousDisabled,o.value=this._previousValue)}},weight:600},paperFormatField:{type:"combo",label:"L{ExportDialog.paperFormat}",editable:!1,value:"A4",items:[],weight:700},orientationField:{type:"exportorientationcombo",label:"L{ExportDialog.orientation}",value:"portrait",weight:800}},bbar:{defaults:{localeClass:this},items:{exportButton:{color:"b-green",text:"L{ExportDialog.export}",weight:100,onClick:"up.onExportClick"},cancelButton:{color:"b-gray",text:"L{ExportDialog.cancel}",weight:200,onClick:"up.onCancelClick"}}}}}construct(e={}){const t=this,{client:r}=e;if(!r)throw new Error("`client` config is required");t.columnsStore=r.columns.chain(o=>o.isLeaf&&o.exportable,null,{excludeCollapsedRecords:!1}),t.applyInitialValues(e),super.construct(e),ie.ion({locale:"onLocaleChange",prio:-1,thisObj:t})}applyInitialValues(e){const t=this,r=e.items=e.items||{};e.width=e.width||t.L("L{width}"),e.defaults=e.defaults||{},e.defaults.labelWidth=e.defaults.labelWidth||t.L("L{ExportDialog.labelWidth}"),r.columnsField=r.columnsField||{},r.fileFormatField=r.fileFormatField||{},r.paperFormatField=r.paperFormatField||{},r.fileFormatField.items=J(W,o=>o.toUpperCase()),r.paperFormatField.items=J(G),r.columnsField.store=t.columnsStore}onBeforeShow(){var e;const{columnsField:t,alignRowsField:r,exporterTypeField:o,repeatHeaderField:i}=this.widgetMap;this.autoSelectVisibleColumns&&(t.value=this.columnsStore.query(a=>!a.hidden)),r.hidden=o.value==="singlepage",i.hidden=o.value!=="multipagevertical",(e=super.onBeforeShow)===null||e===void 0||e.call(this,...arguments)}onLocaleChange(){const e=this.L("L{labelWidth}");this.width=this.L("L{width}"),this.eachWidget(t=>{t instanceof ae&&(t.labelWidth=e)})}onExportClick(){const e=this.values;this.trigger("export",{values:e})}onCancelClick(){this.trigger("cancel"),this.hide()}get values(){const e=/field/i,t={};return this.eachWidget(r=>{e.test(r.ref)&&(t[r.ref.replace(e,"")]=r instanceof se?r.checked:r.value)}),t}}V.initClass(),V._$name="ExportDialog";class D extends z{static get $name(){return"MultiPageExporter"}static get type(){return"multipage"}static get title(){return this.L("L{multipage}")}static get exportingPageText(){return"L{exportingPage}"}async stateNextPage({client:e,rowsRange:t,enableDirectRendering:r}){const{exportMeta:o}=this;++o.currentPage,++o.verticalPosition,delete o.lastExportedRowBottom,o.verticalPosition>=o.verticalPages&&(Object.assign(o,{verticalPosition:0,horizontalPosition:o.horizontalPosition+1,currentPageTopMargin:0,lastTop:0,lastRowIndex:t===C.visible?e.rowManager.firstVisibleRow.dataIndex:0}),delete o.lastRowDataIndex,r||await this.scrollRowIntoView(e,o.firstVisibleDataIndex,{block:"start"}))}async prepareComponent(e){await super.prepareComponent(e);const t=this,{exportMeta:r}=t,{client:o,headerTpl:i,footerTpl:a,alignRows:s,rowsRange:n,enableDirectRendering:d}=e,l=G[e.paperFormat],u=e.orientation===F.portrait,p=u?l.width:l.height,c=u?l.height:l.width,h=t.inchToPx(p),b=t.inchToPx(c),f=n===C.visible,m=Math.ceil(r.totalWidth/h);let g=b;i&&(g-=t.measureElement(i({totalWidth:r.totalWidth,totalPages:-1,currentPage:-1}))),a&&(g-=t.measureElement(a({totalWidth:r.totalWidth,totalPages:-1,currentPage:-1})));let R,v,x=o.store.count;if(f?(x=t.getVisibleRowsCount(o),R=r.totalHeight+o.headerHeight+o.footerHeight+o.bodyHeight):R=r.totalHeight+o.headerHeight+o.footerHeight+o.scrollable.scrollHeight,s&&!f){const y=o.rowManager.rowOffsetHeight,H=Math.floor((g-o.headerHeight)/y),w=Math.floor(g/y),E=x-H;v=1+Math.ceil(E/w)}else v=Math.ceil(R/g);Object.assign(r,{paperWidth:p,paperHeight:c,pageWidth:h,pageHeight:b,horizontalPages:m,verticalPages:v,totalHeight:R,contentHeight:g,totalRows:x,totalPages:m*v,currentPage:0,verticalPosition:0,horizontalPosition:0,currentPageTopMargin:0,lastTop:0,lastRowIndex:f?o.rowManager.firstVisibleRow.dataIndex:0}),d||this.adjustRowBuffer(o)}async restoreComponent(e){await super.restoreComponent(e),e.enableDirectRendering||this.restoreRowBuffer(e.client)}async collectRows(e){const t=this,{exportMeta:r}=t,{client:o,alignRows:i,rowsRange:a}=e,{subGrids:s,currentPageTopMargin:n,verticalPosition:d,contentHeight:l,totalRows:u,lastRowDataIndex:p}=r,{rowManager:c}=o,{rows:h}=c,b=a===C.visible,f=o.hasActiveFeature("mergeCells");let m,g;b&&p!=null?p===h[h.length-1].dataIndex?g=h.length-1:g=h.findIndex(w=>w.dataIndex===p):g=b?h.findIndex(w=>w.bottom>Math.ceil(o.scrollable.y)):h.findIndex(w=>w.bottom+n+o.headerHeight>0);const R=g,v=b||d===0?0:h[g].top+n+o.headerHeight;m=l-v,d===0&&(m-=o.headerHeight);let x,y=0;for(;m>0;){const w=h[g];i&&m<w.offsetHeight?(y=-m,m=0,t.exportMeta.lastExportedRowBottom=h[g-1].bottom):(t.collectRow(w),m-=w.offsetHeight,x=w.dataIndex,(++g===h.length&&m>0||b&&g-R===u)&&(m=0))}if(f)for(const w in s){const E=s[w],S=o.subGrids[w].element.querySelectorAll(".b-grid-merged-cells");E.mergedCellsHtml=[];for(const A of S)E.mergedCellsHtml.push(A.outerHTML)}const H=h[g-1];if(H&&(r.exactGridHeight=H.bottom+o.footerContainer.offsetHeight+o.headerContainer.offsetHeight,r.lastRowDataIndex=H.dataIndex+1),await t.onRowsCollected(h.slice(R,g),e),b)r.exactGridHeight-=r.scrollableTopMargin=o.scrollable.y;else{const w=c.ion({offsetRows:({offset:E})=>y+=E});await t.scrollRowIntoView(o,x+1),w()}return y}async renderRows(e){const t=this,{exportMeta:r}=t,{client:o,alignRows:i,rowsRange:a}=e,{currentPageTopMargin:s,verticalPosition:n,contentHeight:d,totalRows:l,lastRowIndex:u,fakeRow:p}=r,{store:c}=o,h=o.hasActiveFeature("mergeCells"),b=a===C.visible;let f=u,{lastTop:m}=r,g;const R=f,v=b||n===0?0:m+s+o.headerHeight,x=[];g=d-v,n===0&&(g-=o.headerHeight);let y,H,w=0;for(;g>0;)p.render(f,c.getAt(f),!0,!1,!0),i&&g<p.offsetHeight?(w=-g,g=0,t.exportMeta.lastExportedRowBottom=m):(H=m,y=f,m=p.translate(m),g-=p.offsetHeight,t.collectRow(p),x.push({top:p.top,bottom:p.bottom,offsetHeight:p.offsetHeight,dataIndex:p.dataIndex}),(++f===c.count&&g>0||b&&f-R===l)&&(g=0));return h&&t.renderMergedCells(e,R,f,x),r.lastRowIndex=i?f:y,r.lastTop=i?m:H,p&&(r.exactGridHeight=p.bottom+o.footerContainer.offsetHeight+o.headerContainer.offsetHeight),await t.onRowsCollected(x,e),w}async buildPage(e){const t=this,{exportMeta:r}=t,{client:o,headerTpl:i,footerTpl:a,enableDirectRendering:s}=e,{totalWidth:n,totalPages:d,currentPage:l,subGrids:u}=r;Object.values(u).forEach(f=>f.rows=[]),e.rowsRange===C.all&&(r.totalHeight=o.height-o.bodyHeight+o.scrollable.scrollHeight-t.getVirtualScrollerHeight(o));let p,c;i&&(p=t.prepareHTML(i({totalWidth:n,totalPages:d,currentPage:l}))),a&&(c=t.prepareHTML(a({totalWidth:n,totalPages:d,currentPage:l})));let h;return s?h=await t.renderRows(e):h=await t.collectRows(e),{html:t.buildPageHtml(e),header:p,footer:c,offset:h}}async onRowsCollected(){}buildPageHtml(){const e=this,{subGrids:t}=e.exportMeta;let r=e.prepareExportElement();return Object.values(t).forEach(({placeHolder:o,rows:i,mergedCellsHtml:a})=>{const s=o.outerHTML;let n=i.reduce((d,l)=>(d+=l[0],d),"");a!=null&&a.length&&(n+=`<div class="b-grid-merged-cells-container">${a.join("")}</div>`),r=r.replace(s,n)}),r}prepareExportElement(){const e=this,{element:t,exportMeta:r}=e;return r.scrollableTopMargin&&(t.querySelector(".b-grid-vertical-scroller").style.marginTop=`-${r.scrollableTopMargin}px`),super.prepareExportElement()}}D.prototype.pagesExtractor=async function*(e){const t=this,{exportMeta:r,stylesheets:o}=t,{totalWidth:i,totalPages:a,paperWidth:s,paperHeight:n,contentHeight:d}=r;let l;for(;(l=r.currentPage)<a;){t.trigger("exportStep",{text:t.L(D.exportingPageText,{currentPage:l,totalPages:a}),progress:Math.round((l+1)/a*90)});const{html:u,header:p,footer:c,offset:h}=await t.buildPage(e),b=[...o,`
                <style>
                    #${e.client.id} {
                        height: ${r.exactGridHeight}px !important;
                        width: ${i}px !important;
                    }
                    .b-export-body .b-export-viewport {
                        margin-inline-start : ${-s*r.horizontalPosition}in;
                        margin-top  : ${r.currentPageTopMargin}px;
                    }
                </style>
            `];r.currentPageTopMargin-=d+h,await t.stateNextPage(e),yield{html:t.pageTpl({html:u,header:p,footer:c,styles:b,paperWidth:s,paperHeight:n})}}},D._$name="MultiPageExporter";class L extends z{static get $name(){return"MultiPageVerticalExporter"}static get type(){return"multipagevertical"}static get title(){return this.L("L{multipagevertical}")}static get exportingPageText(){return"L{exportingPage}"}async stateNextPage({client:e}){const{exportMeta:t}=this,{totalRows:r,processedRows:o,totalPages:i}=t;++t.currentPage,++t.verticalPosition,t.currentPage===i&&o.size!==r&&(++t.totalPages,++t.verticalPages)}estimateTotalPages(e){const t=this,{exportMeta:r}=t,{client:o,headerTpl:i,footerTpl:a,alignRows:s,rowsRange:n,repeatHeader:d,enableDirectRendering:l}=e,{pageWidth:u,pageHeight:p,totalWidth:c}=r,h=t.getScaleValue(u,c);let b=0-t.getVirtualScrollerHeight(o)+o.height-o.bodyElement.offsetHeight+o.scrollable.scrollHeight,f=p/h,m=o.store.count,g=0,R=b,v;if(i&&(f-=t.measureElement(i({totalWidth:c,totalPages:-1,currentPage:-1}))),a&&(f-=t.measureElement(a({totalWidth:c,totalPages:-1,currentPage:-1}))),d&&(f-=o.headerHeight+o.footerHeight,b-=o.headerHeight+o.footerHeight),n===C.visible){const x=o.rowManager,y=x.firstVisibleRow,H=x.lastVisibleRow;l||(g=y.top),m=t.getVisibleRowsCount(o),l?(b=o.headerHeight+o.footerHeight+H.bottom-y.top,R=H.bottom-y.top):R=b=b-o.scrollable.scrollHeight+H.bottom-y.top,r.lastRowIndex=y.dataIndex,r.finishRowIndex=H.dataIndex}else r.finishRowIndex=o.store.count-1;if(s&&!d&&n!==C.visible){const x=o.rowManager.rowOffsetHeight,y=Math.floor((f-o.headerHeight)/x),H=Math.floor(f/x),w=m-y;v=1+Math.ceil(w/H)}else v=Math.ceil(R/f);Object.assign(r,{scale:h,contentHeight:f,totalRows:m,totalHeight:b,verticalPages:v,initialScroll:g,horizontalPages:1,totalPages:v})}async prepareComponent(e){await super.prepareComponent(e);const t=this,{exportMeta:r}=t,{client:o}=e,i=G[e.paperFormat],a=e.orientation===F.portrait,s=a?i.width:i.height,n=a?i.height:i.width,d=t.inchToPx(s),l=t.inchToPx(n);Object.assign(r,{paperWidth:s,paperHeight:n,pageWidth:d,pageHeight:l,horizontalPages:1,currentPage:0,verticalPosition:0,horizontalPosition:0,currentPageTopMargin:0,lastTop:0,lastRowIndex:0,processedRows:new Set}),t.estimateTotalPages(e),e.enableDirectRendering||t.adjustRowBuffer(o)}async restoreComponent(e){await super.restoreComponent(e),e.enableDirectRendering||this.restoreRowBuffer(e.client)}async collectRows(e){const t=this,{exportMeta:r}=t,{client:o,alignRows:i,repeatHeader:a}=e,{subGrids:s,currentPageTopMargin:n,verticalPosition:d,totalRows:l,contentHeight:u}=r,p=a?0:o.headerHeight,{rowManager:c}=o,{rows:h}=c,b=e.rowsRange===C.visible,f=o.hasActiveFeature("mergeCells");let m=b?h.findIndex(w=>w.bottom>o.scrollable.y):h.findIndex(w=>w.bottom+n+p>0),g;const R=m,v=d===0?0:h[m].top+n+p;g=u-v,d===0&&(g-=p);let x,y=0;for(;g>0;){const w=h[m];i&&g<w.offsetHeight?(y=-g,g=0):(t.collectRow(w),g-=w.offsetHeight,g>0&&r.processedRows.add(w.dataIndex),x=w.dataIndex,(++m===h.length&&g>0||b&&m-R===l)&&(g=0))}if(f)for(const w in s){const E=s[w],S=o.subGrids[w].element.querySelectorAll(".b-grid-merged-cells");E.mergedCellsHtml=[];for(const A of S)E.mergedCellsHtml.push(A.outerHTML)}const H=h[m-1];if(H&&(r.exactGridHeight=H.bottom+o.footerContainer.offsetHeight+o.headerContainer.offsetHeight),await t.onRowsCollected(h.slice(R,m),e),b)r.scrollableTopMargin=o.scrollable.y;else{const w=c.ion({offsetRows:({offset:E})=>y+=E});await t.scrollRowIntoView(o,x+1),w()}return y}async renderRows(e){const t=this,{exportMeta:r}=t,{client:o,alignRows:i,repeatHeader:a}=e,{currentPageTopMargin:s,verticalPosition:n,totalRows:d,contentHeight:l,lastRowIndex:u,finishRowIndex:p,fakeRow:c}=r,h=a?0:o.headerHeight,{store:b}=o,f=o.hasActiveFeature("mergeCells"),m=e.rowsRange===C.visible;let g=u,{lastTop:R}=r,v;const x=g,y=n===0?0:R+s+h,H=[];v=l-y,n===0&&(v-=h);let w,E,S=0;for(;v>0;)c.render(g,b.getAt(g),!0,!1,!0),i&&v<c.offsetHeight?(S=-v,v=0):(E=R,w=g,R=c.translate(R),v-=c.offsetHeight,t.collectRow(c),H.push({top:c.top,bottom:c.bottom,offsetHeight:c.offsetHeight,dataIndex:c.dataIndex}),v>0&&r.processedRows.add(g),(g===p||++g-x===d&&m)&&(v=0));return f&&t.renderMergedCells(e,x,g,H),r.lastRowIndex=w,r.lastTop=E,c&&(r.exactGridHeight=c.bottom+o.footerContainer.offsetHeight+o.headerContainer.offsetHeight),await t.onRowsCollected(H,e),S}async buildPage(e){const t=this,{exportMeta:r}=t,{client:o,headerTpl:i,footerTpl:a,enableDirectRendering:s}=e,{totalWidth:n,totalPages:d,currentPage:l,subGrids:u}=r;Object.values(u).forEach(f=>f.rows=[]),e.rowsRange===C.all&&(r.totalHeight=o.headerHeight+o.footerHeight+o.scrollable.scrollHeight,s||(r.totalHeight-=t.getVirtualScrollerHeight(o)));let p,c,h;return i&&(p=t.prepareHTML(i({totalWidth:n,totalPages:d,currentPage:l}))),a&&(c=t.prepareHTML(a({totalWidth:n,totalPages:d,currentPage:l}))),s?h=await t.renderRows(e):h=await t.collectRows(e),{html:t.buildPageHtml(e),header:p,footer:c,offset:h}}async onRowsCollected(){}buildPageHtml(){const e=this,{subGrids:t}=e.exportMeta;let r=e.prepareExportElement();return Object.values(t).forEach(({placeHolder:o,rows:i,mergedCellsHtml:a})=>{const s=o.outerHTML;let n=i.reduce((d,l)=>(d+=l[0],d),"");a!=null&&a.length&&(n+=`<div class="b-grid-merged-cells-container">${a.join("")}</div>`),r=r.replace(s,n)}),r}}L.prototype.pagesExtractor=async function*(e){const t=this,{exportMeta:r,stylesheets:o}=t,{totalWidth:i,paperWidth:a,paperHeight:s,contentHeight:n,scale:d,initialScroll:l}=r;let{totalPages:u}=r,p;for(;(p=r.currentPage)<u;){t.trigger("exportStep",{text:t.L(L.exportingPageText,{currentPage:p,totalPages:u}),progress:Math.round((p+1)/u*90)});const{html:c,header:h,footer:b,offset:f}=await t.buildPage(e),m=[...o,`
                <style>
                    #${e.client.id} {
                        width: ${i}px !important;
                    }
                    .b-export .b-export-content {
                        transform: scale(${d});
                        transform-origin: top left;
                        height: auto;
                    }
                </style>
            `];if(e.repeatHeader){const g=r.exactGridHeight?`${r.exactGridHeight+r.currentPageTopMargin}px`:"100%";m.push(`
                <style>
                    #${e.client.id} {
                        height: ${g} !important;
                    }
                    .b-export .b-export-content {
                        height: ${100/d}%;
                    }
                    .b-export-body {
                        height: 100%;
                        display: flex;
                    }
                    .b-export-viewport {
                        height: 100%;
                    }
                    .b-grid-vertical-scroller {
                        margin-top: ${r.currentPageTopMargin-l}px;
                    }
                </style>
                `)}else{const g=r.exactGridHeight||n-r.currentPageTopMargin;m.push(`
                <style>
                    #${e.client.id} {
                        height: ${g}px !important;
                    }
                    .b-export-body {
                        overflow: hidden;
                    }
                    .b-export .b-export-content {
                        height: ${100/d}%;
                    }
                    .b-export-body .b-export-viewport {
                        margin-top: ${r.currentPageTopMargin}px;
                    }
                    .b-grid-vertical-scroller {
                        margin-top: -${l}px;
                    }
                </style>
                `)}r.currentPageTopMargin-=n+f,await t.stateNextPage(e),{totalPages:u}=r,yield{html:t.pageTpl({html:c,header:h,footer:b,styles:m,paperWidth:a,paperHeight:s})}}},L._$name="MultiPageVerticalExporter";class B extends z{static get $name(){return"SinglePageExporter"}static get type(){return"singlepage"}static get title(){return this.localize("L{singlepage}")}static get defaultConfig(){return{centerContentHorizontally:!1}}async prepareComponent(e){await super.prepareComponent(e),Object.assign(this.exportMeta,{verticalPages:1,horizontalPages:1,totalPages:1,currentPage:0,verticalPosition:0,horizontalPosition:0})}async onRowsCollected(){}positionRows(e,t){if(t.enableDirectRendering)return e.map(r=>r[0]);{let r=0;return e.map(([o,,i])=>{const a=o.replace(/translate\(\d+px, \d+px\)/,`translate(0px, ${r}px)`);return r+=i,a})}}async collectRows(e){const t=this,{client:r}=e,{rowManager:o,store:i}=r,a=r.hasActiveFeature("mergeCells"),{subGrids:s}=t.exportMeta,n=e.rowsRange===C.visible&&i.count?t.getVisibleRowsCount(r):i.count;let{totalHeight:d}=t.exportMeta,l=0,u=-1;if(o.rows.length>0){if(e.rowsRange===C.visible&&(u=o.firstVisibleRow.dataIndex-1),a)for(const p of Object.values(s))p.mergedCellsHtml=[];for(;l<n;){const p=o.rows,c=p[p.length-1],h=l;if(p.forEach(m=>{m.dataIndex>u&&l<n&&(++l,d+=m.offsetHeight,t.collectRow(m))}),a)for(const m in s){const g=s[m],R=r.subGrids[m].element.querySelectorAll(".b-grid-merged-cells");for(const v of R)g.mergedCellsHtml.push(v.outerHTML)}const b=p.findIndex(m=>m.dataIndex===u+1),f=b+(l-h);await t.onRowsCollected(p.slice(b,f),e),l<n&&(u=c.dataIndex,await t.scrollRowIntoView(r,u+1))}}return d}async renderRows(e){const t=this,{client:r,rowsRange:o}=e,{rowManager:i,store:a}=r,s=r.hasActiveFeature("mergeCells"),n=o===C.visible;let{totalHeight:d}=t.exportMeta;if(a.count){const{fakeRow:l}=t.exportMeta,{firstVisibleRow:u}=i,p=n?u.dataIndex:0,c=n?i.lastVisibleRow.dataIndex:a.count-1,h=[];let b=0;if(l.cells.length){for(let f=p;f<=c;f++)l.render(f,a.getAt(f),!0,!1,!0),b=l.translate(b),t.collectRow(l),h.push({top:l.top,bottom:l.bottom,offsetHeight:l.offsetHeight,dataIndex:l.dataIndex});await t.onRowsCollected(h,e)}d+=b,s&&t.renderMergedCells(e,p,c,h)}return d}buildPageHtml(e){const t=this,{subGrids:r}=t.exportMeta;let o=t.prepareExportElement();return Object.values(r).forEach(({placeHolder:i,rows:a,mergedCellsHtml:s})=>{const n=i.outerHTML;let d=t.positionRows(a,e).join("");s!=null&&s.length&&(d+=`<div class="b-grid-merged-cells-container">${s.join("")}</div>`),o=o.replace(n,d)}),o}}B.prototype.pagesExtractor=async function*(e){const t=this,{client:r}=e,{totalWidth:o}=t.exportMeta,i=t.stylesheets,a=e.orientation===F.portrait,s=G[e.paperFormat],n=a?s.width:s.height,d=a?s.height:s.width;let l,u,p;e.enableDirectRendering?(l=await t.renderRows(e),l+=r.headerHeight+r.footerHeight):(l=await t.collectRows(e),l+=r.height-r.bodyHeight);const c=t.buildPageHtml(e),h=l;if(e.headerTpl){u=t.prepareHTML(e.headerTpl({totalWidth:o}));const g=t.measureElement(u);l+=g}if(e.footerTpl){p=t.prepareHTML(e.footerTpl({totalWidth:o}));const g=t.measureElement(p);l+=g}const b=Math.min(1,t.getScaleValue(t.inchToPx(n),o)),f=Math.min(1,t.getScaleValue(t.inchToPx(d),l)),m=Math.min(b,f);i.push(`<style>
                #${r.id} {
                    height: ${h}px !important;
                    width: ${o}px !important;
                }
                .b-export-content {
                    ${t.centerContentHorizontally?"left: 50%;":""}
                    transform: scale(${m}) ${t.centerContentHorizontally?"translateX(-50%)":""};
                    transform-origin: top left;
                    height: ${m===1?"inherit":"auto !important"};
                }
            </style>`),le.isIE11&&i.push(`<style>
                .b-export-body {
                   min-height: ${h}px !important;
                }
         </style>`),yield{html:t.pageTpl({html:c,header:u,footer:p,styles:i,paperWidth:n,paperHeight:d})}},B._$name="SinglePageExporter";class q extends N{static get $name(){return"PdfExport"}static get configurable(){return{dialogClass:V,exportServer:void 0,exportDialog:{value:!0,$config:["lazy"]},fileName:null,fileFormat:"pdf",clientURL:null,paperFormat:"A4",orientation:"portrait",rowsRange:"all",alignRows:!1,repeatHeader:!1,keepRegionSizes:null,pagesPerRequest:0,exporterConfig:null,exporterType:"singlepage",exporters:[B,D,L],translateURLsToAbsolute:!0,keepPathName:!0,openAfterExport:!0,sendAsBinary:!1,openInNewTab:!1,headerTpl:null,footerTpl:null,fetchOptions:null,exportMask:"L{Generating pages}",exportProgressMask:"L{Waiting for response from server}",showErrorToast:!0,localizableProperties:["exportMask","exportProgressMask"],filterStyles:e=>e,enableDirectRendering:!0}}updateEnableDirectRendering(e){e||ne.deprecate("Grid","6.0.0","Indirect rendering is deprecated")}doDestroy(){var e;(e=this.exportDialog)===null||e===void 0||e.destroy(),this.exportersMap.forEach(t=>t.destroy()),super.doDestroy()}get currentExportPromise(){return this._currentExportPromise}set currentExportPromise(e){this._currentExportPromise=e}get exportersMap(){return this._exportersMap||(this._exportersMap=new Map)}getExporter(e={}){const t=this,{exportersMap:r}=t,{type:o}=e;let i;if(r.has(o))i=r.get(o),Object.assign(i,e);else{const a=this.exporters.find(s=>s.type===o);if(!a)throw new Error(`Exporter type ${o} is not found. Make sure you've configured it`);e=O.clone(e),delete e.type,i=new a(e),i.relayAll(t),r.set(o,i)}return i}buildExportConfig(e={}){const t=this,{client:r,exportServer:o,clientURL:i,fileFormat:a,fileName:s,paperFormat:n,rowsRange:d,alignRows:l,repeatHeader:u,keepRegionSizes:p,orientation:c,translateURLsToAbsolute:h,keepPathName:b,sendAsBinary:f,headerTpl:m,footerTpl:g,filterStyles:R,enableDirectRendering:v}=t;e.columns||(e.columns=r.columns.visibleColumns.filter(y=>y.exportable).map(y=>y.id));const x=O.assign({client:r,exportServer:o,clientURL:i,fileFormat:a,paperFormat:n,rowsRange:d,alignRows:l,repeatHeader:u,keepRegionSizes:p,orientation:c,translateURLsToAbsolute:h,keepPathName:b,sendAsBinary:f,headerTpl:m,footerTpl:g,enableDirectRendering:v,exporterType:t.exporterType,fileName:s||r.$$name},e);return x.columns=e.columns.slice(),x.exporterType!=="multipagevertical"&&(x.repeatHeader=!1),!("alignRows"in e)&&e.repeatHeader&&(x.alignRows=!0),x.exporterConfig=O.assign({type:x.exporterType,translateURLsToAbsolute:x.translateURLsToAbsolute,keepPathName:x.keepPathName,filterStyles:R},x.exporterConfig||{}),delete x.exporterType,delete x.translateURLsToAbsolute,delete x.keepPathName,x}async export(e={}){const t=this,{client:r,pagesPerRequest:o}=t;e=t.buildExportConfig(e);let i;if(r.trigger("beforePdfExport",{config:e})!==!1){r.isExporting=!0,r.mask(t.exportMask);try{const n=t.getExporter(e.exporterConfig);if(o===0){var a;const d=await n.export(e);if(t.isDestroying)return;(a=t.exportDialog)===null||a===void 0||a.close(),r.unmask(),t.trigger("exportStep",{progress:90,text:t.exportProgressMask,contentGenerated:!0});const l=t.receiveExportContent(d,e);t.toast=t.showLoadingToast(l);const u=await l;i={response:u},await t.processExportContent(u,e)}}catch(n){throw n instanceof Response?i={response:n}:i={error:n},n}finally{if(t.toast&&!t.toast.isDestroying&&t.toast.hide(),!t.isDestroying){var s;(s=t.exportDialog)===null||s===void 0||s.close(),r.unmask(),t.showErrorToast&&(i.error?i.error.name!=="AbortError"&&k.show({html:t.L("L{Export failed}"),rootElement:t.rootElement}):i.response.ok||k.show({html:t.L("L{Server error}"),rootElement:t.rootElement})),r.trigger("pdfExport",i),r.isExporting=!1}}}return i}receiveExportContent(e,t){return de.fetch(t.exportServer,Object.assign({method:"POST",credentials:"omit",headers:{"Content-Type":"application/json"},body:JSON.stringify({html:e,orientation:t.orientation,format:t.paperFormat,fileFormat:t.fileFormat,fileName:t.fileName,clientURL:t.clientURL,sendAsBinary:t.sendAsBinary})},this.fetchOptions))}async processExportContent(e,t){const r=this;if(e.ok&&r.openAfterExport){e=e.clone();const o=e.headers.get("content-type");if(o.match(/application\/octet-stream/)){const i=ce[t.fileFormat],a=await r.responseBlobToObjectURL(e,i);r.getDownloadLink(t.fileName,a).click()}else if(o.match(/application\/json/)){const i=await e.json();i.success?r.getDownloadLink(t.fileName,i.url).click():k.show({html:i.msg,rootElement:this.rootElement})}}}async responseBlobToObjectURL(e,t){const r=await e.blob();return URL.createObjectURL(r.slice(0,r.size,t))}getDownloadLink(e,t){const r=document.createElement("a");return r.download=e,r.href=t,this.openInNewTab&&(r.target="_blank"),r}get defaultExportDialogConfig(){return O.copyProperties({},this,["client","exporters","exporterType","orientation","fileFormat","paperFormat","alignRows","rowsRange","repeatHeader"])}changeExportDialog(e,t){const r=this;if(t==null||t.destroy(),e){const o=r.dialogClass.mergeConfigs({rootElement:r.rootElement,client:r.client,items:{rowsRangeField:{value:r.rowsRange},exporterTypeField:{value:r.exporterType},orientationField:{value:r.orientation},paperFormatField:{value:r.paperFormat},repeatHeaderField:{value:r.repeatHeader},fileFormatField:{value:r.fileFormat},alignRowsField:{checked:r.alignRows}}},r.defaultExportDialogConfig,e);e=r.dialogClass.new(o),e.ion({export:r.onExportButtonClick,thisObj:r})}return e}async showExportDialog(){return this.exportDialog.show()}onExportButtonClick({values:e}){const t=this,r=t.exportDialog.mask({progress:0,maxProgress:100,text:t.exportMask}),o=t.ion({exportstep({progress:i,text:a,contentGenerated:s}){s?(t.exportDialog.unmask(),o()):(r.progress=i,a!=null&&(r.text=a))}});t.currentExportPromise=t.export(e),t.currentExportPromise.catch(()=>{}).finally(()=>{var i;o(),(i=t.exportDialog)===null||i===void 0||i.unmask(),t.currentExportPromise=null})}showLoadingToast(e){const t=k.show({timeout:0,showProgress:!1,rootElement:this.rootElement,html:`
    <span class="b-mask-icon b-icon b-icon-spinner"></span>
    <span>${this.exportProgressMask}</span>
    <button class="b-button">${this.L("L{Click to abort}")}</button>`});return pe.on({element:t.element,click(){var r;(r=e.abort)===null||r===void 0||r.call(e)}}),t}}q._$name="PdfExport",j.registerFeature(q,!1,"Grid");export{V as ExportDialog,U as ExportOrientationCombo,_ as ExportRowsCombo,D as MultiPageExporter,L as MultiPageVerticalExporter,q as PdfExport,T as RowReorder,B as SinglePageExporter,$ as Summary,X as SummaryFormatter};
//# sourceMappingURL=PdfExport.js.map
