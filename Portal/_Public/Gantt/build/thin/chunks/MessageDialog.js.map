{"version":3,"file":"MessageDialog.js","sources":["../../../../Core/lib/Core/helper/mixin/DragHelperContainer.js","../../../../Core/lib/Core/helper/mixin/DragHelperTranslate.js","../../../../Core/lib/Core/helper/DragHelper.js","../../../../Core/lib/Core/helper/ResizeHelper.js","../../../../Core/lib/Core/helper/WidgetHelper.js","../../../../Core/lib/Core/helper/util/Formatter.js","../../../../Core/lib/Core/helper/util/NumberFormat.js","../../../../Core/lib/Core/mixin/Clipboardable.js","../../../../Core/lib/Core/util/Month.js","../../../../Core/lib/Core/widget/ButtonGroup.js","../../../../Core/lib/Core/widget/CalendarPanel.js","../../../../Core/lib/Core/widget/YearPicker.js","../../../../Core/lib/Core/widget/DisplayField.js","../../../../Core/lib/Core/widget/DatePicker.js","../../../../Core/lib/Core/widget/DateField.js","../../../../Core/lib/Core/widget/NumberField.js","../../../../Core/lib/Core/widget/TimePicker.js","../../../../Core/lib/Core/widget/TimeField.js","../../../../Core/lib/Core/widget/DurationField.js","../../../../Core/lib/Core/widget/FieldFilterPicker.js","../../../../Core/lib/Core/widget/Label.js","../../../../Core/lib/Core/widget/FieldFilterPickerGroup.js","../../../../Core/lib/Core/widget/MessageDialog.js"],"sourcesContent":["import Base from '../../Base.js';\nimport GlobalEvents from '../../GlobalEvents.js';\nimport DomHelper from '../../helper/DomHelper.js';\nimport Rectangle from '../../helper/util/Rectangle.js';\n\n// <remove-on-release>\n// TODO: Use mousedown pos and not center too reposition\n// </remove-on-release>\n\n/**\n * @module Core/helper/mixin/DragHelperContainer\n */\n\n/**\n * Mixin for DragHelper that handles dragging elements between containers (or rearranging within)\n *\n * @mixin\n * @private\n */\nexport default Target => class DragHelperContainer extends (Target || Base) {\n    static get $name() {\n        return 'DragHelperContainer';\n    }\n\n    //region Init\n\n    /**\n     * Initialize container drag mode.\n     * @private\n     */\n    initContainerDrag() {\n        const me = this;\n        //use container drag as default mode\n        if (!me.mode) {\n            me.mode = 'container';\n        }\n        if (me.mode === 'container' && !me.containers) {\n            throw new Error('Container drag mode must specify containers');\n        }\n    }\n\n    //endregion\n\n    //region Grab, update, finish\n\n    /**\n     * Grab an element which can be dragged between containers.\n     * @private\n     * @param event\n     * @returns {Boolean}\n     */\n    grabContainerDrag(event) {\n        const me = this;\n\n        // allow specified selectors to prevent drag\n        if (!me.ignoreSelector || !event.target.closest(me.ignoreSelector)) {\n            // go up from \"handle\" to draggable element\n            const element = DomHelper.getAncestor(event.target, me.containers, me.outerElement);\n\n            if (element) {\n                const box = element.getBoundingClientRect();\n\n                me.context = {\n                    element,\n                    valid            : true,\n                    action           : 'container',\n                    offsetX          : event.pageX - box.left,\n                    offsetY          : event.pageY - box.top,\n                    originalPosition : {\n                        parent : element.parentElement,\n                        prev   : element.previousElementSibling,\n                        next   : element.nextElementSibling\n                    }\n                };\n            }\n\n            return true;\n        }\n\n        return false;\n    }\n\n    startContainerDrag(event) {\n        const\n            me                          = this,\n            { context, floatRootOwner } = me,\n            { element : dragElement }   = context,\n            clonedNode                  = dragElement.cloneNode(true),\n            outerWidgetEl               = floatRootOwner?.element.closest('.b-outer');\n\n        // init drag proxy\n        clonedNode.classList.add(me.dragProxyCls, me.draggingCls);\n\n        // Append drag proxy to float root, fall back to root context node\n        (floatRootOwner?.floatRoot || DomHelper.getRootElement(dragElement)).appendChild(clonedNode);\n        context.dragProxy = clonedNode;\n\n        // style dragged element\n        context.dragging = dragElement;\n        dragElement.classList.add(me.dropPlaceholderCls);\n\n        // If element being dragged is also a child of the float root, add +1 to the cloned node z-index\n        if (outerWidgetEl?.parentElement?.matches('.b-float-root')) {\n            clonedNode.style.zIndex = floatRootOwner.floatRootMaxZIndex + 1;\n        }\n    }\n\n    onContainerDragStarted(event) {\n        const\n            me                                   = this,\n            { context }                          = me,\n            { element : dragElement, dragProxy } = context,\n            box                                  = dragElement.getBoundingClientRect();\n\n        // Always set the proxy element width manually, drag target could be sized with flex or % width\n        if (me.autoSizeClonedTarget) {\n            dragProxy.style.width  = box.width + 'px';\n            dragProxy.style.height = box.height + 'px';\n            DomHelper.setTranslateXY(context.dragProxy, box.left, box.top);\n        }\n        else {\n            const proxyBox = dragProxy.getBoundingClientRect();\n\n            Object.assign(context, {\n                offsetX : proxyBox.width / 2,\n                offsetY : proxyBox.height / 2\n            });\n            DomHelper.setTranslateXY(dragProxy, event.clientX, event.clientY);\n        }\n    }\n\n    /**\n     * Move the placeholder element into its new position on valid drag.\n     * @private\n     * @param event\n     */\n    updateContainerDrag(event) {\n        const\n            me          = this,\n            { context } = me;\n\n        if (!context.started || !context.targetElement) {\n            return;\n        }\n\n        const\n            containerElement = DomHelper.getAncestor(context.targetElement, me.containers, 'b-gridbase'),\n            willLoseFocus    = context.dragging?.contains(DomHelper.getActiveElement(context.dragging));\n\n        if (containerElement && DomHelper.isDescendant(context.element, containerElement)) {\n            // dragging over part of self, do nothing\n            return;\n        }\n\n        // The dragging element contains focus, and moving it within the DOM\n        // will cause focus loss which might affect an encapsulating autoClose Popup.\n        // Prevent focus loss handling during the DOM move.\n        if (willLoseFocus) {\n            GlobalEvents.suspendFocusEvents();\n        }\n        if (containerElement && context.valid) {\n            me.moveNextTo(containerElement, event);\n        }\n        else {\n            // dragged outside of containers, revert position\n            me.revertPosition();\n        }\n        if (willLoseFocus) {\n            GlobalEvents.resumeFocusEvents();\n        }\n\n        event.preventDefault();\n    }\n\n    /**\n     * Finalize drag, fire drop.\n     * @private\n     * @param event\n     * @fires drop\n     */\n    finishContainerDrag(event) {\n        const\n            me          = this,\n            { context } = me,\n            // extracting variables to make code more readable\n            { dragging, dragProxy, valid, draggedTo, insertBefore, originalPosition } = context;\n\n        if (dragging) {\n            // needs to have a valid target\n            context.valid = Boolean(valid && (draggedTo || me.externalDropTargetSelector && event.target.closest(me.externalDropTargetSelector))  &&\n                    // no drop on self or parent\n                    (dragging !== insertBefore || originalPosition.parent !== draggedTo));\n\n            context.finalize = (valid = context.valid) => {\n                // revert if invalid (and context still exists, might have been aborted from outside)\n                if (!valid && me.context) {\n                    me.revertPosition();\n                }\n\n                dragging.classList.remove(me.dropPlaceholderCls);\n                dragProxy.remove();\n\n                me.reset();\n            };\n\n            // allow async finalization by setting async to true on context in drop handler,\n            // requires implementer to call context.finalize later to finish the drop\n            context.async = false;\n\n            me.trigger('drop', { context, event });\n\n            if (!context.async) {\n                // finalize immediately\n                context.finalize();\n            }\n        }\n    }\n\n    /**\n     * Aborts a drag operation.\n     * @private\n     * @param {Boolean} [invalid]\n     * @param {Object} [event]\n     * @param {Boolean} [silent]\n     */\n    abortContainerDrag(invalid = false, event = null, silent = false) {\n        const\n            me          = this,\n            { context } = me;\n\n        if (context.dragging) {\n            context.dragging.classList.remove(me.dropPlaceholderCls);\n            context.dragProxy.remove();\n\n            me.revertPosition();\n        }\n\n        if (!silent) {\n            me.trigger(invalid ? 'drop' : 'abort', { context, event });\n        }\n\n        me.reset();\n    }\n\n    //endregion\n\n    //region Helpers\n\n    /**\n     * Updates the drag proxy position.\n     * @private\n     * @param event\n     */\n    updateContainerProxy(event) {\n        const\n            me          = this,\n            { context } = me,\n            proxy       = context.dragProxy;\n\n        let newX = event.pageX - context.offsetX,\n            newY = event.pageY - context.offsetY;\n\n        if (typeof me.minX === 'number') {\n            newX = Math.max(me.minX, newX);\n        }\n\n        if (typeof me.maxX === 'number') {\n            newX = Math.min(me.maxX - proxy.offsetWidth, newX);\n        }\n\n        if (typeof me.minY === 'number') {\n            newY = Math.max(me.minY, newY);\n        }\n\n        if (typeof me.maxY === 'number') {\n            newY = Math.min(me.maxY  - proxy.offsetHeight, newY);\n        }\n\n        if (me.lockX) {\n            DomHelper.setTranslateY(proxy, newY);\n        }\n        else if (me.lockY) {\n            DomHelper.setTranslateX(proxy, newX);\n        }\n        else {\n            DomHelper.setTranslateXY(proxy, newX, newY);\n        }\n\n        let targetElement;\n\n        if (event.type === 'touchmove') {\n            const touch = event.changedTouches[0];\n            targetElement = DomHelper.elementFromPoint(touch.clientX, touch.clientY);\n        }\n        else {\n            targetElement = event.target;\n        }\n\n        context.targetElement = targetElement;\n    }\n\n    /**\n     * Positions element being dragged in relation to targetElement.\n     * @private\n     * @param targetElement\n     * @param event\n     */\n    moveNextTo(targetElement, event) {\n        const\n            { context } = this,\n            dragElement = context.dragging,\n            parent      = targetElement.parentElement;\n\n        if (targetElement !== dragElement) {\n            // dragged over a container and not over self, calculate where to insert\n\n            const centerX = Rectangle.from(targetElement).center.x;\n\n            if ((this.isRTL && event.pageX > centerX) || (!this.isRTL && event.pageX < centerX)) {\n                // dragged left of target center, insert before\n                parent.insertBefore(dragElement, targetElement);\n                context.insertBefore = targetElement;\n            }\n            else {\n                // dragged right of target center, insert after\n                if (targetElement.nextElementSibling) {\n                    // check that not dragged to the immediate left of self. in such case, position should not change\n                    if (targetElement.nextElementSibling !== dragElement) {\n                        context.insertBefore = targetElement.nextElementSibling;\n                        parent.insertBefore(dragElement, targetElement.nextElementSibling);\n                    }\n                    else if (!context.insertBefore && dragElement.parentElement.lastElementChild !== dragElement) {\n                        // <remove-on-release>\n                        // TODO: or flag as invalid drag? since no change...\n                        // </remove-on-release>\n                        // dragged left initially, should stay in place (checked in finishContainerDrag)\n                        context.insertBefore = targetElement.nextElementSibling;\n                    }\n                }\n                else {\n                    parent.appendChild(dragElement);\n                    context.insertBefore = null;\n                }\n            }\n\n            context.draggedTo = parent;\n        }\n    }\n\n    /**\n     * Moves element being dragged back to its original position.\n     * @private\n     */\n    revertPosition() {\n        const\n            { context }      = this,\n            { dragging }     = context,\n            { parent, next } = context.originalPosition;\n\n        // revert to correct location\n        if (next) {\n            const isNoop = next.previousSibling === dragging || (!next && dragging === parent.lastChild);\n\n            if (!isNoop) {\n                parent.insertBefore(dragging, next);\n            }\n        }\n        else {\n            parent.appendChild(dragging);\n        }\n\n        // no target container\n        context.draggedTo = null;\n    }\n\n    //endregion\n};\n","import Base from '../../Base.js';\nimport DomHelper from '../DomHelper.js';\nimport EventHelper from '../EventHelper.js';\nimport Delayable from '../../mixin/Delayable.js';\nimport Rectangle from '../util/Rectangle.js';\n\n/**\n * @module Core/helper/mixin/DragHelperTranslate\n */\n\nconst noScroll = { pageXOffset : 0, pageYOffset : 0 };\n\n/**\n * Mixin for DragHelper that handles repositioning (translating) an element within its container\n *\n * @mixin\n * @private\n */\nexport default Target => class DragHelperTranslate extends Delayable(Target || Base) {\n    static get $name() {\n        return 'DragHelperTranslate';\n    }\n\n    static get configurable() {\n        return {\n            positioning : null,\n\n            // Private config that disables updating elements position, for when data is live updated during drag,\n            // leading to element being redrawn\n            skipUpdatingElement : null\n        };\n    }\n\n    //region Init\n\n    /**\n     * Initialize translation drag mode.\n     * @private\n     */\n    initTranslateDrag() {\n        const me = this;\n\n        if (!me.isElementDraggable && me.targetSelector) {\n            me.isElementDraggable = element => element.closest(me.targetSelector);\n        }\n    }\n\n    //endregion\n\n    //region Grab, update, finish\n\n    /**\n     * Grab an element which can be moved using translation.\n     * @private\n     * @param event\n     * @returns {Boolean}\n     */\n    grabTranslateDrag(event) {\n        const element = this.getTarget(event);\n\n        if (element) {\n            this.context = {\n                valid : true,\n                element,\n\n                startPageX   : event.pageX,\n                startPageY   : event.pageY,\n                startClientX : event.clientX,\n                startClientY : event.clientY\n            };\n\n            return true;\n        }\n\n        return false;\n    }\n\n    getTarget(event) {\n        return event.target.closest(this.targetSelector);\n    }\n\n    getX(element) {\n        if (this.positioning === 'absolute') {\n            // Read left style rather than offsetLeft as it is impacted by margin-left style (Gantt milestones)\n            return parseFloat(element.style.left, 10);\n        }\n        else {\n            return DomHelper.getTranslateX(element);\n        }\n    }\n\n    getY(element) {\n        if (this.positioning === 'absolute') {\n            return parseFloat(element.style.top, 10);\n        }\n        else {\n            return DomHelper.getTranslateY(element);\n        }\n    }\n\n    getXY(element) {\n        if (this.positioning === 'absolute') {\n            return [element.offsetLeft, element.offsetTop];\n        }\n        else {\n            return DomHelper.getTranslateXY(element);\n        }\n    }\n\n    setXY(element, x, y) {\n        if (this.skipUpdatingElement) {\n            return;\n        }\n\n        if (this.positioning === 'absolute') {\n            element.style.left = x + 'px';\n            element.style.top  = y + 'px';\n        }\n        else {\n            DomHelper.setTranslateXY(element, x, y);\n        }\n    }\n\n    /**\n     * Start translating, called on first mouse move after dragging\n     * @private\n     * @param event\n     */\n    startTranslateDrag(event) {\n        const\n            me                                       = this,\n            { context, outerElement, proxySelector } = me,\n            // When cloning an element to be dragged, we place it in BODY by default\n            dragWithin                               = me.dragWithin = me.dragWithin || (me.cloneTarget && document.body);\n\n        let element = context.dragProxy || context.element;\n\n        const\n            grabbed       = element,\n            grabbedParent = element.parentElement;\n\n        if (me.cloneTarget) {\n            const\n                elementToClone                            = proxySelector ? element.querySelector(proxySelector) : element,\n                { width, height, x : proxyX, y : proxyY } = Rectangle.from(elementToClone, dragWithin);\n\n            element = me.createProxy(element);\n\n            let x = proxyX, y = proxyY;\n\n            // Match the grabbed element's size and position.\n            if (me.autoSizeClonedTarget) {\n                element.style.width  = `${width}px`;\n                element.style.height = `${height}px`;\n            }\n\n            element.classList.add(me.dragProxyCls, me.draggingCls);\n            // Remove some irrelevant CSS classes\n            element.classList.remove('b-hover', 'b-selected', 'b-focused');\n\n            dragWithin.appendChild(element);\n\n            if (!me.autoSizeClonedTarget || proxySelector) {\n                const\n                    // Center proxy at cursor position, we assume app is applying styles to the element (inline or CSS)\n                    proxyRect                            = element.getBoundingClientRect(),\n                    { x : dragWithinX, y : dragWithinY } = dragWithin.getBoundingClientRect(),\n                    localX                               = event.clientX - dragWithinX,\n                    // Body may have a non-zero top\n                    localY                               = event.clientY - dragWithinY + (dragWithin !== document.body ? document.body.getBoundingClientRect().y : 0);\n\n                x = localX - (proxyRect.width / 2);\n                y = localY - (proxyRect.height / 2);\n\n                // When proxy is centered, update to not use original mousedown coordinates, but the first mouse move triggering the drag\n                context.startPageX = event.pageX;\n                context.startPageY = event.pageY;\n            }\n\n            me.setXY(element, x, y);\n\n            grabbed.classList.add('b-drag-original');\n\n            if (me.hideOriginalElement) {\n                grabbed.classList.add('b-hidden');\n            }\n        }\n\n        element.classList.add(me.draggingCls);\n\n        Object.assign(context, {\n            // The element which we're moving, could be a cloned version of grabbed, or the grabbed element itself\n            element,\n\n            // The original element upon which the mousedown event triggered a drag operation\n            grabbed,\n\n            // The parent of the original element where the pointerdown was detected - to be able to restore after an invalid drop\n            grabbedParent,\n\n            // The next sibling of the original element where the pointerdown was detected - to be able to restore after an invalid drop\n            grabbedNextSibling : element.nextElementSibling,\n\n            // elements position within parent element\n            elementStartX : me.getX(element),\n            elementStartY : me.getY(element),\n            elementX      : DomHelper.getOffsetX(element, dragWithin || outerElement),\n            elementY      : DomHelper.getOffsetY(element, dragWithin || outerElement),\n\n            scrollX : 0,\n            scrollY : 0,\n\n            scrollManagerElementContainsDragProxy : !me.cloneTarget || dragWithin === outerElement\n        });\n\n        if (dragWithin) {\n            context.parentElement = element.parentElement;\n\n            if (dragWithin !== element.parentElement) {\n                dragWithin.appendChild(element);\n            }\n            me.updateTranslateProxy(event);\n        }\n    }\n\n    // When drag has started, create proxy versions (if applicable) and store original positions of all related elements\n    // to be able to animate back to these positions in case of an aborted drag\n    onTranslateDragStarted() {\n        const\n            me          = this,\n            { context } = me;\n\n        let { relatedElements } = context;\n\n        // For unified proxy mode - add a CSS class to the 'main' dragging element to be able to have it be on top of related elements with z-index\n        if (me.unifiedProxy) {\n            context.element.classList.add('b-drag-main', 'b-drag-unified-proxy');\n        }\n\n        if (relatedElements?.length > 0) {\n            context.relatedElStartPos    = [];\n            context.relatedElDragFromPos = [];\n\n            const { proxySelector } = me;\n\n            let [elementStartX, elementStartY] = [context.elementStartX, context.elementStartY];\n\n            // Store reference to original elements (may need cleanup to remove CSS classes after drop)\n            context.originalRelatedElements = relatedElements;\n            // Create clone proxy elements of all related elements\n            relatedElements                 = context.relatedElements = relatedElements.map((relatedEl, i) => {\n                const\n                    proxyTemplateElement    = proxySelector ? relatedEl.querySelector(proxySelector) : relatedEl,\n                    { x, y, width, height } = Rectangle.from(proxyTemplateElement, me.dragWithin),\n                    relatedElementToDrag    = me.cloneTarget ? me.createProxy(relatedEl) : relatedEl;\n\n                relatedElementToDrag.classList.add(me.draggingCls);\n                // Remove some irrelevant CSS classes\n                relatedElementToDrag.classList.remove('b-hover', 'b-selected', 'b-focused');\n\n                if (me.cloneTarget) {\n                    // Match the original related element's position.\n                    me.setXY(relatedElementToDrag, x, y);\n                    me.dragWithin.appendChild(relatedElementToDrag);\n                    relatedElementToDrag.classList.add(me.dragProxyCls);\n\n                    // Optionally also match the original related element's size\n                    if (me.autoSizeClonedTarget) {\n                        relatedElementToDrag.style.width  = `${width}px`;\n                        relatedElementToDrag.style.height = `${height}px`;\n                    }\n\n                    if (me.hideOriginalElement) {\n                        relatedEl.classList.add('b-hidden');\n                    }\n                    relatedEl.classList.add('b-drag-original');\n                }\n\n                context.relatedElStartPos[i] = context.relatedElDragFromPos[i] = me.getXY(relatedElementToDrag);\n\n                if (me.unifiedProxy) {\n                    relatedElementToDrag.classList.add('b-drag-unified-animation', 'b-drag-unified-proxy');\n                    // Move into cascade and cache the dragFrom pos\n                    elementStartX += me.unifiedOffset;\n                    elementStartY += me.unifiedOffset;\n                    me.setXY(relatedElementToDrag, elementStartX, elementStartY);\n                    context.relatedElDragFromPos[i]   = [elementStartX, elementStartY];\n                    relatedElementToDrag.style.zIndex = 100 - i;\n                }\n\n                return relatedElementToDrag;\n            });\n\n            // Move the selected events into a unified cascade.\n            if (me.unifiedProxy && relatedElements && relatedElements.length > 0) {\n                // Animate related elements should into the position\n                EventHelper.onTransitionEnd({\n                    element  : relatedElements[0],\n                    property : 'transform',\n                    handler() {\n                        relatedElements.forEach(el => el.classList.remove('b-drag-unified-animation'));\n                    },\n                    thisObj : me,\n                    once    : true\n                });\n            }\n        }\n    }\n\n    /**\n     * Limit translation to outer bounds and specified constraints\n     * @private\n     * @param element\n     * @param x\n     * @param y\n     * @returns {{constrainedX: *, constrainedY: *}}\n     */\n    applyConstraints(element, x, y) {\n        const\n            me                           = this,\n            { constrain, dragWithin }    = me,\n            { pageXOffset, pageYOffset } = dragWithin === document.body ? globalThis : noScroll;\n\n        // limit to outer elements edges\n        if (dragWithin && constrain) {\n            if (x < 0) {\n                x = 0;\n            }\n            if (x + element.offsetWidth > dragWithin.scrollWidth) {\n                x = dragWithin.scrollWidth - element.offsetWidth;\n            }\n\n            if (y < 0) {\n                y = 0;\n            }\n            if (y + element.offsetHeight > dragWithin.scrollHeight) {\n                y = dragWithin.scrollHeight - element.offsetHeight;\n            }\n        }\n\n        // limit horizontally\n        if (typeof me.minX === 'number') {\n            x = Math.max(me.minX + pageXOffset, x);\n        }\n        if (typeof me.maxX === 'number') {\n            x = Math.min(me.maxX + pageXOffset, x);\n        }\n\n        // limit vertically\n        if (typeof me.minY === 'number') {\n            y = Math.max(me.minY + pageYOffset, y);\n        }\n        if (typeof me.maxY === 'number') {\n            y = Math.min(me.maxY + pageYOffset, y);\n        }\n\n        return { constrainedX : x, constrainedY : y };\n    }\n\n    /**\n     * Update elements translation on mouse move.\n     * @private\n     * @param {MouseEvent} event\n     * @param {Object} scrollManagerConfig\n     */\n    updateTranslateProxy(event, scrollManagerConfig) {\n        const\n            me                                        = this,\n            { lockX, lockY, context }                 = me,\n            element                                   = context.dragProxy || context.element,\n            { relatedElements, relatedElDragFromPos } = context;\n\n        // If we are cloning the dragged element outside of the element(s) monitored by the ScrollManager, then no need\n        // to take the scrollManager scroll values into account since it is only relevant when dragProxy is inside\n        // the Grid (where scroll manager operates).\n        if (context.scrollManagerElementContainsDragProxy && scrollManagerConfig) {\n            context.scrollX = scrollManagerConfig.getRelativeLeftScroll(element);\n            context.scrollY = scrollManagerConfig.getRelativeTopScroll(element);\n        }\n\n        context.pageX   = event.pageX;\n        context.pageY   = event.pageY;\n        context.clientX = event.clientX;\n        context.clientY = event.clientY;\n\n        let\n            newX = context.elementStartX + event.pageX - context.startPageX + context.scrollX,\n            newY = context.elementStartY + event.pageY - context.startPageY + context.scrollY;\n\n        // First let outside world apply snapping\n        if (me.snapCoordinates) {\n            const snapped = me.snapCoordinates({ element, newX, newY });\n\n            newX = snapped.x;\n            newY = snapped.y;\n        }\n\n        // Now constrain coordinates\n        const { constrainedX, constrainedY } = me.applyConstraints(element, newX, newY);\n\n        if (context.started || constrainedX !== newX || constrainedY !== newY) {\n            me.setXY(element, lockX ? undefined : constrainedX, lockY ? undefined : constrainedY);\n        }\n\n        if (relatedElements) {\n            const\n                deltaX = lockX ? 0 : constrainedX - context.elementStartX,\n                deltaY = lockY ? 0 : constrainedY - context.elementStartY;\n\n            relatedElements.forEach((r, i) => {\n                const [x, y] = relatedElDragFromPos[i];\n\n                me.setXY(r, x + deltaX, y + deltaY);\n            });\n        }\n\n        context.newX = constrainedX;\n        context.newY = constrainedY;\n    }\n\n    /**\n     * Finalize drag, fire drop.\n     * @private\n     * @param event\n     * @fires drop\n     */\n    async finishTranslateDrag(event) {\n        const\n            me                  = this,\n            context             = me.context,\n            { target }          = event,\n            xChanged            = !me.lockX && Math.round(context.newX) !== Math.round(context.elementStartX),\n            yChanged            = !me.lockY && Math.round(context.newY) !== Math.round(context.elementStartY),\n            element             = context.dragProxy || context.element,\n            { relatedElements } = context;\n\n        if (!me.ignoreSamePositionDrop || xChanged || yChanged) {\n            if (context.valid === false) {\n                await me.abortTranslateDrag(true, event);\n            }\n            else  {\n                const targetRect = !me.allowDropOutside && Rectangle.from(me.dragWithin || me.outerElement);\n\n                if (targetRect && ((typeof me.minX !== 'number' && me.minX !== true && (event.pageX < targetRect.left)) ||\n                    (typeof me.maxX !== 'number' && me.maxX !== true && (event.pageX > targetRect.right)) ||\n                    (typeof me.minY !== 'number' && me.minY !== true && (event.pageY < targetRect.top)) ||\n                    (typeof me.maxY !== 'number' && me.maxY !== true && (event.pageY > targetRect.bottom)))) {\n                    // revert location when dropped outside allowed element\n                    await me.abortTranslateDrag(true, event);\n                }\n                else {\n                    context.finalize = async(valid = context.valid) => {\n                        // In case someone tries to finalize twice\n                        if (context.finalized) {\n                            console.warn('DragHelper: Finalizing already finalized drag');\n                            return;\n                        }\n\n                        context.finalized = true;\n\n                        // abort if invalid (and context still exists, might have been aborted from outside)\n                        if (!valid && me.context) {\n                            // abort if flagged as invalid, without triggering abort or drop again\n                            await me.abortTranslateDrag(true, null, true);\n                        }\n\n                        if (!me.isDestroyed) {\n                            me.trigger('dropFinalized', { context, event, target });\n                            me.reset();\n                        }\n\n                        if (!me.cloneTarget && element.parentElement !== context.grabbedParent) {\n                            // If the dragged element was moved to another parent element, remove the transform style\n                            [element, ...(relatedElements || [])].forEach(el => el.style.transform = '');\n\n                        }\n                    };\n\n                    // allow async finalization by setting async to true on context in drop handler,\n                    // requires implementer to call context.finalize later to finish the drop\n                    context.async = false;\n\n                    await me.trigger('drop', { context, event, target });\n\n                    if (!context.async) {\n                        // finalize immediately\n                        await context.finalize();\n                    }\n                }\n            }\n        }\n        else {\n            // no change, abort\n            me.abortTranslateDrag(false, event);\n        }\n    }\n\n    /**\n     * Abort translation\n     * @private\n     * @param invalid\n     * @fires abort\n     */\n    async abortTranslateDrag(invalid = false, event = null, silent = false) {\n        const\n            me                                              = this,\n            {\n                cloneTarget,\n                context,\n                proxySelector,\n                dragWithin,\n                draggingCls\n            }                                               = me,\n            { relatedElements, relatedElStartPos, grabbed } = context,\n            element                                         = context.dragProxy || context.element;\n\n        context.valid = false;\n\n        me.scrollManager?.stopMonitoring();\n\n        if (context.aborted) {\n            console.warn('DragHelper: Aborting already aborted drag');\n            return;\n        }\n\n        let { elementStartX, elementStartY } = context;\n        const proxyMoved = elementStartX !== me.getX(element) ||\n                elementStartY !== me.getY(element);\n\n        if (element && context.started) {\n            // Put the dragged element back where it was\n            if (!cloneTarget && dragWithin && dragWithin !== context.grabbedParent) {\n                context.grabbedParent.insertBefore(element, context.grabbedNextSibling);\n            }\n\n            // Align the now visible grabbed element with the clone, so that it looks like it's\n            // sliding back into place when the clone is removed\n            if (cloneTarget) {\n                if (proxySelector) {\n                    const\n                        animateTo = grabbed.querySelector(proxySelector) || grabbed,\n                        { x, y }  = Rectangle.from(animateTo);\n\n                    elementStartX = x;\n                    elementStartY = y;\n                }\n\n                // <remove-on-release>\n                // TODO:\n                // if (me.hideOriginalElement) {\n                //     [elementStartX, elementStartY] = DomHelper.getTranslateXY(grabbed);\n                //     DomHelper.alignTo(grabbed, element);\n                //\n                //     // The getBoundingClientRect is important. The aligning above must be processed\n                //     // by a forced synchronous layout *before* the b-aborting class is added below.\n                //     me.grabbed.getBoundingClientRect();\n                // }\n                // </remove-on-release>\n            }\n\n            // animated restore of position.\n            element.classList.add('b-aborting');\n\n            // Move the main element back to its original position.\n            me.setXY(element, elementStartX, elementStartY);\n\n            // Move any related elements back to their original positions.\n            relatedElements?.forEach((element, i) => {\n                element.classList.remove(draggingCls);\n                element.classList.add('b-aborting');\n\n                me.setXY(element, relatedElStartPos[i][0], relatedElStartPos[i][1]);\n            });\n\n            if (!silent) {\n                me.trigger(invalid ? 'drop' : 'abort', { context, event });\n            }\n\n            // Element may have been scrolled out of view, or otherwise removed while dragging\n            if (element.isConnected && !me.isDestroying && proxyMoved) {\n                await EventHelper.waitForTransitionEnd({\n                    element,\n                    property     : DomHelper.getPropertyTransitionDuration(element, 'transform') ? 'transform' : 'all',\n                    thisObj      : me,\n                    once         : true,\n                    runOnDestroy : true\n                });\n            }\n\n            if (!me.isDestroyed) {\n                // Trigger event after transition has completed for UIs to redraw with stable DOM\n                me.trigger('abortFinalized', { context, event });\n            }\n        }\n\n        if (me.context?.started) {\n            me.reset();\n        }\n    }\n\n    // Restore state of all mutated elements\n    cleanUp() {\n        const\n            me                                                    = this,\n            { context, cloneTarget, draggingCls, dragProxyCls }   = me,\n            element                                               = context.dragProxy || context.element,\n            { relatedElements, originalRelatedElements, grabbed } = context,\n            removeClonedProxies                                   = cloneTarget && (me.removeProxyAfterDrop || !context.valid),\n            cssClassesToRemove                                    = [draggingCls, 'b-aborting', dragProxyCls, 'b-drag-main', 'b-drag-unified-proxy'];\n\n        element.classList.remove(...cssClassesToRemove);\n\n        if (removeClonedProxies) {\n            element.remove();\n        }\n        relatedElements?.forEach(element => {\n            if (removeClonedProxies) {\n                element.remove();\n            }\n            else {\n                element.classList.remove(...cssClassesToRemove);\n            }\n        });\n\n        // Restore originallly grabbed elements\n        grabbed.classList.remove('b-drag-original', 'b-hidden');\n        originalRelatedElements?.forEach(element => element.classList.remove('b-hidden', 'b-drag-original'));\n    }\n\n    //endregion\n};\n","import Base from '../Base.js';\nimport Events from '../mixin/Events.js';\nimport DragHelperContainer from './mixin/DragHelperContainer.js';\nimport DragHelperTranslate from './mixin/DragHelperTranslate.js';\nimport DomHelper from './DomHelper.js';\nimport EventHelper from './EventHelper.js';\nimport ObjectHelper from './ObjectHelper.js';\nimport Rectangle from './util/Rectangle.js';\n\n/**\n * @module Core/helper/DragHelper\n */\n\nconst rootElementListeners = {\n    move       : 'onMouseMove',\n    up         : 'onMouseUp',\n    docclick   : 'onDocumentClick',\n    touchstart : 'onTouchStart',\n    touchmove  : 'onTouchMove',\n    touchend   : 'onTouchEnd',\n    keydown    : 'onKeyDown'\n};\n\n/**\n * ## Intro\n * A drag drop helper class which lets you move elements in page. It supports:\n *\n *  * Dragging the actual element\n *  * Dragging a cloned version of the element\n *  * Dragging extra `relatedElements` along with the main element\n *  * Firing useful events {@link #event-beforeDragStart}, {@link #event-dragStart}, {@link #event-drag}, {@link #event-drop}, {@link #event-abort}\n *  * Validation by setting a `valid` Boolean on the drag context object provided to event listeners\n *  * Aborting drag with ESCAPE key\n *  * Constraining drag to be only horizontal or vertical using {@link #config-lockX} and {@link #config-lockY}\n *  * Defining X / Y boundaries using {@link #config-minX}, {@link #config-maxX} and {@link #config-minY}, {@link #config-maxY}\n *  * Async finalization (e.g. to show confirmation prompts)\n *  * Animated final transition after mouse up of a valid drop (see {@link #function-animateProxyTo})\n *  * Animated abort transition after an invalid or aborted drop\n *\n * {@inlineexample Core/helper/DragHelper.js}\n *\n * ## Two modes\n *\n * DragHelper supports two {@link #config-mode modes}:\n *\n * * `container` - moving / rearranging elements within and between specified containers\n * * `translateXY` - freely repositioning an element, either using the element or a cloned version of it - a \"drag proxy\" (default mode)\n *\n * ## Container drag mode\n *\n * Container drag should be used when moving or rearranging child elements within and between specified containers\n *\n * Example:\n * ```javascript\n * // dragging element between containers\n * let dragHelper = new DragHelper({\n *   mode       : 'container',\n *   containers : [ container1, container2 ]\n * });\n *```\n *\n * ## Translate drag mode\n *\n * Use translate drag to reposition an element within its container using transform CSS.\n *\n * Example:\n * ```javascript\n * // dragging element within container\n * let dragHelper = new DragHelper({\n *   mode           : 'translateXY',\n *   targetSelector : 'div.movable'\n * });\n * ```\n *\n * ## Observable events\n * In the various events fired by the DragHelper, you will have access to the raw DOM event and some useful `context` about the drag operation:\n *\n * ```javascript\n *  myDrag.on({\n *      drag : ({event , context}) {\n *            // The element which we're moving, could be a cloned version of grabbed, or the grabbed element itself\n *           const element = context.element;\n *\n *           // The original mousedown element upon which triggered the drag operation\n *           const grabbed = context.grabbed;\n *\n *           // The target under the current mouse / pointer / touch position\n *           const target = context.target;\n *       }\n *  });\n * ```\n *\n * ## Simple drag helper subclass with a drop target specified:\n * ```javascript\n * export default class MyDrag extends DragHelper {\n *      static get defaultConfig() {\n *          return {\n *              // Don't drag the actual cell element, clone it\n *              cloneTarget        : true,\n *              mode               : 'translateXY',\n *              // Only allow drops on DOM elements with 'yourDropTarget' CSS class specified\n *              dropTargetSelector : '.yourDropTarget',\n *\n *              // Only allow dragging elements with the 'draggable' CSS class\n *              targetSelector : '.draggable'\n *          };\n *      }\n *\n *      construct(config) {\n *          const me = this;\n *\n *          super.construct(config);\n *\n *          me.on({\n *              dragstart : me.onDragStart\n *          });\n *      }\n *\n *      onDragStart({ event, context }) {\n *          const target = context.target;\n *\n *          // Here you identify what you are dragging (an image of a user, grid row in an order table etc) and map it to something in your\n *          // data model. You can store your data on the context object which is available to you in all drag-related events\n *          context.userId = target.dataset.userId;\n *      }\n *\n *      onEquipmentDrop({ context, event }) {\n *          const me = this;\n *\n *          if (context.valid) {\n *              const userId   = context.userId,\n *                    droppedOnTarget = context.target;\n *\n *              console.log(`You dropped user ${userStore.getById(userId).name} on ${droppedOnTarget}`, droppedOnTarget);\n *\n *              // Dropped on a scheduled event, display toast\n *              Toast.show(`You dropped user ${userStore.getById(userId).name} on ${droppedOnTarget}`);\n *          }\n *      }\n *  };\n * ```\n *\n * ## Dragging multiple elements\n *\n * You can tell the DragHelper to also move additional `relatedElements` when a drag operation is starting. Simply\n * provide an array of elements on the context object:\n *\n * ```javascript\n * new DragHelper ({\n *     callOnFunctions : true,\n *\n *     onDragStart({ context }) {\n *          // Let drag helper know about extra elements to drag\n *          context.relatedElements = Array.from(element.querySelectorAll('.b-resource-avatar'));\n *     }\n * });\n * ```\n *\n * ## Creating a custom drag proxy\n *\n * Using the {@link #function-createProxy} you can create any markup structure to use when dragging cloned targets.\n *\n * ```javascript\n * new DragHelper ({\n *    callOnFunctions      : true,\n *    // Don't drag the actual cell element, clone it\n *    cloneTarget          : true,\n *    // We size the cloned element using CSS\n *    autoSizeClonedTarget : false,\n *\n *    mode               : 'translateXY',\n *    // Only allow drops on certain DOM nodes\n *    dropTargetSelector : '.myDropTarget',\n *    // Only allow dragging cell elements in a Bryntum Grid\n *    targetSelector     : '.b-grid-row:not(.b-group-row) .b-grid-cell'\n *\n *    // Here we receive the element where the drag originated and we can choose to return just a child element of it\n *    // to use for the drag proxy (such as an icon)\n *    createProxy(element) {\n *        return element.querySelector('i').cloneNode();\n *    }\n * });\n * ```\n *\n * ## Animating a cloned drag proxy to a point before finalizing\n *\n * To provide users with the optimal user experience, you can set a `transitionTo` object (with `target` element and\n * `align` spec) on the DragHelper´s `context` object inside a {@link #event-drop} listener (only applies to translate\n * {@link #config-mode mode} operations). This will trigger a final animation of the drag proxy which should represent\n * the change of data state that will be triggered by the drop.\n *\n * You can see this in action in Gantt´s `drag-resource-from-grid` demo.\n *\n * ```javascript\n * new DragHelper ({\n *    callOnFunctions      : true,\n *    // Don't drag the actual cell element, clone it\n *    cloneTarget          : true,\n *    // We size the cloned element using CSS\n *    autoSizeClonedTarget : false,\n *\n *    mode               : 'translateXY',\n *    // Only allow drops on certain DOM nodes\n *    dropTargetSelector : '.myDropTarget',\n *    // Only allow dragging cell elements in a Bryntum Grid\n *    targetSelector     : '.b-grid-row:not(.b-group-row) .b-grid-cell'\n *\n *    // Here we receive the element where the drag originated and we can choose to return just a child element of it\n *    // to use for the drag proxy (such as an icon)\n *    createProxy(element) {\n *        return element.querySelector('i').cloneNode();\n *    },\n *\n *    async onDrop({ context, event }) {\n *       // If it's a valid drop, provide a point to animate the proxy to before finishing the operation\n *      if (context.valid) {\n *          await this.animateProxyTo(someElement, {\n *               // align left side of drag proxy to right side of the someElement\n *               align  : 'l0-r0'\n *          });\n *      }\n *      else {\n *          Toast.show(`You cannot drop here`);\n *      }\n *   }\n * });\n * ```\n *\n * @mixes Core/mixin/Events\n * @extends Core/Base\n */\nexport default class DragHelper extends Base.mixin(Events, DragHelperContainer, DragHelperTranslate) {\n    //region Config\n\n    static get defaultConfig() {\n        return {\n            /**\n             * Drag proxy CSS class\n             * @config {String}\n             * @default\n             * @private\n             */\n            dragProxyCls : 'b-drag-proxy',\n\n            /**\n             * CSS class added when drag is invalid\n             * @config {String}\n             * @default\n             */\n            invalidCls : 'b-drag-invalid',\n\n            /**\n             * CSS class added to the source element in Container drag\n             * @config {String}\n             * @default\n             * @private\n             */\n            draggingCls : 'b-dragging',\n\n            /**\n             * CSS class added to the source element in Container drag\n             * @config {String}\n             * @default\n             * @private\n             */\n            dropPlaceholderCls : 'b-drop-placeholder',\n\n            /**\n             * The amount of pixels to move mouse before it counts as a drag operation\n             * @config {Number}\n             * @default\n             */\n            dragThreshold : 5,\n\n            /**\n             * The outer element where the drag helper will operate (attach events to it and use as outer limit when looking for ancestors)\n             * @config {HTMLElement}\n             * @default\n             */\n            outerElement : document.body,\n\n            /**\n             * Outer element that limits where element can be dragged\n             * @config {HTMLElement}\n             */\n            dragWithin : null,\n\n            /**\n             * Set to true to stack any related dragged elements below the main drag proxy element. Only applicable when\n             * using translate {@link #config-mode} with {@link #config-cloneTarget}\n             * @config {Boolean}\n             */\n            unifiedProxy : null,\n\n            monitoringConfig : null,\n\n            /**\n             * Constrain translate drag to dragWithin elements bounds (set to false to allow it to \"overlap\" edges)\n             * @config {Boolean}\n             * @default\n             */\n            constrain : true,\n\n            /**\n             * Smallest allowed x when dragging horizontally.\n             * @config {Number}\n             */\n            minX : null,\n\n            /**\n             * Largest allowed x when dragging horizontally.\n             * @config {Number}\n             */\n            maxX : null,\n\n            /**\n             * Smallest allowed y when dragging horizontally.\n             * @config {Number}\n             */\n            minY : null,\n\n            /**\n             * Largest allowed y when dragging horizontally.\n             * @config {Number}\n             */\n            maxY : null,\n\n            /**\n             * Enabled dragging, specify mode:\n             * <table>\n             * <tr><td>container<td>Allows reordering elements within one and/or between multiple containers\n             * <tr><td>translateXY<td>Allows dragging within a parent container\n             * </table>\n             * @config {'container'|'translateXY'}\n             * @default\n             */\n            mode : 'translateXY',\n\n            /**\n             * A function that determines if dragging an element is allowed. Gets called with the element as argument,\n             * return true to allow dragging or false to prevent.\n             * @config {Function}\n             */\n            isElementDraggable : null,\n\n            /**\n             * A CSS selector used to determine if dragging an element is allowed.\n             * @config {String}\n             */\n            targetSelector : null,\n\n            /**\n             * A CSS selector used to determine if a drop is allowed at the current position.\n             * @config {String}\n             */\n            dropTargetSelector : null,\n\n            /**\n             * A CSS selector added to each drop target element while dragging.\n             * @config {String}\n             */\n            dropTargetCls : null,\n\n            /**\n             * A CSS selector used to target a child element of the mouse down element, to use as the drag proxy element.\n             * Applies to translate {@link #config-mode mode} when using {@link #config-cloneTarget}.\n             * @config {String}\n             */\n            proxySelector : null,\n\n            /**\n             * Set to `true` to clone the dragged target, and not move the actual target DOM node.\n             * @config {Boolean}\n             * @default\n             */\n            cloneTarget : false,\n\n            /**\n             * Set to `false` to not apply width/height of cloned drag proxy elements.\n             * @config {Boolean}\n             * @default\n             */\n            autoSizeClonedTarget : true,\n\n            /**\n             * Set to true to hide the original element while dragging (applicable when `cloneTarget` is true).\n             * @config {Boolean}\n             * @default\n             */\n            hideOriginalElement : false,\n\n            /**\n             * Containers whose elements can be rearranged (and moved between the containers). Used when\n             * mode is set to \"container\".\n             * @config {HTMLElement[]}\n             */\n            containers : null,\n\n            /**\n             * A CSS selector used to exclude elements when using container mode\n             * @config {String}\n             */\n            ignoreSelector : null,\n\n            startEvent : null,\n\n            /**\n             * Configure as `true` to disallow dragging in the `X` axis. The dragged element will only move vertically.\n             * @config {Boolean}\n             * @default\n             */\n            lockX : false,\n\n            /**\n             * Configure as `true` to disallow dragging in the `Y` axis. The dragged element will only move horizontally.\n             * @config {Boolean}\n             * @default\n             */\n            lockY : false,\n\n            /**\n             * The amount of milliseconds to wait after a touchstart, before a drag gesture will be allowed to start.\n             * @config {Number}\n             * @default\n             */\n            touchStartDelay : 300,\n\n            /**\n             * Scroll manager of the target. If specified, scrolling while dragging is supported.\n             * @config {Core.util.ScrollManager}\n             */\n            scrollManager : null,\n\n            /**\n             * A method provided to snap coordinates to fixed points as you drag\n             * @config {Function}\n             * @internal\n             */\n            snapCoordinates : null,\n\n            /**\n             * When using {@link #config-unifiedProxy}, use this amount of pixels to offset each extra element when dragging multiple items\n             * @config {Number}\n             * @default\n             */\n            unifiedOffset : 5,\n\n            /**\n             * Configure as `false` to take ownership of the proxy element after a valid drop (advanced usage).\n             * @config {Boolean}\n             * @default\n             */\n            removeProxyAfterDrop : true,\n\n            clickSwallowDuration : 50,\n\n            ignoreSamePositionDrop : true,\n\n            // true to allow drops outside the dragWithin element\n            allowDropOutside : null,\n            // for container mode\n            floatRootOwner   : null,\n\n            mouseMoveListenerElement   : document,\n            externalDropTargetSelector : null,\n\n            testConfig : {\n                transitionDuration   : 10,\n                clickSwallowDuration : 50,\n                touchStartDelay      : 100\n            },\n\n            rtlSource : null,\n\n            /**\n             * Creates the proxy element to be dragged, when using {@link #config-cloneTarget}. Clones the original element by default.\n             * Provide your custom {@link #function-createProxy} function to be used for creating drag proxy.\n             * @param {HTMLElement} element The element from which the drag operation originated\n             * @config {Function}\n             * @typings {Function(HTMLElement): HTMLElement}\n             */\n            createProxy : null\n        };\n    }\n\n    //endregion\n\n    //region Events\n\n    /**\n     * Fired before dragging starts, return `false` to prevent the drag operation.\n     * @preventable\n     * @event beforeDragStart\n     * @param {Core.helper.DragHelper} source\n     * @param {Object} context\n     * @param {HTMLElement} context.element The original element upon which the mousedown event triggered a drag operation\n     * @param {MouseEvent|TouchEvent} event\n     */\n\n    /**\n     * Fired when dragging starts. The event includes a `context` object. If you want to drag additional elements you can\n     * provide these as an array of elements assigned to the `relatedElements` property of the context object.\n     * @event dragStart\n     * @param {Core.helper.DragHelper} source\n     * @param {Object} context\n     * @param {HTMLElement} context.element The element which we're moving, could be a cloned version of grabbed, or the grabbed element itself\n     * @param {HTMLElement} context.grabbed The original element upon which the mousedown event triggered a drag operation\n     * @param {HTMLElement[]} context.relatedElements Array of extra elements to include in the drag.\n     * @param {MouseEvent|TouchEvent} event\n     */\n\n    /**\n     * Fired while dragging, you can signal that the drop is valid or invalid by setting `context.valid = false;`\n     * @event drag\n     * @param {Core.helper.DragHelper} source\n     * @param {Object} context\n     * @param {HTMLElement} context.element The element which we are moving, could be a cloned version of grabbed, or the grabbed element itself\n     * @param {HTMLElement} context.target The target element below the cursor\n     * @param {HTMLElement} context.grabbed The original element upon which the mousedown event triggered a drag operation\n     * @param {HTMLElement[]} context.relatedElements An array of extra elements dragged with the main dragged element\n     * @param {Boolean} context.valid Set this to true or false to indicate whether the drop position is valid.\n     * @param {MouseEvent} event\n     */\n\n    /**\n     * Fired after a drop at an invalid position\n     * @event abort\n     * @param {Core.helper.DragHelper} source\n     * @param {Object} context\n     * @param {HTMLElement} context.element The element which we are moving, could be a cloned version of grabbed, or the grabbed element itself\n     * @param {HTMLElement} context.target The target element below the cursor\n     * @param {HTMLElement} context.grabbed The original element upon which the mousedown event triggered a drag operation\n     * @param {HTMLElement[]} context.relatedElements An array of extra elements dragged with the main dragged element\n     * @param {MouseEvent} event\n     */\n\n    /**\n     * Fires after {@link #event-abort} and after drag proxy has animated back to its original position\n     * @private\n     * @event abortFinalized\n     * @param {Core.helper.DragHelper} source\n     * @param {Object} context\n     * @param {HTMLElement} context.element The element which we are moving, could be a cloned version of grabbed, or the grabbed element itself\n     * @param {HTMLElement} context.target The target element below the cursor\n     * @param {HTMLElement} context.grabbed The original element upon which the mousedown event triggered a drag operation\n     * @param {MouseEvent} event\n     */\n    //endregion\n\n    //region Init\n\n    /**\n     * Initializes a new DragHelper.\n     * @param {DragHelperConfig} config Configuration object, accepts options specified under Configs above\n     * @example\n     * new DragHelper({\n     *   containers: [div1, div2],\n     *   isElementDraggable: element => element.className.contains('handle'),\n     *   outerElement: topParent,\n     *   listeners: {\n     *     drop: onDrop,\n     *     thisObj: this\n     *   }\n     * });\n     * @function constructor\n     */\n    construct(config) {\n        const me = this;\n\n        super.construct(config);\n\n        me.initListeners();\n\n        if (me.isContainerDrag) {\n            me.initContainerDrag();\n        }\n        else {\n            me.initTranslateDrag();\n        }\n\n        me.onScrollManagerScrollCallback = me.onScrollManagerScrollCallback.bind(me);\n    }\n\n    doDestroy() {\n        this.reset(true);\n        super.doDestroy();\n    }\n\n    /**\n     * Initialize listener\n     * @private\n     */\n    initListeners() {\n        const\n            me                 = this,\n            { outerElement }   = me,\n            dragStartListeners = {\n                element     : outerElement,\n                pointerdown : 'onPointerDown',\n                thisObj     : me\n            };\n\n        me.mouseMoveListenerElement = me.getMouseMoveListenerTarget(outerElement);\n\n        // These will be autoDetached upon destroy\n        EventHelper.on(dragStartListeners);\n    }\n\n    // Salesforce hook: we override this method to move listener from the body (which is default root node) to element\n    // inside of LWC\n    getMouseMoveListenerTarget(element) {\n        const root = element.getRootNode();\n\n        let result = this.mouseMoveListenerElement;\n\n        // If we are inside a closed shadow root and we are a child of a Widget, listen to mouse moves only inside outermost el\n        if (root.nodeType === Node.DOCUMENT_FRAGMENT_NODE && root.mode === 'closed') {\n            result = element.closest('.b-outer') || result;\n        }\n\n        return result;\n    }\n\n    get isRTL() {\n        return Boolean(this.rtlSource?.rtl);\n    }\n\n    //endregion\n\n    //region Events\n\n    /**\n     * Fires after drop. For valid drops, it exposes `context.async` which you can set to true to signal that additional\n     * processing is needed before finalizing the drop (such as showing some dialog). When that operation is done, call\n     * `context.finalize(true/false)` with a boolean that determines the outcome of the drop.\n     *\n     * You can signal that the drop is valid or invalid by setting `context.valid = false;`\n     *\n     * For translate type drags with {@link #config-cloneTarget}, you can also set `transitionTo` if you want to animate\n     * the dragged proxy to a position before finalizing the operation. See class intro text for example usage.\n     *\n     * @event drop\n     * @param {Core.helper.DragHelper} source\n     * @param {Object} context\n     * @param {HTMLElement} context.element The element which we are moving, could be a cloned version of grabbed, or the grabbed element itself\n     * @param {HTMLElement} context.target The target element below the cursor\n     * @param {HTMLElement} context.grabbed The original element upon which the mousedown event triggered a drag operation\n     * @param {HTMLElement[]} context.relatedElements An array of extra elements dragged with the main dragged element\n     * @param {Boolean} context.valid true if the drop position is valid\n     */\n\n    /**\n     * Fires after {@link #event-drop} and after drag proxy has animated to its final position (if setting `transitionTo`\n     * on the drag context object).\n     * @private\n     * @event dropFinalized\n     * @param {Core.helper.DragHelper} source\n     * @param {Object} context\n     * @param {HTMLElement} context.element The element which we are moving, could be a cloned version of grabbed, or the grabbed element itself\n     * @param {HTMLElement} context.target The target element below the cursor\n     * @param {HTMLElement} context.grabbed The original element upon which the mousedown event triggered a drag operation\n     */\n\n    onPointerDown(event) {\n        const me = this;\n\n        if (\n            // Left button or touch allowed\n            event.button !== 0 ||\n            // If a drag is ongoing already, finalize it and don't proceed with new drag (happens if pointerup happened\n            // when current window wasn't focused - tab switch or window switch). Also handles the edge case of trying to\n            // start a new drag while previous is awaiting finalization, in which case it just bails out.\n            me.context\n        ) {\n            return;\n        }\n\n        // Check that element is draggable\n        if (me.isElementDraggable && !me.isElementDraggable(event.target, event)) {\n            return;\n        }\n\n        me.startEvent = event;\n\n        const handled = me.isContainerDrag ? me.grabContainerDrag(event) : me.grabTranslateDrag(event);\n\n        if (handled) {\n            me.blurDetacher = EventHelper.on({\n                element : globalThis,\n                blur    : me.onWindowBlur,\n                thisObj : me\n            });\n\n            const dragListeners = {\n                element : me.mouseMoveListenerElement,\n                thisObj : me,\n                capture : true,\n                keydown : rootElementListeners.keydown\n            };\n\n            if (event.pointerType === 'touch') {\n                me.touchStartTimer = me.setTimeout(() => me.touchStartTimer = null, me.touchStartDelay, 'touchStartDelay');\n\n                dragListeners.touchmove = {\n                    handler : rootElementListeners.touchmove,\n                    passive : false // We need to be able to preventDefault on the touchmove\n                };\n\n                // Touch desktops don't fire touchend event when touch has ended, instead pointerup is fired\n                // iOS do fire touchend\n                dragListeners.touchend = dragListeners.pointerup = rootElementListeners.touchend;\n            }\n            else {\n                dragListeners.pointermove = rootElementListeners.move;\n                dragListeners.pointerup = rootElementListeners.up;\n            }\n\n            // A listener detacher is returned;\n            me.dragListenersDetacher = EventHelper.on(dragListeners);\n\n            if (me.dragWithin && me.dragWithin !== me.outerElement && me.outerElement.contains(me.dragWithin)) {\n                const\n                    box = Rectangle.from(me.dragWithin, me.outerElement);\n\n                me.minY = box.top;\n                me.maxY = box.bottom;\n\n                me.minX = box.left;\n                me.maxX = box.right;\n            }\n        }\n    }\n\n    async internalMove(event) {\n        // Ignore events used to mimic pointer movement on scroll, those should not affect dragging\n        if (event.scrollInitiated) {\n            return;\n        }\n\n        const\n            me             = this,\n            { context }    = me,\n            distance       = EventHelper.getDistanceBetween(me.startEvent, event),\n            abortTouchDrag = me.touchStartTimer && distance > me.dragThreshold;\n\n        if (abortTouchDrag) {\n            me.abort(true);\n            return;\n        }\n\n        if (\n            !me.touchStartTimer && context?.element && (context.started || distance >= me.dragThreshold) &&\n            // Ignore text nodes\n            event.target?.nodeType === Node.ELEMENT_NODE\n        ) {\n\n            if (!context.started) {\n                if (me.trigger('beforeDragStart', { context, event }) === false) {\n                    return me.abort();\n                }\n\n                if (me.isContainerDrag) {\n                    me.startContainerDrag(event);\n                }\n                else {\n                    me.startTranslateDrag(event);\n                }\n\n                context.started = true;\n\n                // Now that the drag drop is confirmed to be starting, activate the configured scrollManager if present\n                me.scrollManager?.startMonitoring(ObjectHelper.merge({\n                    scrollables : [\n                        {\n                            element : me.dragWithin || me.outerElement\n                        }\n                    ],\n                    callback : me.onScrollManagerScrollCallback\n                }, me.monitoringConfig));\n\n                // Global informational class for when DragHelper is dragging\n                context.outermostEl = DomHelper.getOutermostElement(event.target);\n                context.outermostEl.classList.add('b-draghelper-active');\n\n                if (me.dropTargetSelector && me.dropTargetCls) {\n                    DomHelper.getRootElement(me.outerElement).querySelectorAll(me.dropTargetSelector).forEach(\n                        el => el.classList.add(me.dropTargetCls)\n                    );\n                }\n\n                // This event signals that the drag is started, observers could then provide relatedElements that should\n                // be dragged along with the mousedowned element\n                const result = me.trigger('dragStart', { context, event });\n\n                // Try to keep the drag flow synchronous unless listener returns a promise\n                if (ObjectHelper.isPromise(result)) {\n                    await result;\n                }\n\n                context.moveUnblocked = true;\n\n                if (me.isContainerDrag) {\n                    me.onContainerDragStarted(event);\n                }\n                else {\n                    me.onTranslateDragStarted(event);\n                }\n\n                // This event is used to set visibility of the original events in case drag is started\n                // in copy mode\n                me.trigger('afterDragStart', { context, event });\n            }\n\n            // Drag is started asynchronously, meaning this code path may be invoked several times before flag is set.\n            // We queue move events to trigger them afterwards. Used by `PercentBar` feature in SchedulerPro. Normal usage\n            // should not be affected because microtasks won't appear unless there is asynchronous handler.\n            if (context.moveUnblocked) {\n                // Use cached event, if there was one\n                if (me._cachedMouseEvent) {\n                    // some tests expect 2+ events\n                    me.update(event);\n\n                    me.update(me._cachedMouseEvent);\n                    delete me._cachedMouseEvent;\n                }\n                else {\n                    me.update(event);\n                }\n            }\n            else {\n                // Save last triggered event while we were waiting for promise to resolve\n                me._cachedMouseEvent = event;\n            }\n\n            // to prevent view drag (scroll) on ipad\n            if (event.type === 'touchmove') {\n                event.preventDefault();\n                event.stopImmediatePropagation();\n            }\n        }\n    }\n\n    onScrollManagerScrollCallback(config) {\n        const { lastMouseMoveEvent } = this;\n\n        if (this.context?.element && lastMouseMoveEvent) {\n            // Indicate that this is a 'fake' mousemove event as a result of the scrolling\n            lastMouseMoveEvent.isScroll = true;\n\n            this.update(lastMouseMoveEvent, config);\n        }\n    }\n\n    onTouchMove(event) {\n        this.internalMove(event);\n    }\n\n    /**\n     * Move drag element with mouse.\n     * @param event\n     * @fires beforeDragStart\n     * @fires dragStart\n     * @private\n     */\n    onMouseMove(event) {\n        this.internalMove(event);\n    }\n\n    /**\n     * Updates drag, called when an element is grabbed and mouse moves\n     * @private\n     * @fires drag\n     */\n    update(event, scrollManagerConfig) {\n        const\n            me                   = this,\n            { context }          = me,\n            scrollingPageElement = document.scrollingElement || document.body; // two different modes used\n\n        // In case of scrolling need to update target element based on [X, Y] of the mouse event\n        // Salesforce workaround: we're listening on the document body and salesforce won't report correct target, so\n        // we try to get it from composed path\n        let target = me.getMouseMoveEventTarget(event);\n\n        // \"pointer-events:none\" touchmove has no effect for the touchmove event target, meaning we cannot know\n        // what's under the cursor as easily in touch devices\n        if (event.type === 'touchmove') {\n            const touch = event.changedTouches[0];\n\n            target = DomHelper.elementFromPoint(touch.clientX + scrollingPageElement.scrollLeft, touch.clientY + scrollingPageElement.scrollTop);\n        }\n\n        context.target = target;\n\n        let internallyValid = me.allowDropOutside || !me.dragWithin || me.dragWithin.contains(event.target);\n\n        if (internallyValid && me.dropTargetSelector) {\n            internallyValid = internallyValid && Boolean(target?.closest(me.dropTargetSelector));\n        }\n\n        // Move the drag proxy or dragged element before triggering the drag event\n        if (me.isContainerDrag) {\n            me.updateContainerProxy(event, scrollManagerConfig);\n        }\n        else {\n            // Note, if you drag an element from Container A to Container B which is scrollable (handled by ScrollManager),\n            // and you notice that the proxy element follows the scroll and goes away from the cursor,\n            // make sure you set `outerElement` to the container of the source element (Container A)\n            // and set `constrain` to `false`.\n            me.updateTranslateProxy(event, scrollManagerConfig);\n        }\n\n        context.valid = internallyValid;\n\n        // Allow external code to validate the context before updating a container drag\n        me.trigger('drag', { context, event });\n\n        // Move the placeholder element into its new place.\n        // This will see the new state of context if mutated by a drag listener.\n        if (me.isContainerDrag) {\n            me.updateContainerDrag(event, scrollManagerConfig);\n        }\n\n        context.valid = context.valid && internallyValid;\n\n        for (const element of me.draggedElements) {\n            element.classList.toggle(me.invalidCls, !context.valid);\n        }\n\n        if (event) {\n            me.lastMouseMoveEvent = event;\n        }\n    }\n\n    get draggedElements() {\n        const { context } = this;\n        return [context.dragProxy || context.element, ...(context.relatedElements ?? [])];\n    }\n\n    /**\n     * Abort dragging\n     * @fires abort\n     */\n    async abort(silent = false) {\n        const\n            me          = this,\n            { context } = me;\n\n        me.scrollManager?.stopMonitoring?.();\n        me.removeListeners();\n\n        if (context?.started && !context.aborted) {\n            // Force a synchronous layout so that transitions from this point will work.\n            context.element.getBoundingClientRect();\n\n            // Aborted drag not considered valid\n            context.valid = false;\n\n            if (me.isContainerDrag) {\n                me.abortContainerDrag(undefined, undefined, silent);\n            }\n            else {\n                me.abortTranslateDrag(undefined, undefined, silent);\n            }\n\n            context.aborted = true;\n        }\n        else {\n            me.reset(true);\n        }\n    }\n\n    // Empty class implementation. If listeners *are* added, the detacher is added\n    // as an instance property. So this is always callable.\n    removeListeners() {\n        this.dragListenersDetacher?.();\n        this.blurDetacher?.();\n    }\n\n    // Called when a drag operation is completed, or aborted\n    // Removes DOM listeners and resets context\n    reset(silent) {\n        const\n            me          = this,\n            { context } = me;\n\n        if (context?.started) {\n            for (const element of me.draggedElements) {\n                element.classList.remove(me.invalidCls);\n            }\n\n            context.outermostEl.classList.remove('b-draghelper-active');\n\n            if (me.isContainerDrag) {\n                context.dragProxy.remove();\n            }\n            else {\n                me.cleanUp();\n            }\n\n            if (me.dropTargetSelector && me.dropTargetCls) {\n                DomHelper.getRootElement(me.outerElement).querySelectorAll(me.dropTargetSelector).forEach(\n                    el => el.classList.remove(me.dropTargetCls)\n                );\n            }\n        }\n\n        me.removeListeners();\n\n        /**\n         * Fired after a drag operation is completed or aborted\n         * @event reset\n         * @private\n         * @param {Core.helper.DragHelper} dragHelper\n         */\n        if (!silent) {\n            me.trigger('reset');\n        }\n\n        me.context = me.lastMouseMoveEvent = null;\n    }\n\n    onTouchEnd(event) {\n        this.onMouseUp(event);\n    }\n\n    /**\n     * This is a capture listener, only added during drag, which prevents a click gesture\n     * propagating from the terminating mouseup gesture\n     * @param {MouseEvent} event\n     * @private\n     */\n    onDocumentClick(event) {\n        event.stopPropagation();\n    }\n\n    /**\n     * Drop on mouse up (if dropped on valid target).\n     * @param event\n     * @private\n     */\n    onMouseUp(event) {\n        const\n            me          = this,\n            { context } = me;\n\n        me.removeListeners();\n\n        if (context) {\n            me.scrollManager?.stopMonitoring();\n\n            if (context.started) {\n                if (context.moveUnblocked) {\n                    // Nobody else must get to process the pointerup event of a drag.\n                    // We are using capture : true, so we see it first\n                    event.stopPropagation();\n\n                    context.finalizing = true;\n                    if (me.isContainerDrag) {\n                        me.finishContainerDrag(event);\n                    }\n                    else {\n                        me.finishTranslateDrag(event);\n                    }\n\n                    // Prevent the impending document click from the mouseup event from propagating\n                    // into a click on our element.\n                    EventHelper.on({\n                        element : document,\n                        thisObj : me,\n                        click   : rootElementListeners.docclick,\n                        capture : true,\n                        expires : me.clickSwallowDuration, // In case a click did not ensue, remove the listener\n                        once    : true\n                    });\n                }\n                // If move has not yet started (due to async listener) and we've received a mouseup event, we need to\n                // listen to the next `drag` event to handle mouseup at the correct app state\n                else {\n                    me.ion({\n                        drag() {\n                            me.onMouseUp(event);\n                        },\n                        once : true\n                    });\n                }\n            }\n            else {\n                me.reset(true);\n            }\n        }\n    }\n\n    /**\n     * Cancel on ESC key\n     * @param event\n     * @private\n     */\n    onKeyDown(event) {\n        if (this.context?.started && event.key === 'Escape') {\n            // Nobody else must get to process the ESCAPE key event of a drag.\n            // We are using capture : true, so we see it first\n            event.stopImmediatePropagation();\n            this.abort();\n        }\n    }\n\n    onWindowBlur() {\n        // If window blur occurs while we are dragging (tab is switched, another window steals focus from browser)\n        // pointer might be released and current window will not know about that. Thus allowing to pointerdown again\n        // when focus comes back. In this case we want to let drag helper know that next pointerdown should be ignored.\n        if (this.context && !this.context.finalizing) {\n            this.abort();\n        }\n    }\n\n    /**\n     * Creates the proxy element to be dragged, when using {@link #config-cloneTarget}. Clones the original element by default.\n     * Override it to provide your own custom HTML element structure to be used as the drag proxy.\n     * @param {HTMLElement} element The element from which the drag operation originated\n     * @returns {HTMLElement}\n     */\n    createProxy(element) {\n        if (this.proxySelector) {\n            element = element.querySelector(this.proxySelector) || element;\n        }\n\n        const proxy = element.cloneNode(true);\n\n        proxy.removeAttribute('id');\n\n        return proxy;\n    }\n\n    //endregion\n\n    get isContainerDrag() {\n        return this.mode === 'container';\n    }\n\n    /**\n     * Animated the proxy element to be aligned with the passed element. Returns a Promise which resolves after the\n     * DOM transition completes. Only applies to 'translateXY' mode.\n     * @param {HTMLElement|Core.helper.util.Rectangle} element The target element or a Rectangle\n     * @param {Object} [alignSpec] An object describing how to the align drag proxy to the target element\n     * @param {String} [alignSpec.align] The alignment specification string, `[trbl]n-[trbl]n`.\n     * @param {Number|Number[]} [alignSpec.offset] The 'x' and 'y' offset values to create an extra margin round the target\n     * to offset the aligned widget further from the target. May be configured as -ve to move the aligned widget\n     * towards the target - for example producing the effect of the anchor pointer piercing the target.\n     */\n    async animateProxyTo(targetElement, alignSpec = { align : 'c-c' }) {\n        const\n            { context, draggedElements } = this,\n            { element }                  = context,\n            targetRect                   = targetElement.isRectangle ? targetElement : Rectangle.from(targetElement);\n\n        draggedElements.forEach(el => {\n            el.classList.add('b-drag-final-transition');\n\n            DomHelper.alignTo(el, targetRect, alignSpec);\n        });\n\n        await EventHelper.waitForTransitionEnd({\n            element,\n            property : 'all',\n            thisObj  : this,\n            once     : true\n        });\n\n        draggedElements.forEach(el => el.classList.remove('b-drag-final-transition'));\n    }\n\n    /**\n     * Returns true if a drag operation is active\n     * @property {Boolean}\n     * @readonly\n     */\n    get isDragging() {\n        return Boolean(this.context?.started);\n    }\n\n    //#region Salesforce hooks\n\n    getMouseMoveEventTarget(event) {\n        return !event.isScroll ? event.target : DomHelper.elementFromPoint(event.clientX, event.clientY);\n    }\n\n    //#endregion\n}\n","import Base from '../Base.js';\nimport Events from '../mixin/Events.js';\nimport BrowserHelper from './BrowserHelper.js';\nimport EventHelper from './EventHelper.js';\nimport DomHelper from './DomHelper.js';\nimport ObjectHelper from './ObjectHelper.js';\nimport Rectangle from './util/Rectangle.js';\n\n// <remove-on-release>\n// TODO: add pointer events support\n// </remove-on-release>\n\nconst documentListeners = {\n    down       : 'onMouseDown',\n    move       : 'onMouseMove',\n    up         : 'onMouseUp',\n    docclick   : 'onDocumentClick',\n    touchstart : {\n        handler : 'onTouchStart',\n        // We preventDefault touchstart so as not to scroll. Must not be passive.\n        // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n        passive : false\n    },\n    touchmove : 'onTouchMove',\n    touchend  : 'onTouchEnd',\n    keydown   : 'onKeyDown'\n};\n\n/**\n * @module Core/helper/ResizeHelper\n */\n\n/**\n * Contextual information available during a resize.\n *\n * @typedef {Object} ResizeContext\n * @property {HTMLElement} element Element being resized\n * @property {'top'|'right'|'bottom'|'left'} edge Edge being dragged\n * @property {Boolean} valid `true` if the resize is valid, `false` if it is not\n * @property {Boolean} async Set to `true` in a `resize` listener to allow asynchronous finalization of the resize\n * @property {Function} finalize Call this function to finalize the resize, required if it was flagged as `async` in a\n * `resize` listener\n * @property {Number} newWidth New width of the element\n * @property {Number} newHeight New height of the element\n * @property {Number} newX New x coordinate of the element, when dragging left edge\n * @property {Number} newY New y coordinate of the element, when dragging top edge\n */\n\n/**\n * Handles resizing of elements using handles. Handles can be actual elements or virtual handles specified as a border\n * area on elements left and right edges.\n *\n * ```javascript\n * // enable resizing all elements with class 'resizable'\n * let resizer = new ResizeHelper({\n *   targetSelector: '.resizable'\n * });\n * ```\n *\n * @mixes Core/mixin/Events\n * @internal\n */\nexport default class ResizeHelper extends Events(Base) {\n    //region Config\n\n    static get defaultConfig() {\n        return {\n            /**\n             * CSS class added when resizing\n             * @config {String}\n             * @default\n             */\n            resizingCls : 'b-resizing',\n\n            /**\n             * The amount of pixels to move mouse before it counts as a drag operation\n             * @config {Number}\n             * @default\n             */\n            dragThreshold : 5,\n\n            /**\n             * Resizing handle size\n             * @config {Number}\n             * @default\n             */\n            handleSize : 10,\n\n            /**\n             * Automatically shrink virtual handles when available space < handleSize. The virtual handles will\n             * decrease towards width/height 1, reserving space between opposite handles to for example leave room for\n             * dragging. To configure reserved space, see {@link #config-reservedSpace}.\n             * @config {Boolean}\n             * @default false\n             */\n            dynamicHandleSize : null,\n\n            //\n            /**\n             * Room in px to leave unoccupied by handles when shrinking them dynamically (see\n             * {@link #config-dynamicHandleSize}).\n             * @config {Number}\n             * @default\n             */\n            reservedSpace : 10,\n\n            /**\n             * Resizing handle size on touch devices\n             * @config {Number}\n             * @default\n             */\n            touchHandleSize : 30,\n\n            /**\n             * Minimum width when resizing\n             * @config {Number}\n             * @default\n             */\n            minWidth : 1,\n\n            /**\n             * Max width when resizing.\n             * @config {Number}\n             * @default\n             */\n            maxWidth : 0,\n\n            /**\n             * Minimum height when resizing\n             * @config {Number}\n             * @default\n             */\n            minHeight : 1,\n\n            /**\n             * Max height when resizing\n             * @config {Number}\n             * @default\n             */\n            maxHeight : 0,\n\n            // outerElement, attach events to it and use as outer limit when looking for ancestors\n            outerElement : document.body,\n\n            /**\n             * Optional scroller used to read scroll position. If unspecified, the outer element will be used.\n             * @config {Core.helper.util.Scroller}\n             */\n            scroller : null,\n\n            /**\n             * Assign a function to determine if a hovered element can be resized or not\n             * @config {Function}\n             * @default\n             */\n            allowResize : null,\n\n            /**\n             * Outer element that limits where element can be dragged\n             * @config {HTMLElement}\n             * @default\n             */\n            dragWithin : null,\n\n            /**\n             * A function that determines if dragging an element is allowed. Gets called with the element as argument,\n             * return true to allow dragging or false to prevent.\n             * @config {Function}\n             * @default\n             */\n            isElementResizable : null,\n\n            /**\n             * A CSS selector used to determine if resizing an element is allowed.\n             * @config {String}\n             * @default\n             */\n            targetSelector : null,\n\n            /**\n             * Use left handle when resizing. Only applies when `direction` is 'horizontal'\n             * @config {Boolean}\n             * @default\n             */\n\n            leftHandle : true,\n\n            /**\n             * Use right handle when resizing. Only applies when `direction` is 'horizontal'\n             * @config {Boolean}\n             * @default\n             */\n            rightHandle : true,\n\n            /**\n             * Use top handle when resizing. Only applies when `direction` is 'vertical'\n             * @config {Boolean}\n             * @default\n             */\n\n            topHandle : true,\n\n            /**\n             * Use bottom handle when resizing. Only applies when `direction` is 'vertical'\n             * @config {Boolean}\n             * @default\n             */\n            bottomHandle : true,\n\n            /**\n             * A CSS selector used to determine where handles should be \"displayed\" when resizing. Defaults to\n             * targetSelector if unspecified\n             * @config {String}\n             */\n            handleSelector : null,\n\n            /**\n             * A CSS selector used to determine which inner element contains handles.\n             * @config {String}\n             */\n            handleContainerSelector : null,\n\n            startEvent : null,\n\n            /*\n             * Optional config object, used by EventResize feature: it appends proxy and has to start resizing immediately\n             * @config {Object}\n             * @private\n             */\n            grab : null,\n\n            /**\n             * CSS class added when the resize state is invalid\n             * @config {String}\n             * @default\n             */\n            invalidCls : 'b-resize-invalid',\n\n            // A number that controls whether or not the element is wide enough for it to make sense to show resize handles\n            // e.g. handle width is 10px, so doesn't make sense to show them unless handles on both sides fit\n            handleVisibilityThreshold : null,\n\n            // Private config that disables translation when resizing left edge. Useful for example in cases when element\n            // being resized is part of a flex layout\n            skipTranslate : false,\n\n            /**\n             * Direction to resize in, either 'horizontal' or 'vertical'\n             * @config {'horizontal'|'vertical'}\n             * @default\n             */\n            direction : 'horizontal',\n\n            clickSwallowDuration : 50,\n\n            rtlSource : null\n        };\n    }\n\n    static configurable = {\n        // Private config that disables updating elements width and position, for when data is live updated during\n        // resize, leading to element being redrawn\n        skipUpdatingElement : null\n    };\n\n    //endregion\n\n    //region Events\n\n    /**\n     * Fired while dragging\n     * @event resizing\n     * @param {Core.helper.ResizeHelper} source\n     * @param {ResizeContext} context Resize context\n     * @param {MouseEvent} event Browser event\n     */\n\n    /**\n     * Fired when dragging starts.\n     * @event resizeStart\n     * @param {Core.helper.ResizeHelper} source\n     * @param {ResizeContext} context Resize context\n     * @param {MouseEvent|TouchEvent} event Browser event\n     */\n\n    /**\n     * Fires after resize, and allows for asynchronous finalization by setting 'async' to `true` on the context object.\n     * @event resize\n     * @param {Core.helper.ResizeHelper} source\n     * @param {ResizeContext} context Context about the resize operation. Set 'async' to `true` to indicate asynchronous\n     * validation of the resize flow (for showing a confirmation dialog etc)\n     */\n\n    /**\n     * Fires when a resize is canceled (width is unchanged)\n     * @event cancel\n     * @param {Core.helper.ResizeHelper} source\n     * @param {ResizeContext} context Resize context\n     * @param {MouseEvent|TouchEvent} event Browser event\n     */\n    //endregion\n\n    //region Init\n\n    construct(config) {\n        const me = this;\n\n        super.construct(config);\n\n        // Larger draggable zones on pure touch devices with no mouse\n        if (!me.handleSelector && !BrowserHelper.isHoverableDevice) {\n            me.handleSize = me.touchHandleSize;\n        }\n\n        me.handleVisibilityThreshold = me.handleVisibilityThreshold || 2 * me.handleSize;\n\n        me.initListeners();\n\n        me.initResize();\n    }\n\n    doDestroy() {\n        this.abort(true);\n        super.doDestroy();\n    }\n\n    updateSkipUpdatingElement(skip) {\n        if (skip) {\n            this.skipTranslate = true;\n        }\n    }\n\n    /**\n     * Initializes resizing\n     * @private\n     */\n    initResize() {\n        const me = this;\n\n        if (!me.isElementResizable && me.targetSelector) {\n            me.isElementResizable = element => element.closest(me.targetSelector);\n        }\n\n        if (me.grab) {\n            const { edge, element, event } = me.grab;\n\n            me.startEvent = event;\n\n            const cursorOffset = me.getCursorOffsetToElementEdge(event, element, edge);\n\n            // emulates mousedown & grabResize\n            me.context = {\n                element,\n                edge,\n                valid         : true,\n                async         : false,\n                elementStartX : DomHelper.getTranslateX(element) || element.offsetLeft, // extract x from translate\n                elementStartY : DomHelper.getTranslateY(element) || element.offsetTop, // extract x from translate\n                newX          : DomHelper.getTranslateX(element) || element.offsetLeft, // No change yet on start, but info must be present\n                newY          : DomHelper.getTranslateY(element) || element.offsetTop, // No change yet on start, but info must be present\n                elementWidth  : element.offsetWidth,\n                elementHeight : element.offsetHeight,\n                cursorOffset,\n                startX        : event.clientX + cursorOffset.x + me.scrollLeft,\n                startY        : event.clientY + cursorOffset.y + me.scrollTop,\n                finalize      : () => me.reset?.()\n            };\n\n            element.classList.add(me.resizingCls);\n\n            me.internalStartResize(me.isTouch);\n        }\n    }\n\n    /**\n     * Initialize listeners\n     * @private\n     */\n    initListeners() {\n        const\n            me = this,\n            dragStartListeners = {\n                element    : me.outerElement,\n                mousedown  : documentListeners.down,\n                touchstart : documentListeners.touchstart,\n                thisObj    : me\n            };\n\n        if (!me.handleSelector && BrowserHelper.isHoverableDevice) {\n            dragStartListeners.mousemove = {\n                handler : documentListeners.move,\n\n                // Filter events for checkResizeHandles so we only get called if the mouse\n                // is over one of our targets.\n                delegate : me.targetSelector\n            };\n\n            // We need to clean up when we exit one of our targets\n            dragStartListeners.mouseleave = {\n                handler  : 'onMouseLeaveTarget',\n                delegate : me.targetSelector,\n                capture  : true\n            };\n        }\n\n        // These will be autoDetached upon destroy\n        EventHelper.on(dragStartListeners);\n    }\n\n    get isRTL() {\n        return Boolean(this.rtlSource?.rtl);\n    }\n\n    //endregion\n\n    //region Scroll helpers\n\n    get scrollLeft() {\n        if (this.scroller) {\n            return this.scroller.x;\n        }\n\n        return this.outerElement.scrollLeft;\n    }\n\n    get scrollTop() {\n        if (this.scroller) {\n            return this.scroller.y;\n        }\n\n        return this.outerElement.scrollTop;\n    }\n\n    //endregion\n\n    //region Events\n\n    internalStartResize(isTouch) {\n        const dragListeners = {\n            element : document,\n            keydown : documentListeners.keydown,\n            thisObj : this\n        };\n\n        if (isTouch) {\n            dragListeners.touchmove = documentListeners.touchmove;\n            // Touch desktops don't fire touchend event when touch has ended, instead pointerup is fired\n            // iOS do fire touchend\n            dragListeners.touchend = dragListeners.pointerup = documentListeners.touchend;\n        }\n        else {\n            dragListeners.mousemove = documentListeners.move;\n            dragListeners.mouseup = documentListeners.up;\n        }\n\n        // A listener detacher is returned\n        this.removeDragListeners = EventHelper.on(dragListeners);\n    }\n\n    // Empty class implementation. If listeners *are* added, the detacher is added\n    // as an instance property. So this is always callable.\n    removeDragListeners() {}\n\n    reset() {\n        this.removeDragListeners?.();\n        this.context = null;\n        this.trigger('reset');\n    }\n\n    canResize(element, event) {\n        return !this.isElementResizable || this.isElementResizable(element, event);\n    }\n\n    onPointerDown(isTouch, event) {\n        const me = this;\n\n        me.startEvent = event;\n\n        if (me.canResize(event.target, event) && me.grabResizeHandle(isTouch, event)) {\n            // Stop event if resize handle was grabbed (resize started)\n            event.stopImmediatePropagation();\n            if (event.type === 'touchstart') {\n                event.preventDefault();\n            }\n            me.internalStartResize(isTouch);\n        }\n    }\n\n    onTouchStart(event) {\n        // only allowing one finger for now...\n        if (event.touches.length > 1) {\n            return;\n        }\n\n        this.onPointerDown(true, event);\n    }\n\n    /**\n     * Grab draggable element on mouse down.\n     * @private\n     * @param {MouseEvent|PointerEvent} event\n     */\n    onMouseDown(event) {\n        // only dragging with left mouse button\n        if (event.button !== 0) {\n            return;\n        }\n\n        this.onPointerDown(false, event);\n    }\n\n    internalMove(isTouch, event) {\n        const\n            me                     = this,\n            { context, direction } = me;\n\n        if (context?.element && (context.started || EventHelper.getDistanceBetween(me.startEvent, event) >= me.dragThreshold)) {\n            if (!context.started) {\n                me.scrollManager?.startMonitoring(ObjectHelper.merge({\n                    scrollables : [\n                        {\n                            element : me.dragWithin || me.outerElement,\n                            // <remove-on-release>\n                            // TODO: Update this then when we add support for resizing in both directions simultaneously\n                            // </remove-on-release>\n                            direction\n                        }\n                    ],\n                    callback : config => me.context?.element && me.lastMouseMoveEvent && me.update(me.lastMouseMoveEvent, config)\n                }, me.monitoringConfig));\n\n                me.trigger('resizeStart', { context, event });\n\n                context.started = true;\n            }\n\n            me.update(event);\n        }\n        // If a mousemove, and we are using zones, and not handles, we have to\n        // programmatically check whether we are over a handle, and add/remove\n        // classes to change the mouse cursor to resize.\n        // If we are using handles, their CSS will set the mouse cursor.\n        else if (!isTouch && !me.handleSelector) {\n            me.checkResizeHandles(event);\n        }\n    }\n\n    onTouchMove(event) {\n        this.internalMove(true, event);\n    }\n\n    /**\n     * Move grabbed element with mouse.\n     * @param {MouseEvent|PointerEvent} event\n     * @fires resizestart\n     * @private\n     */\n    onMouseMove(event) {\n        this.internalMove(false, event);\n    }\n\n    onPointerUp(isTouch, event) {\n        const\n            me      = this,\n            context = me.context;\n\n        me.removeDragListeners?.();\n\n        if (context) {\n            me.scrollManager?.stopMonitoring();\n\n            if (context.started) {\n                // Prevent the impending document click from the mouseup event from propagating\n                // into a click on our element.\n                EventHelper.on({\n                    element : document,\n                    thisObj : me,\n                    click   : documentListeners.docclick,\n                    expires : me.clickSwallowDuration, // In case a click did not ensue, remove the listener\n                    capture : true,\n                    once    : true\n                });\n            }\n            me.finishResize(event);\n        }\n        else {\n            me.reset?.();\n        }\n    }\n\n    onTouchEnd(event) {\n        this.onPointerUp(true, event);\n    }\n\n    /**\n     * Drop on mouse up (if dropped on valid target).\n     * @param {MouseEvent|PointerEvent} event\n     * @private\n     */\n    onMouseUp(event) {\n        this.onPointerUp(false, event);\n    }\n\n    /**\n     * This is a capture listener, only added during drag, which prevents a click gesture\n     * propagating from the terminating mouseup gesture\n     * @param {MouseEvent} event\n     * @private\n     */\n    onDocumentClick(event) {\n        event.stopPropagation();\n    }\n\n    /**\n     * Cancel on ESC key\n     * @param {KeyboardEvent} event\n     * @private\n     */\n    onKeyDown(event) {\n        if (event.key === 'Escape') {\n            this.abort();\n        }\n    }\n\n    //endregion\n\n    //region Grab, update, finish\n\n    /**\n     * Updates resize, called when an element is grabbed and mouse moves\n     * @private\n     * @fires resizing\n     */\n    update(event) {\n        const\n            me              = this,\n            context         = me.context,\n            parentRectangle = Rectangle.from(me.outerElement);\n\n        // Calculate the current pointer X. Do not allow overflowing either edge\n        context.currentX = Math.max(Math.min(event.clientX + context.cursorOffset.x, parentRectangle.right), parentRectangle.x) + me.scrollLeft;\n        context.currentY = Math.max(Math.min(event.clientY + context.cursorOffset.y, parentRectangle.bottom), parentRectangle.y) + me.scrollTop;\n\n        if (event) {\n            if (me.updateResize(event)) {\n                me.trigger('resizing', { context, event });\n                context.element.classList.toggle(me.invalidCls, context.valid === false);\n            }\n\n            me.lastMouseMoveEvent = event;\n        }\n    }\n\n    /**\n     * Abort dragging\n     */\n    abort(silent = false) {\n        const me = this;\n\n        me.scrollManager?.stopMonitoring?.();\n\n        if (me.context) {\n            me.abortResize(null, silent);\n        }\n        else if (!me.isDestroyed) {\n            me.reset();\n        }\n    }\n\n    /**\n     * Starts resizing, updates ResizeHelper#context with relevant info.\n     * @private\n     * @param {Boolean} isTouch\n     * @param {MouseEvent} event\n     * @returns {Boolean} True if handled, false if not\n     */\n    grabResizeHandle(isTouch, event) {\n        const me = this;\n\n        if (me.allowResize && !me.allowResize(event.target, event)) {\n            return false;\n        }\n\n        const\n            handleSelector = me.handleSelector,\n            coordsFrom = event.type === 'touchstart' ? event.changedTouches[0] : event,\n            clientX = coordsFrom.clientX,\n            clientY = coordsFrom.clientY,\n            // go up from \"handle\" to resizable element\n            element = me.targetSelector ? event.target.closest(me.targetSelector) : event.target;\n\n        if (element) {\n            let edge;\n\n            // Calculate which edge to resize\n            // If there's a handle selector, see if it's anchored on the left or the right\n            if (handleSelector) {\n                if (event.target.matches(handleSelector)) {\n                    if (me.direction === 'horizontal') {\n                        if (event.pageX < DomHelper.getPageX(element) + element.offsetWidth / 2) {\n                            edge = me.isRTL ? 'right' : 'left';\n                        }\n                        else {\n                            edge =  me.isRTL ? 'left' : 'right';\n                        }\n\n                    }\n                    else {\n                        if (event.pageY < DomHelper.getPageY(element) + element.offsetHeight / 2) {\n                            edge = 'top';\n                        }\n                        else {\n                            edge = 'bottom';\n                        }\n                    }\n                }\n                else {\n                    return false;\n                }\n            }\n            // If we're not using handles, but just active zones\n            // then test whether the event position is in an active resize zone.\n            else {\n                if (me.direction === 'horizontal') {\n                    if (me.overLeftHandle(event, element)) {\n                        edge = me.isRTL ? 'right' : 'left';\n                    }\n                    else if (me.overRightHandle(event, element)) {\n                        edge =  me.isRTL ? 'left' : 'right';\n                    }\n                }\n                else {\n                    if (me.overTopHandle(event, element)) {\n                        edge = 'top';\n                    }\n                    else if (me.overBottomHandle(event, element)) {\n                        edge = 'bottom';\n                    }\n                }\n\n                if (!edge) {\n                    me.context = null;\n                    // not over an edge, abort\n                    return false;\n                }\n            }\n\n            // If resizing is initiated by a touch, we must preventDefault on the touchstart\n            // so that scrolling is not invoked when dragging. This is in lieu of a functioning\n            // touch-action style on iOS Safari. When that's fixed, this will not be needed.\n            if (event.type === 'touchstart') {\n                event.preventDefault();\n            }\n\n            const cursorOffset = me.getCursorOffsetToElementEdge(coordsFrom, element, edge);\n\n            if (me.trigger('beforeResizeStart', { element, event }) !== false) {\n                // store initial size\n                me.context = {\n                    element,\n                    edge,\n                    isTouch,\n                    valid         : true,\n                    async         : false,\n                    direction     : me.direction,\n                    elementStartX : DomHelper.getTranslateX(element) || element.offsetLeft, // extract x from translate\n                    elementStartY : DomHelper.getTranslateY(element) || element.offsetTop, // extract y from translate\n                    newX          : DomHelper.getTranslateX(element) || element.offsetLeft, // No change yet on start, but info must be present\n                    newY          : DomHelper.getTranslateY(element) || element.offsetTop, // No change yet on start, but info must be present\n                    elementWidth  : element.offsetWidth,\n                    elementHeight : element.offsetHeight,\n                    cursorOffset,\n                    startX        : clientX + cursorOffset.x + me.scrollLeft,\n                    startY        : clientY + cursorOffset.y + me.scrollTop,\n                    finalize      : () => me.reset?.()\n                };\n\n                element.classList.add(me.resizingCls);\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    getCursorOffsetToElementEdge(event, element, edge) {\n        const rectEl = Rectangle.from(element);\n\n        let x = 0,\n            y = 0;\n\n        switch (edge) {\n            case 'left':\n                x = rectEl.x - (this.isRTL ? rectEl.width : 0) - event.clientX; // negative\n                break;\n            case 'right':\n                x = rectEl.x + (this.isRTL ? 0 : rectEl.width) - event.clientX; // positive\n                break;\n            case 'top':\n                y = rectEl.y - event.clientY; // negative\n                break;\n            case 'bottom':\n                y = rectEl.y + rectEl.height - event.clientY; // positive\n                break;\n        }\n\n        return { x, y };\n    }\n\n    /**\n     * Check if mouse is over a resize handle (virtual). If so, highlight.\n     * @private\n     * @param {MouseEvent} event\n     */\n    checkResizeHandles(event) {\n        const\n            me     = this,\n            target = me.targetSelector ? event.target.closest(me.targetSelector) : event.target;\n\n        // mouse over a target element and allowed to resize?\n        if (target && (!me.allowResize || me.allowResize(event.target, event))) {\n            me.currentElement = me.handleContainerSelector ? event.target.closest(me.handleContainerSelector) : event.target;\n\n            if (me.currentElement) {\n                let over;\n\n                if (me.direction === 'horizontal') {\n                    over = me.overLeftHandle(event, target) || me.overRightHandle(event, target);\n                }\n                else {\n                    over = me.overTopHandle(event, target) || me.overBottomHandle(event, target);\n                }\n\n                if (over) {\n                    me.highlightHandle(); // over handle\n                }\n                else {\n                    me.unHighlightHandle(); // not over handle\n                }\n            }\n        }\n        else if (me.currentElement) {\n            me.unHighlightHandle(); // outside element\n        }\n    }\n\n    onMouseLeaveTarget(event) {\n        const me = this;\n\n        me.currentElement = me.handleContainerSelector ? event.target.closest(me.handleContainerSelector) : event.target;\n\n        if (me.currentElement) {\n            me.unHighlightHandle();\n        }\n    }\n\n    /**\n     * Updates size of target (on mouse move).\n     * @private\n     * @param {MouseEvent|PointerEvent} event\n     */\n    updateResize(event) {\n        const\n            me = this,\n            {\n                context,\n                allowEdgeSwitch,\n                skipTranslate,\n                skipUpdatingElement\n            }  = me;\n\n        let updated;\n\n        // flip which edge is being dragged depending on whether we're to the right or left of the mousedown\n        if (allowEdgeSwitch) {\n            if (me.direction === 'horizontal') {\n                context.edge = context.currentX > context.startX ? 'right' : 'left';\n            }\n            else {\n                context.edge = context.currentY > context.startY ? 'bottom' : 'top';\n            }\n        }\n\n        const\n            {\n                element,\n                elementStartX,\n                elementStartY,\n                elementWidth,\n                elementHeight,\n                edge\n            }         = context,\n            { style } = element,\n            // limit to outerElement if set\n            deltaX    = context.currentX - context.startX,\n            deltaY    = context.currentY - context.startY,\n            minWidth  = DomHelper.getExtremalSizePX(element, 'minWidth') || me.minWidth,\n            maxWidth  = DomHelper.getExtremalSizePX(element, 'maxWidth') || me.maxWidth,\n            minHeight = DomHelper.getExtremalSizePX(element, 'minHeight') || me.minHeight,\n            maxHeight = DomHelper.getExtremalSizePX(element, 'maxHeight') || me.maxHeight,\n            // dragging the right edge right increases the width, dragging left edge right decreases width\n            sign      = (edge === 'right' && !me.isRTL) || edge === 'bottom' ? 1 : -1,\n            // new width, not allowed to go below minWidth\n            newWidth  = elementWidth + deltaX * sign,\n            newHeight = elementHeight + deltaY * sign;\n\n        let\n            width  = Math.max(minWidth, newWidth),\n            height = Math.max(minHeight, newHeight);\n\n        if (maxWidth > 0) {\n            width = Math.min(width, maxWidth);\n        }\n\n        if (maxHeight > 0) {\n            height = Math.min(height, maxHeight);\n        }\n\n        // remove flex when resizing\n        if (style.flex) {\n            style.flex = '';\n        }\n\n        if (me.direction === 'horizontal' && elementWidth !== width) {\n            if (!skipUpdatingElement) {\n                style.width = Math.abs(width) + 'px';\n            }\n            context.newWidth = width;\n\n            // when dragging left edge, also update position (so that right edge remains in place)\n            if (edge === 'left' || width < 0) {\n                const newX = Math.max(Math.min(elementStartX + elementWidth - me.minWidth, elementStartX + deltaX), 0);\n\n                if (!skipTranslate) {\n                    DomHelper.setTranslateX(element, Math.round(newX));\n                }\n\n                context.newX = newX;\n            }\n            // When dragging the right edge and we're allowed to flip the drag from left to right\n            // through the start point (eg drag event creation) the element must be at its initial X position\n            else if (edge === 'right' && allowEdgeSwitch && !skipTranslate) {\n                DomHelper.setTranslateX(element, elementStartX);\n            }\n            updated = true;\n        }\n        else if (me.direction === 'vertical' && elementHeight !== newHeight) {\n            if (!skipUpdatingElement) {\n                style.height = Math.abs(height) + 'px';\n            }\n            context.newHeight = height;\n\n            // when dragging top edge, also update position (so that bottom edge remains in place)\n            if (edge === 'top' || height < 0) {\n                context.newY = Math.max(Math.min(elementStartY + elementHeight - me.minHeight, elementStartY + deltaY), 0);\n                if (!skipTranslate) {\n                    DomHelper.setTranslateY(element, context.newY);\n                }\n            }\n            // When dragging the bottom edge and we're allowed to flip the drag from top to bottom\n            // through the start point (eg drag event creation) the element must be at its initial Y position\n            else if (edge === 'bottom' && allowEdgeSwitch && !skipTranslate) {\n                DomHelper.setTranslateY(element, elementStartY);\n            }\n            updated = true;\n        }\n\n        return updated;\n    }\n\n    /**\n     * Finalizes resize, fires drop.\n     * @private\n     * @param {MouseEvent|PointerEvent} event\n     * @fires resize\n     * @fires cancel\n     */\n    finishResize(event) {\n        const\n            me          = this,\n            context     = me.context,\n            eventObject = { context, event };\n\n        context.element.classList.remove(me.resizingCls);\n\n        if (context.started) {\n            let changed = false;\n\n            if (me.direction === 'horizontal') {\n                changed = context.newWidth && context.newWidth !== context.elementWidth;\n            }\n            else {\n                changed = context.newHeight && context.newHeight !== context.elementHeight;\n            }\n            me.trigger(changed ? 'resize' : 'cancel', eventObject);\n\n            if (!context.async) {\n                context.finalize();\n            }\n        }\n        else {\n            me.reset?.();\n        }\n    }\n\n    /**\n     * Abort resizing\n     * @private\n     * @fires cancel\n     */\n    abortResize(event = null, silent = false) {\n        const\n            me      = this,\n            context = me.context;\n\n        context.element.classList.remove(me.resizingCls);\n        if (me.direction === 'horizontal') {\n            // With these statements, no x pos is changed when resizing. Should therefor not reset it when cancelling\n            if (context.edge === 'left' || (context.allowEdgeSwitch && !context.skipTranslate)) {\n                DomHelper.setTranslateX(context.element, context.elementStartX);\n            }\n            context.element.style.width = context.elementWidth + 'px';\n        }\n        else {\n            DomHelper.setTranslateY(context.element, context.elementStartY);\n            context.element.style.height = context.elementHeight + 'px';\n        }\n\n        !silent && me.trigger('cancel', { context, event });\n\n        if (!me.isDestroyed) {\n            me.reset();\n        }\n    }\n\n    //endregion\n\n    //region Handles\n\n    // /**\n    //  * Constrain resize to outerElements bounds\n    //  * @private\n    //  * @param x\n    //  * @returns {*}\n    //  */\n    // constrainResize(x) {\n    //     const me = this;\n    //\n    //     if (me.outerElement) {\n    //         const box = me.outerElement.getBoundingClientRect();\n    //         if (x < box.left) x = box.left;\n    //         if (x > box.right) x = box.right;\n    //     }\n    //\n    //     return x;\n    // }\n\n    /**\n     * Highlights handles (applies css that changes cursor).\n     * @private\n     */\n    highlightHandle() {\n        const\n            me     = this,\n            target = me.targetSelector ? me.currentElement.closest(me.targetSelector) : me.currentElement;\n\n        // over a handle, add cls to change cursor\n        me.currentElement.classList.add('b-resize-handle');\n        target.classList.add('b-over-resize-handle');\n    }\n\n    /**\n     * Unhighlight handles (removes css).\n     * @private\n     */\n    unHighlightHandle() {\n        const\n            me = this,\n            target = me.targetSelector ? me.currentElement.closest(me.targetSelector) : me.currentElement;\n\n        target && target.classList.remove('b-over-resize-handle');\n        me.currentElement.classList.remove('b-resize-handle');\n        me.currentElement = null;\n    }\n\n    overAnyHandle(event, target) {\n        return this.overStartHandle(event, target) || this.overEndHandle(event, target);\n    }\n\n    overStartHandle(event, target) {\n        return this.direction === 'horizontal' ? this.overLeftHandle(event, target) : this.overTopHandle(event, target);\n    }\n\n    overEndHandle(event, target) {\n        return this.direction === 'horizontal' ? this.overRightHandle(event, target) : this.overBottomHandle(event, target);\n    }\n\n    getDynamicHandleSize(opposite, offsetWidth) {\n        const\n            handleCount = opposite ? 2 : 1,\n            { handleSize } = this;\n\n        // Shrink handle size when configured to do so, preserving reserved space between handles\n        if (this.dynamicHandleSize && handleSize * handleCount > offsetWidth - this.reservedSpace) {\n            return Math.max(Math.floor((offsetWidth - this.reservedSpace) / handleCount), 0);\n        }\n\n        return handleSize;\n    }\n\n    /**\n     * Check if over left handle (virtual).\n     * @private\n     * @param {MouseEvent} event MouseEvent\n     * @param {HTMLElement} target The current target element\n     * @returns {Boolean} Returns true if mouse is over left handle, otherwise false\n     */\n    overLeftHandle(event, target) {\n        const\n            me              = this,\n            { offsetWidth } = target;\n\n        if (me.leftHandle && me.canResize(target, event) && (offsetWidth >= me.handleVisibilityThreshold || me.dynamicHandleSize)) {\n            const leftHandle = Rectangle.from(target);\n\n            leftHandle.width = me.getDynamicHandleSize(me.rightHandle, offsetWidth);\n\n            return leftHandle.width > 0 && leftHandle.contains(EventHelper.getPagePoint(event));\n        }\n        return false;\n    }\n\n    /**\n     * Check if over right handle (virtual).\n     * @private\n     * @param {MouseEvent} event MouseEvent\n     * @param {HTMLElement} target The current target element\n     * @returns {Boolean} Returns true if mouse is over left handle, otherwise false\n     */\n    overRightHandle(event, target) {\n        const\n            me              = this,\n            { offsetWidth } = target;\n\n        if (me.rightHandle && me.canResize(target, event) && (offsetWidth >= me.handleVisibilityThreshold || me.dynamicHandleSize)) {\n            const rightHandle = Rectangle.from(target);\n\n            rightHandle.x = rightHandle.right - me.getDynamicHandleSize(me.leftHandle, offsetWidth);\n\n            return rightHandle.width > 0 && rightHandle.contains(EventHelper.getPagePoint(event));\n        }\n        return false;\n    }\n\n    /**\n     * Check if over top handle (virtual).\n     * @private\n     * @param {MouseEvent} event MouseEvent\n     * @param {HTMLElement} target The current target element\n     * @returns {Boolean} Returns true if mouse is over top handle, otherwise false\n     */\n    overTopHandle(event, target) {\n        const\n            me               = this,\n            { offsetHeight } = target;\n\n        if (me.topHandle && me.canResize(target, event) && (offsetHeight >= me.handleVisibilityThreshold  || me.dynamicHandleSize)) {\n            const topHandle = Rectangle.from(target);\n\n            topHandle.height = me.getDynamicHandleSize(me.bottomHandle, offsetHeight);\n\n            return topHandle.height > 0 && topHandle.contains(EventHelper.getPagePoint(event));\n        }\n        return false;\n    }\n\n    /**\n     * Check if over bottom handle (virtual).\n     * @private\n     * @param {MouseEvent} event MouseEvent\n     * @param {HTMLElement} target The current target element\n     * @returns {Boolean} Returns true if mouse is over bottom handle, otherwise false\n     */\n    overBottomHandle(event, target) {\n        const\n            me               = this,\n            { offsetHeight } = target;\n\n        if (me.bottomHandle && me.canResize(target, event) && (offsetHeight >= me.handleVisibilityThreshold  || me.dynamicHandleSize)) {\n            const bottomHandle = Rectangle.from(target);\n\n            bottomHandle.y = bottomHandle.bottom - me.getDynamicHandleSize(me.bottomHandle, offsetHeight);\n\n            return bottomHandle.height > 0 && bottomHandle.contains(EventHelper.getPagePoint(event));\n        }\n        return false;\n    }\n\n    //endregion\n}\n","import ObjectHelper from './ObjectHelper.js';\nimport Widget from '../widget/Widget.js';\nimport Toast from '../widget/Toast.js';\nimport Mask from '../widget/Mask.js';\nimport Point from './util/Point.js';\n\n/**\n * @module Core/helper/WidgetHelper\n */\n\n/**\n * Helper for creating widgets.\n */\nexport default class WidgetHelper {\n    //region Querying\n\n    /**\n     * Returns the widget with the specified id.\n     * @param {String} Id of widget to find\n     * @returns {Core.widget.Widget} The widget if any\n     * @category Querying\n     */\n    static getById(id) {\n        return Widget.getById(id);\n    }\n\n    /**\n     * Returns the Widget which owns the passed element (or event).\n     * @param {HTMLElement|Event} element The element or event to start from\n     * @param {String|Function} [type] The type of Widget to scan upwards for. The lowercase\n     * class name. Or a filter function which returns `true` for the required Widget.\n     * @param {HTMLElement|Number} [limit] The number of components to traverse upwards to find a\n     * match of the type parameter, or the element to stop at.\n     * @returns {Core.widget.Widget} The found Widget or null.\n     * @category Querying\n     */\n    static fromElement(element, type, limit) {\n        return Widget.fromElement(element, type, limit);\n    }\n\n    //endregion\n\n    //region Widgets\n\n    /**\n     * Create a widget.\n     * @example\n     * WidgetHelper.createWidget({\n     *   type: 'button',\n     *   icon: 'user',\n     *   text: 'Edit user'\n     * });\n     * @param {ContainerItemConfig} config Widget config\n     * @returns {Core.widget.Widget} The widget\n     * @category Widgets\n     */\n    static createWidget(config = {}) {\n        return config.isWidget ? config : Widget.create(config);\n    }\n\n    /**\n     * Appends a widget (array of widgets) to the DOM tree. If config is empty, widgets are appended to the DOM. To\n     * append widget to certain position you can pass HTMLElement or its id as config, or as a config, that will be\n     * applied to all passed widgets.\n     *\n     * Usage:\n     *\n     * ```javascript\n     * // Will append button as last item to element with id 'container'\n     * let [button] = WidgetHelper.append({ type : 'button' }, 'container');\n     *\n     * // Same as above, but will add two buttons\n     * let [button1, button2] = WidgetHelper.append([\n     *     { type : 'button' },\n     *     { type : 'button' }\n     *     ], { appendTo : 'container' });\n     *\n     * // Will append two buttons before element with id 'someElement'. Order will be preserved and all widgets will have\n     * // additional class 'my-cls'\n     * let [button1, button2] = WidgetHelper.append([\n     *     { type : 'button' },\n     *     { type : 'button' }\n     *     ], {\n     *         insertBefore : 'someElement',\n     *         cls          : 'my-cls'\n     *     });\n     * ```\n     *\n     * @param {ContainerItemConfig|ContainerItemConfig[]} widget Widget config or array of such configs\n     * @param {HTMLElement|String|Object} [config] Element (or element id) to which to append the widget or config to\n     * apply to all passed widgets\n     * @returns {Core.widget.Widget[]} Array or widgets\n     * @category Widgets\n     */\n    static append(widget, config) {\n        widget = Array.isArray(widget) && widget || [widget];\n\n        if (config instanceof HTMLElement || typeof config === 'string') {\n            config = {\n                appendTo : config\n            };\n        }\n\n        // We want to fix position to insert into to keep order of passed widgets\n        if (config.insertFirst) {\n            const target = typeof config.insertFirst === 'string' ? document.getElementById(config.insertFirst) : config.insertFirst;\n\n            if (target.firstChild) {\n                config.insertBefore = target.firstChild;\n            }\n            else {\n                config.appendTo = target;\n            }\n        }\n\n        return widget.map(item => Widget.create(ObjectHelper.assign({}, config || {}, item)));\n    }\n\n    //endregion\n\n    //region Popups\n\n    /**\n     * Shows a popup (~tooltip) containing widgets connected to specified element.\n     * @example\n     * WidgetHelper.openPopup(element, {\n     *   position: 'bottom center',\n     *   items: [\n     *      { widgetConfig }\n     *   ]\n     * });\n     * @param {HTMLElement} element Element to connect popup to\n     * @param {PopupConfig} config Config object, or string to use as html in popup\n     * @returns {*|{close, widgets}}\n     * @category Popups\n     */\n    static openPopup(element, config) {\n        return Widget.create(ObjectHelper.assign({\n            forElement : element\n        }, typeof config === 'string' ? {\n            html : config\n        } : config), 'popup');\n    }\n\n    /**\n     * Shows a context menu connected to the specified element.\n     * @example\n     * WidgetHelper.showContextMenu(element, {\n     *   items: [\n     *      { id: 'addItem', icon: 'add', text: 'Add' },\n     *      ...\n     *   ],\n     *   onItem: item => alert('Clicked ' + item.text)\n     * });\n     * @param {HTMLElement|Number[]} element Element (or a coordinate) to show the context menu for\n     * @param {MenuItemConfig} config Context menu config, see example\n     * @returns {Core.widget.Menu}\n     * @category Popups\n     */\n    static showContextMenu(element, config) {\n        const me = this;\n\n        if (me.currentContextMenu) {\n            me.currentContextMenu.destroy();\n        }\n\n        if (element instanceof HTMLElement) {\n            config.forElement = element;\n        }\n        else {\n            config.forElement = document.body;\n            if (Array.isArray(element)) {\n                element = new Point(...element);\n            }\n            if (element instanceof Point) {\n                config.align = {\n                    position : element\n                };\n            }\n        }\n        config.internalListeners = { destroy : me.currentContextMenu = null };\n\n        return me.currentContextMenu = Widget.create(config, 'menu');\n    }\n\n    /**\n     * Attached a tooltip to the specified element.\n     * @example\n     * WidgetHelper.attachTooltip(element, {\n     *   text: 'Useful information goes here'\n     * });\n     * @param {HTMLElement} element Element to attach tooltip for\n     * @param {String|TooltipConfig} configOrText Tooltip config or tooltip string, see example and source\n     * @returns {HTMLElement} The passed element\n     * @category Popups\n     */\n    static attachTooltip(element, configOrText) {\n        return Widget.attachTooltip(element, configOrText);\n    }\n\n    /**\n     * Checks if element has tooltip attached\n     *\n     * @param {HTMLElement} element Element to check\n     * @returns {Boolean}\n     * @category Popups\n     */\n    static hasTooltipAttached(element) {\n        return Widget.resolveType('tooltip').hasTooltipAttached(element);\n    }\n\n    /**\n     * Destroys any tooltip attached to an element, removes it from the DOM and unregisters any tip related listeners\n     * on the element.\n     *\n     * @param {HTMLElement} element Element to remove tooltip from\n     * @category Popups\n     */\n    static destroyTooltipAttached(element) {\n        return Widget.resolveType('tooltip').destroyTooltipAttached(element);\n    }\n\n    //endregion\n\n    //region Mask\n\n    /**\n     * Masks the specified element, showing a message in the mask.\n     * @param {HTMLElement} element Element to mask\n     * @param {String} msg Message to show in the mask\n     * @category Mask\n     */\n    static mask(element, msg = 'Loading') {\n        if (element) {\n            // Config object normalization\n            if (element instanceof HTMLElement) {\n                element = {\n                    target : element,\n                    text   : msg\n                };\n            }\n\n            return Mask.mask(element, element.target);\n        }\n    }\n\n    /**\n     * Unmask the specified element.\n     * @param {HTMLElement} element\n     * @category Mask\n     */\n    static unmask(element, close = true) {\n        if (element.mask) {\n            if (close) {\n                element.mask.close();\n            }\n            else {\n                element.mask.hide();\n            }\n        }\n    }\n\n    //endregion\n\n    //region Toast\n\n    /**\n     * Show a toast\n     * @param {String} msg message to show in the toast\n     * @category Mask\n     */\n    static toast(msg) {\n        return Toast.show(msg);\n    }\n\n    //endregion\n}\n","const hasOwnProperty = Object.prototype.hasOwnProperty;\n\nlet cacheKey = null;\n\nfunction setParser(me, parser) {\n    Object.defineProperty(me, 'parser', {\n        value : parser\n    });\n\n    return parser;\n}\n\nclass Default {\n    constructor(formatter) {\n        this.formatter = formatter;\n    }\n\n    format(value) {\n        return this.formatter.defaultFormat(value);\n    }\n\n    parse(value, strict) {\n        return this.formatter.defaultParse(value, strict);\n    }\n\n    resolvedOptions() {\n        return null;\n    }\n}\n\n// This class does not extend Core.Base because instances are not reconfigurable (making\n// setConfig harmful) nor destroyable. Instead, they get frozen and cached according to\n// their \"config\" definition.\n/**\n * Abstract base class for formatters.\n * @private\n */\nexport default class Formatter {\n    static get(format) {\n        if (format == null) {\n            return this.NULL;\n        }\n        if (format instanceof this) {\n            return format;\n        }\n\n        const\n            key = (typeof format === 'string') ? format : JSON.stringify(format),\n            cache = this.cache;\n\n        let fmt = cache.get(key);\n\n        if (!fmt) {\n            cacheKey = key;  // this is grabbed by our constructor below...\n            fmt = new this(format);\n\n            cache.set(key, fmt);\n        }\n\n        return fmt;\n    }\n\n    static get cache() {\n        return (hasOwnProperty.call(this, '_cache') && this._cache) || (this._cache = new Map());\n    }\n\n    static get NULL() {\n        return hasOwnProperty.call(this, '_null') ? this._null : (this._null = new this(null));\n    }\n\n    constructor(config) {\n        const me = this;\n\n        // This is done in a funny way so as not to complicate the derived constructor's\n        // desire to maintain a single argument signature, as well as it's calling of\n        // Object.freeze() to ensure immutability in dev mode.\n        me.cacheKey = cacheKey;\n\n        cacheKey = null;\n\n        me.initialize();\n\n        if (config === null) {\n            me.formatter = new Default(me);\n        }\n        else {\n            me.configure(config);\n\n            // Bring locale and other defaulted options back onto this object:\n            for (const [key, value] of Object.entries(me.resolvedOptions())) {\n                // For some reason (locale-specific perhaps), resolvedOptions returns\n                // with 'undefined' in some keys (e.g., min/maximumFractionDigits) when\n                // we specified 0.\n                //\n                // The second check is to only bring back values that we understand.\n                if (value != null && (key in me.defaults)) {\n                    me[key] = value;\n                }\n            }\n        }\n    }\n\n    get parser() {\n        // Replace this property w/the actual instance:\n        return setParser(this, new this.constructor.Parser(this));\n    }\n\n    defaultFormat(value) {\n        return (value == null) ? value : String(value);\n    }\n\n    defaultParse(value) {\n        return value;\n    }\n\n    format(value) {\n        return (value == null) ? value : this.formatter.format(value);\n    }\n\n    parse(value, strict) {\n        return (value == null) ? value : this.parser.parse(value, strict);\n    }\n\n    parseStrict(value) {\n        return this.parse(value, true);\n    }\n\n    resolvedOptions() {\n        return this.formatter.resolvedOptions();\n    }\n}\n","import Formatter from './Formatter.js';\nimport StringHelper from '../StringHelper.js';\nimport LocaleManager from '../../localization/LocaleManager.js';\nimport '../../localization/En.js';\n\n/**\n * @module Core/helper/util/NumberFormat\n */\n\nconst\n    escapeRegExp = StringHelper.escapeRegExp,\n    digitsRe = /[\\d+-]/g,\n    // We cannot pass locale=null:\n    newFormatter = (locale, config) => new Intl.NumberFormat(locale || undefined, config),\n    numFormatRe = /^(?:([$])\\s*)?(?:(\\d+)>)?\\d+(,\\d+)?(?:\\.((\\d*)(?:#*)|[*]))?(?:\\s*([%])?)?$/,\n    unicodeMinus = '\\u2212';\n\nclass NumberParser {\n    constructor(formatter) {\n        const\n            me = this,\n            locale = formatter.locale,\n            // We need a formatter for this locale that has decimals and grouping:\n            numFmt = newFormatter(locale, {\n                maximumFractionDigits : 3\n            }),\n            currency = formatter.is.currency ? me._decodeStyle(locale, {\n                style           : 'currency',\n                currency        : formatter.currency,\n                currencyDisplay : formatter.currencyDisplay\n            }) : null,\n            percent = formatter.is.percent ? me._decodeStyle(locale, {\n                style : 'percent'\n            }) : null,\n            decimal = numFmt.format(1.2).replace(digitsRe, '')[0],\n            grouper = numFmt.format(1e9).replace(digitsRe, '')[0] || '';\n\n        Object.assign(me, { currency, decimal, formatter, grouper, percent });\n\n        me.decimal = decimal;\n        me.decimalRe = escapeRegExp(decimal, 'g');\n        me.grouper = grouper;\n\n        // The stripRe removes whitespace, currency text, percent text and grouping chars:\n        me.stripRe = new RegExp(\n            `(?:\\\\s+|${escapeRegExp(grouper)})` +\n            (currency ? `|(?:${escapeRegExp(currency.text)})` : '') +\n            (percent ? `|(?:${escapeRegExp(percent.text)})` : ''),\n            'g');\n\n        //<debug>\n        Object.freeze(me);\n        Object.freeze(currency);\n        Object.freeze(percent);\n        //</debug>\n    }\n\n    decimalPlaces(value) {\n        value = value.replace(this.stripRe, '');\n\n        const dot = value.indexOf(this.decimal) + 1;\n\n        return dot && (value.length - dot);\n    }\n\n    parse(value, strict) {\n        if (typeof value === 'string') {\n            value = value.replace(this.stripRe, '').replace(this.decimalRe, '.').replace(unicodeMinus, '-');\n\n            value = strict ? Number(value) : parseFloat(value);\n\n            if (this.formatter.is.percent) {\n                value /= 100;\n            }\n        }\n        // else, a number is already parsed but could be null...\n\n        return value;\n    }\n\n    _decodeStyle(locale, fmtDef) {\n        const\n            fmt = newFormatter(locale, fmtDef),\n            decFmt = newFormatter(locale, Object.assign(\n                fmt.resolvedOptions(),\n                { style : 'decimal' }\n            )),\n            zero = fmt.format(0),  // = '0%' or '$0.00' in en-US\n            zeroDec = decFmt.format(0);  // = '0' or '0.00' in en-US\n\n        return {\n            suffix : zero.startsWith(zeroDec),\n            text   : zero.replace(zeroDec, '').trim()\n        };\n    }\n}\n\n/**\n * This class is an enhancement to `Intl.NumberFormat` that has a more flexible\n * constructor as well as other features such as `parse()`.\n *\n * All constructor forms take a single argument. The most common is to pass a format\n * {@link #config-template} string:\n *```\n *  const formatter = new NumberFormat('9,999.99##');\n *```\n * The above is equivalent to:\n *```\n *  const formatter = new Intl.NumberFormat({\n *      useGrouping           : true,\n *      minimumFractionDigits : 2,\n *      maximumFractionDigits : 4\n *  });\n *```\n * The `formatter` created above is used as follows (in the `en-US` locale):\n *```\n *  console.log(formatter.format(12345.54321));\n *  console.log(formatter.format(42));\n *\n *  // 12,345.5432\n *  // 42.00\n *```\n * When a format template is insufficient, a config object can be provided, similar to\n * `Intl.NumberFormat`'s `options` parameter. While all options from `Intl.NumberFormat`\n * are valid properties for this class's config object, additional properties are\n * supported.\n *\n * For example:\n *```\n *  new NumberFormat({\n *      locale      : 'en-US',\n *      template    : '$9,999',\n *      currency    : 'USD',\n *      significant : 5\n *  });\n *```\n * The `locale` option takes the place of the first positional parameter to the\n * `Intl.NumberFormat` constructor. The `template` config is the same string that can be\n * passed by itself.\n *\n * The shorthand properties `fraction`, `integer`, and `significant` set the standard\n * options `minimumFractionDigits`, `maximumFractionDigits`, `minimumIntegerDigits`,\n * `minimumSignificantDigits`, and `maximumSignificantDigits`.\n *\n * NOTE: Instances of `NumberFormat` are immutable after construction.\n *\n * For details about `Intl.NumberFormat` see [MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat).\n */\nexport default class NumberFormat extends Formatter {\n\n    // <debug>\n    // region Localization test\n    static localization = [\n        'L{locale}',\n        'L{currency}'\n    ];\n    // endregion\n    // </debug>\n\n    static get $name() {\n        return 'NumberFormat';\n    }\n\n    //<debug>\n    constructor(options) {\n        super(options);\n\n        this.parse('0');  // throw away parse just to get us freezable\n\n        Object.freeze(this.is);\n        Object.freeze(this);\n    }\n    //</debug>\n\n    initialize() {\n        this._as = {\n            // cacheKey : cachedInstance\n        };\n\n        this.is = {\n            decimal  : false,\n            currency : false,\n            percent  : false,\n            null     : true,\n            from     : null\n        };\n    }\n\n    get truncator() {\n        const scale = this.maximumFractionDigits;\n\n        return (scale == null)\n            ? null\n            : this.as({ style : 'decimal', maximumFractionDigits : Math.min(20, scale + 1) }, 'truncator');\n    }\n\n    configure(options) {\n        const me = this;\n\n        if (typeof options !== 'string') {\n            Object.assign(me, options);\n        }\n        else {\n            me.template = options;\n        }\n\n        const\n            config = {},\n            loc = me.locale ? LocaleManager.locales[me.locale] : LocaleManager.locale,\n            defaults = loc && loc.NumberFormat,\n            template = me.template;\n\n        if (defaults) {\n            for (const key in defaults) {\n                if (me[key] == null && typeof defaults[key] !== 'function') {\n                    me[key] = defaults[key];\n                }\n            }\n        }\n\n        if (template) {\n            const\n                match = numFormatRe.exec(template),\n                m2 = match[2],\n                m4 = match[4];\n\n            me.useGrouping = !!match[3];\n            me.style = match[1] ? 'currency' : (match[6] ? 'percent' : 'decimal');\n\n            if (m2) {\n                me.integer = +m2;\n            }\n\n            if (m4 === '*') {\n                me.fraction = [0, 20];\n            }\n            else if (m4 != null) {\n                me.fraction = [match[5].length, m4.length];\n            }\n        }\n\n        me._minMax('fraction', true, true);\n        me._minMax('integer', true, false);\n        me._minMax('significant', false, true);\n\n        for (const key in me.defaults) {\n            if (me[key] != null) {\n                config[key] = me[key];\n            }\n        }\n\n        me.is.from = me.from && me.from.is;\n        me.is[me.style] = !(me.is.null = false);\n\n        me.formatter = newFormatter(me.locale, config);\n    }\n\n    /**\n     * Creates a derived `NumberFormat` from this instance, with a different `style`. This is useful for processing\n     * currency and percentage styles without the symbols being injected in the formatting.\n     *\n     * @param {String|Object} change The new style (if a string) or a set of properties to update.\n     * @param {String} [cacheAs] A key by which to cache this derived formatter.\n     * @returns {Core.helper.util.NumberFormat}\n     */\n    as(change, cacheAs = null) {\n        const\n            config = this.resolvedOptions() || { template : '9.*' },\n            cache = this._as;\n\n        let ret = cacheAs && cache[cacheAs];\n\n        if (!ret) {\n            if (typeof change === 'string') {\n                config.style = change;\n            }\n            else {\n                Object.assign(config, change);\n            }\n\n            config.from = this;\n\n            ret = new NumberFormat(config);\n        }\n\n        if (cacheAs) {\n            cache[cacheAs] = ret;\n        }\n\n        return ret;\n    }\n\n    defaultParse(value, strict) {\n        return (value == null) ? value : (strict ? Number(value) : parseFloat(value));\n    }\n\n    /**\n     * Returns the given `value` formatted in accordance with the specified locale and\n     * formatting options.\n     *\n     * @param {Number} value\n     * @returns {String}\n     */\n    format(value) {\n        if (typeof value === 'string') {\n            const v = Number(value);\n\n            value = isNaN(v) ? this.parse(value) : v;\n        }\n\n        return super.format(value);\n    }\n\n    // The parse() method is inherited but the base class implementation\n    // cannot properly document the parameter and return types:\n\n    /**\n     * Returns a `Number` parsed from the given, formatted `value`, in accordance with the\n     * specified locale and formatting options.\n     *\n     * If the `value` cannot be parsed, `NaN` is returned.\n     *\n     * Pass `strict` as `true` to require all text to convert. In essence, the default is\n     * in line with JavaScript's `parseFloat` while `strict=true` behaves like the `Number`\n     * constructor:\n     *```\n     *  parseFloat('1.2xx');  // = 1.2\n     *  Number('1.2xx')       // = NaN\n     *```\n     * @method parse\n     * @param {String} value\n     * @param {Boolean} [strict=false]\n     * @returns {Number}\n     */\n\n    /**\n     * Returns a `Number` parsed from the given, formatted `value`, in accordance with the\n     * specified locale and formatting options.\n     *\n     * If the `value` cannot be parsed, `NaN` is returned.\n     *\n     * This method simply passes the `value` to `parse()` and passes `true` for the second\n     * argument.\n     *\n     * @method parseStrict\n     * @param {String} value\n     * @returns {Number}\n     */\n\n    /**\n     * Returns the given `Number` rounded in accordance with the specified locale and\n     * formatting options.\n     *\n     * @param {Number|String} value\n     * @returns {Number}\n     */\n    round(value) {\n        return this.parse(this.format(value));\n    }\n\n    /**\n     * Returns the given `Number` truncated to the `maximumFractionDigits` in accordance\n     * with the specified locale and formatting options.\n     *\n     * @param {Number|String} value\n     * @returns {Number}\n     */\n    truncate(value) {\n        const\n            me = this,\n            scale = me.maximumFractionDigits,\n            { truncator } = me;\n\n        let v = me.parse(value),\n            dot;\n\n        if (truncator) {\n            v = truncator.format(v);\n            dot = v.indexOf(truncator.parser.decimal);\n\n            if (dot > -1 && v.length - dot  - 1 > scale) {\n                v = v.substr(0, dot + scale + 1);\n            }\n\n            v = truncator.parse(v);\n        }\n\n        return v;\n    }\n\n    resolvedOptions() {\n        const options = super.resolvedOptions();\n\n        for (const key in options) {\n            // For some reason, on TeamCity, tests get undefined for some properties...\n            // maybe a locale issue?\n            if (options[key] === undefined) {\n                options[key] = this[key];\n            }\n        }\n\n        return options;\n    }\n\n    /**\n     * Expands the provided shorthand into the \"minimum*Digits\" and \"maximum*Digits\".\n     * @param {String} name\n     * @param {Boolean} setMin\n     * @param {Boolean} setMax\n     * @private\n     */\n    _minMax(name, setMin, setMax) {\n        const\n            me = this,\n            value = me[name];\n\n        if (value != null) {\n            const\n                capName = StringHelper.capitalize(name),\n                max = `maximum${capName}Digits`,\n                min = `minimum${capName}Digits`;\n\n            if (typeof value === 'number') {\n                if (setMin) {\n                    me[min] = value;\n                }\n\n                if (setMax) {\n                    me[max] = value;\n                }\n            }\n            else {\n                me[min] = value[0];\n                me[max] = value[1];\n            }\n        }\n    }\n}\n\nNumberFormat.Parser = NumberParser;\n\nObject.assign(NumberFormat.prototype, {\n    // This object holds only those properties that Intl.NumberFormat accepts in its\n    // \"options\" parameter. Only these options will be copied from the NumberFormat\n    // and passed to the Intl.NumberFormat constructor and only these will be copied\n    // back from its resolvedOptions:\n    defaults : {\n        /**\n         * The formatting style.\n         *\n         * Valid values are: `'decimal'` (the default), `'currency'`, and `'percent'`.\n         * @config {'decimal'|'currency'|'percent'}\n         * @default\n         */\n        style : 'decimal',\n\n        /**\n         * The currency to use when using `style: 'currency'`. For example, `'USD'` (US dollar)\n         * or `'EUR'` for the euro.\n         *\n         * If not provided, the {@link Core.localization.LocaleManager} default will be used.\n         * @config {Boolean}\n         */\n        currency : null,\n\n        /**\n         * The format in which to display the currency value when using `style: 'currency'`.\n         *\n         * Valid values are: `'symbol'` (the default), `'code'`, and `'name'`.\n         * @config {'symbol'|'code'|'name'}\n         * @default\n         */\n        currencyDisplay : 'symbol',\n\n        /**\n         * The name of the locale. For example, `'en-US'`. This config is the same as the\n         * first argument to the `Intl.NumberFormat` constructor.\n         *\n         * Defaults to the browser's default locale.\n         * @config {String}\n         */\n        locale : null,\n\n        /**\n         * The maximum number of digits following the decimal.\n         *\n         * This is more convenient to specify using the {@link #config-fraction} config.\n         * @config {Number}\n         */\n        maximumFractionDigits : null,\n\n        /**\n         * The minimum number of digits following the decimal.\n         *\n         * This is more convenient to specify using the {@link #config-fraction} config.\n         * @config {Number}\n         */\n        minimumFractionDigits : null,\n\n        /**\n         * The minimum number of digits preceding the decimal.\n         *\n         * This is more convenient to specify using the {@link #config-integer} config.\n         * @config {Number}\n         */\n        minimumIntegerDigits : null,\n\n        /**\n         * The maximum number of significant digits.\n         *\n         * This is more convenient to specify using the {@link #config-significant} config.\n         * @config {Number}\n         */\n        maximumSignificantDigits : null,\n\n        /**\n         * The minimum number of significant digits.\n         *\n         * This is more convenient to specify using the {@link #config-significant} config.\n         * @config {Number}\n         */\n        minimumSignificantDigits : null,\n\n        /**\n         * Specify `false` to disable thousands separators.\n         * @config {Boolean}\n         * @default\n         */\n        useGrouping : true\n    },\n\n    /**\n     * Specifies the `minimumFractionDigits` and `minimumFractionDigits` in a compact\n     * way. If this value is a `Number`, it sets both the minimum and maximum to that\n     * value. If this value is an array, `[0]` sets the minimum and `[1]` sets the\n     * maximum.\n     * @config {Number|Number[]}\n     */\n    fraction : null,\n\n    from : null,\n\n    /**\n     * An alias for `minimumIntegerDigits`.\n     * @config {Number}\n     */\n    integer : null,\n\n    /**\n     * Specifies the `minimumSignificantDigits` and `minimumSignificantDigits` in a compact\n     * format. If this value is a `Number`, it sets only the maximum to that value. If this\n     * value is an array, `[0]` sets the minimum and `[1]` sets the maximum.\n     *\n     * If this value (or `minimumSignificantDigits` or `minimumSignificantDigits`) is set,\n     * `integer` (and `minimumIntegerDigits`) and `fraction` (and `minimumFractionDigits`\n     * and `minimumFractionDigits`) are ignored.\n     *\n     * @config {Number|Number[]}\n     */\n    significant : null,\n\n    /**\n     * A format template consisting of the following parts:\n     *```\n     *  [$] [\\d+:] \\d+ [,\\d+] [.\\d* [#*] | *] [%]\n     *```\n     * If the template begins with a `'$'`, the formatter's `style` option is set to\n     * `'currency'`. If the template ends with `'%'`, `style` is set to `'percent'`.\n     * It is invalid to include both characters. When using `'$'`, the `currency` symbol\n     * defaults to what is provided by the {@link Core.localization.LocaleManager}.\n     *\n     * To set the `minimumIntegerDigits`, the desired minimum comes before the first\n     * digits in the template and is followed by a `'>'` (greater-than). For example:\n     *```\n     *  5>9,999.00\n     *```\n     * The above sets `minimumIntegerDigits` to 5.\n     *\n     * The `useGrouping` option is enabled if there is a `','` (comma) present and is\n     * disabled otherwise.\n     *\n     * If there is a `'.'` (decimal) present, it may be followed by either of:\n     *\n     *  - Zero or more digits which may then be followed by zero or more `'#'` characters.\n     *    The number of digits determines the `minimumFractionDigits`, while the total\n     *    number of digits and `'#'`s determines the `maximumFractionDigits`.\n     *  - A single `'*'` (asterisk) indicating any number of fractional digits (no minimum\n     *    or maximum).\n     *\n     * @config {String}\n     */\n    template : null\n});\n\nObject.assign(NumberFormat.prototype, NumberFormat.prototype.defaults);\n\n// <remove-on-release>\n// TODO: is this the \"right\" way to do this?\n// </remove-on-release>\nFormatter.number = (format, value) => NumberFormat.format(format, value);\n","import Base from '../Base.js';\nimport StringHelper from '../helper/StringHelper.js';\nimport Events from './Events.js';\nimport ArrayHelper from '../helper/ArrayHelper.js';\n\n/**\n * @module Core/mixin/Clipboardable\n */\n\n/**\n * This class is used internally in Clipboardable to create a shared clipboard that can be used from multiple instances\n * of different widgets.\n *\n * Can read and write to native Clipboard API if allowed, but always holds a local `clipboard` as a fallback.\n * @extends Core/Base\n * @private\n * @mixes Events\n */\nclass Clipboard extends Base.mixin(Events) {\n\n    // Defaults to true, so to set this lazy on first read/write\n    hasNativeAccess = true;\n    _content = null;\n\n    /**\n     * Write to the native Clipboard API or a local clipboard as a fallback.\n     * @param text Only allows string values\n     * @param allowNative `true` will try writing to the Clipboard API once\n     * @private\n     */\n    async writeText(text, allowNative) {\n        const\n            me           = this,\n            { _content } = me;\n\n        if (allowNative && me.hasNativeAccess) {\n            try {\n                await navigator.clipboard.writeText(text);\n            }\n            catch (e) {\n                me.hasNativeAccess = false;\n            }\n        }\n        if (_content !== text) {\n            // Always writes to local clipboard\n            me._content = text;\n            me.triggerContentChange(_content, false, true);\n        }\n    }\n\n    /**\n     * Reads from the native Clipboard API or a local clipboard as a fallback.\n     * @param allowNative `true` will try reading from the Clipboard API once\n     * @private\n     */\n    async readText(allowNative) {\n        const\n            me           = this,\n            { _content } = me;\n\n        if (allowNative && me.hasNativeAccess) {\n            try {\n                const text = await navigator.clipboard.readText();\n\n                if (_content !== text) {\n                    me._content = text;\n                    me.triggerContentChange(_content, true);\n                }\n                return text;\n            }\n            catch (e) {\n                me.hasNativeAccess = false;\n            }\n        }\n        return _content;\n    }\n\n    /**\n     * Call this to let other instances know that data has been pasted\n     * @param source\n     */\n    triggerPaste(source) {\n        this.trigger('paste', { source, text : this._content });\n    }\n\n    triggerContentChange(oldText, fromRead = false, fromWrite = false) {\n        this.trigger('contentChange', { fromRead, fromWrite, oldText, newText : this._content });\n    }\n\n    async clear(allowNative) {\n        await this.writeText('', allowNative);\n    }\n\n}\n\n/**\n * Mixin for handling clipboard data.\n * @mixin\n */\nexport default Target => class Clipboardable extends (Target || Base) {\n\n    static $name = 'Clipboardable';\n\n    static configurable = {\n\n        /**\n         * Set this to `true` to use native Clipboard API if it is available\n         * @config {Boolean}\n         * @default\n         * @private\n         */\n        useNativeClipboard : false\n    };\n\n    construct(...args) {\n        super.construct(...args);\n\n        if (!globalThis.bryntum.clipboard) {\n            globalThis.bryntum.clipboard = new Clipboard();\n        }\n\n        globalThis.bryntum.clipboard.ion({\n            paste         : 'onClipboardPaste',\n            contentChange : 'onClipboardContentChange',\n            thisObj       : this\n        });\n    }\n\n    /**\n     * Gets the current shared Clipboard instance\n     * @private\n     */\n    get clipboard() {\n        return globalThis.bryntum.clipboard;\n    }\n\n    // Called when someone triggers a paste event on the shared Clipboard\n    onClipboardPaste({ text, source }) {\n        const\n            me                       = this,\n            { clipboardText, isCut } = me,\n            isOwn                    = me.compareClipboardText(clipboardText, text);\n\n        // If \"my\" data has been pasted somewhere\n        if (isOwn && isCut) {\n            // Hook to be able to handle data that has been cut out. Remove for example.\n            me.handleCutData?.({ text, source });\n            me.isCut = false;\n            me.cutData = null;\n        }\n        // If any data other data has been pasted, clear \"my\" clipboard\n        else if (!isOwn) {\n            me.clearClipboard(false);\n        }\n    }\n\n    // Calls when the shared clipboard writes or reads a new string value\n    onClipboardContentChange({ newText }) {\n        // If clipboard has new data, clear \"my\" clipboard\n        if (!this.compareClipboardText(this.clipboardText, newText)) {\n            this.clearClipboard(false);\n        }\n    }\n\n    // When a cut is done, or a cut is deactivated\n    set cutData(data) {\n        const me = this;\n\n        // Call hook for each current item in data\n        me._cutData?.forEach(r => me.setIsCut(r, false));\n        // Set and call again for new data\n        me._cutData = ArrayHelper.asArray(data);\n        me._cutData?.forEach(r => me.setIsCut(r, true));\n    }\n\n    get cutData() {\n        return this._cutData;\n    }\n\n    setIsCut() {}\n\n    /**\n     * Writes string data to the shared/native clipboard. Also saves a local copy of the string and the unconverted\n     * data.\n     *\n     * But firstly, it will call beforeCopy function and wait for a response. If false, the copy will be prevented.\n     *\n     * @param data\n     * @param isCut\n     * @param params Will be passed to beforeCopy function\n     * @returns {String} String data that was written to the clipboard\n     * @private\n     */\n    async writeToClipboard(data, isCut, params = {}) {\n        // Hook to be able to send event for example\n        if (await this.beforeCopy({ data, isCut, ...params }) === false) {\n            return;\n        }\n\n        const\n            me         = this,\n            isString   = typeof data === 'string',\n            stringData = isString\n                // If data is string, use that\n                ? data\n                // If not, and there is a stringConverter, use that. Otherwise, just encode it as JSON\n                : (me.stringConverter ? me.stringConverter(data) : StringHelper.safeJsonStringify(data));\n\n        // This must be before calling the clipboard, as to be able to ignore this change in onClipboardContentChange\n        me.clipboardText = stringData;\n\n        await me.clipboard.writeText(stringData, me.useNativeClipboard);\n\n        // Saves a local copy of the original data\n        me.clipboardData = data;\n        me.isCut = isCut;\n        // Saves a local copy of cut out original data\n        me.cutData = isCut && !isString ? data : null;\n\n        return stringData;\n    }\n\n    /**\n     * Reads string data from the shared/native clipboard. If string matches current instance local clipboard data, a\n     * non-modified version will be return. Otherwise, a stringParser function will be called.\n     *\n     * But firstly, it will call beforePaste function and wait for a response. If false, the paste will be prevented.\n     *\n     * This function will also trigger a paste event on the clipboard instance.\n     *\n     * @param params Will be passed to beforePaste function\n     * @param skipPasteTrigger Set to `true` not trigger a paste when paste completes\n     * @returns {Object}\n     * @private\n     */\n    async readFromClipboard(params = {}, skipPasteTrigger = false) {\n        const\n            me              = this,\n            { clipboard }   = me,\n            text            = await clipboard.readText(me.useNativeClipboard),\n            { isOwn, data } = me.transformClipboardText(text),\n            isCut           = text && isOwn && me.isCut;\n\n        if (data == null || (Array.isArray(data) && data.length == 0) ||\n            // Hook to trigger event or something like that\n            await me.beforePaste?.({ data, text, ...params, isCut }) === false\n        ) {\n            return;\n        }\n\n        if (!isOwn) {\n            // If we got something from outside, clear our internal data\n            me.clearClipboard(false);\n        }\n\n        // Trigger a paste event on the shared clipboard, for other instances to listen to\n        skipPasteTrigger || clipboard.triggerPaste(me);\n\n        return data;\n\n    }\n\n    /**\n     * Clears the clipboard data\n     * @privateparam clearShared Set to `false` not to clear the internally shared and native clipboard\n     * @category Common\n     */\n    async clearClipboard(clearShared = true) {\n        const me = this;\n\n        me.clipboardData = me.clipboardText = me.cutData = null;\n        me.isCut = false;\n\n        if (clearShared) {\n            await me.clipboard.clear(me.useNativeClipboard);\n        }\n    }\n\n    compareClipboardText(a, b) {\n        const regex = /\\r\\n|(?!\\r\\n)[\\n-\\r\\x85\\u2028\\u2029]/g;\n        return a?.replace(regex, '\\n') === b?.replace(regex, '\\n');\n    }\n\n    /**\n     * Takes a clipboard text and returns an object with an `isOwn` property and the parsed `data`\n     * @param text The text string that was read from the clipboard\n     * @returns Object\n     * @private\n     */\n    transformClipboardText(text) {\n        const\n            me    = this,\n            isOwn = me.compareClipboardText(me.clipboardText, text), // Does the clipboard content originate from this instance\n            // Read from original data if isOwn, otherwise use the stringParser if it exists.\n            data  = isOwn ? me.clipboardData : (me.stringParser && text ? me.stringParser(text) : text);\n\n        return {\n            isOwn,\n            data\n        };\n    }\n\n    /**\n     * Checks local clipboard if there is clipboard data present. If native clipboard API is available, this function\n     * will return `undefined`\n     * @returns Object\n     * @private\n     */\n    hasClipboardData() {\n        const\n            { clipboard } = this,\n            { _content }  = clipboard;\n\n        if (this.useNativeClipboard && clipboard.hasNativeAccess) {\n            // In this case, we have no clue what's inside the clipboard\n            return;\n        }\n\n        return Boolean(_content && this.transformClipboardText(_content).data);\n    }\n\n};\n","import Base from '../Base.js';\nimport DayTime from './DayTime.js';\nimport Events from '../mixin/Events.js';\nimport DH from '../helper/DateHelper.js';\nimport ObjectHelper from '../helper/ObjectHelper.js';\n\n/**\n * @module Core/util/Month\n */\n\n/**\n * A class which encapsulates a calendar view of a month, and offers information about\n * the weeks and days within that calendar view.\n *\n * ```javascript\n *   // December 2018 using Monday as week start\n *   const m = new Month({\n *       date         : '2018-12-01',\n *       weekStartDay : 1\n *   });\n *\n *   m.eachWeek((week, dates) => console.log(dates.map(d => d.getDate())))\n * ```\n */\nexport default class Month  extends Events(Base) {\n\n    static $name = 'Month';\n\n    static get configurable() {\n        return {\n            /**\n             * The date which the month should encapsulate. May be a `Date` object, or a\n             * `YYYY-MM-DD` format string.\n             *\n             * Mutating a passed `Date` after initializing a `Month` object has no effect on\n             * the `Month` object.\n             * @config {Date|String}\n             */\n            date : {\n                $config : {\n                    equal : 'date'\n                },\n                value : DH.clearTime(new Date())\n            },\n\n            month : null,\n\n            year : null,\n\n            /**\n             * The week start day, 0 meaning Sunday, 6 meaning Saturday.\n             * Defaults to {@link Core.helper.DateHelper#property-weekStartDay-static}.\n             * @config {Number}\n             */\n            weekStartDay : null,\n\n            /**\n             * Configure as `true` to have the visibleDayColumnIndex and visibleColumnCount properties\n             * respect the configured {@link #config-nonWorkingDays}.\n             * @config {Boolean}\n             */\n            hideNonWorkingDays : null,\n\n            /**\n             * Non-working days as an object where keys are day indices, 0-6 (Sunday-Saturday), and the value is `true`.\n             * Defaults to {@link Core.helper.DateHelper#property-nonWorkingDays-static}.\n             * @config {Object<String,Boolean>}\n             */\n            nonWorkingDays : null,\n\n            /**\n             * Configure as `true` to always have the month encapsulate six weeks.\n             * This is useful for UIs which must be a fixed height.\n             * @prp {Boolean}\n             */\n            sixWeeks : null\n        };\n    }\n\n    //region events\n\n    /**\n     * Fired when setting the {@link #config-date} property causes the encapsulated date to change\n     * in **any** way, date, week, month or year.\n     * @event dateChange\n     * @param {Core.util.Month} source The Month which triggered the event.\n     * @param {Date} newDate The new encapsulated date value.\n     * @param {Date} oldDate The previous encapsulated date value.\n     * @param {Number} changes An object which contains properties which indicate what part of the date changed.\n     * @param {Boolean} changes.d True if the date changed in any way.\n     * @param {Boolean} changes.w True if the week changed (including same week in a different year).\n     * @param {Boolean} changes.m True if the month changed (including same month in a different year).\n     * @param {Boolean} changes.y True if the year changed.\n     * @param {Boolean} changes.r True if the row count (with respect to the {@link #config-sixWeeks} setting) changed.\n     */\n\n    /**\n     * Fired when setting the {@link #config-date} property causes a change of week. Note that\n     * weeks are calculated in the ISO standard form such that if there are fewer than four\n     * days in the first week of a year, then that week is owned by the previous year.\n     *\n     * The {@link #config-weekStartDay} is honoured when making this calculation and this is a\n     * locale-specific value which defaults to the ISO standard of 1 (Monday) in provided European\n     * locales and 0 (Sunday) in the provided US English locale.\n     * @event weekChange\n     * @param {Core.util.Month} source The Month which triggered the event.\n     * @param {Date} newDate The new encapsulated date value.\n     * @param {Date} oldDate The previous encapsulated date value.\n     * @param {Number} changes An object which contains properties which indicate what part of the date changed.\n     * @param {Boolean} changes.d True if the date changed in any way.\n     * @param {Boolean} changes.w True if the week changed (including same week in a different year).\n     * @param {Boolean} changes.m True if the month changed (including same month in a different year).\n     * @param {Boolean} changes.y True if the year changed.\n     * @param {Boolean} changes.r True if the row count (with respect to the {@link #config-sixWeeks} setting) changed.\n     */\n\n    /**\n     * Fired when setting the {@link #config-date} property causes a change of month. This\n     * will fire when changing to the same month in a different year.\n     * @event monthChange\n     * @param {Core.util.Month} source The Month which triggered the event.\n     * @param {Date} newDate The new encapsulated date value.\n     * @param {Date} oldDate The previous encapsulated date value.\n     * @param {Number} changes An object which contains properties which indicate what part of the date changed.\n     * @param {Boolean} changes.d True if the date changed in any way.\n     * @param {Boolean} changes.w True if the week changed (including same week in a different year).\n     * @param {Boolean} changes.m True if the month changed (including same month in a different year).\n     * @param {Boolean} changes.y True if the year changed.\n     * @param {Boolean} changes.r True if the row count (with respect to the {@link #config-sixWeeks} setting) changed.\n     */\n\n    /**\n     * Fired when setting the {@link #config-date} property causes a change of year.\n     * @event yearChange\n     * @param {Core.util.Month} source The Month which triggered the event.\n     * @param {Date} newDate The new encapsulated date value.\n     * @param {Date} oldDate The previous encapsulated date value.\n     * @param {Number} changes An object which contains properties which indicate what part of the date changed.\n     * @param {Boolean} changes.d True if the date changed in any way.\n     * @param {Boolean} changes.w True if the week changed (including same week in a different year).\n     * @param {Boolean} changes.m True if the month changed (including same month in a different year).\n     * @param {Boolean} changes.y True if the year changed.\n     * @param {Boolean} changes.r True if the row count (with respect to the {@link #config-sixWeeks} setting) changed.\n     */\n\n    //endRegion\n\n    /**\n     * For use when this Month's `weekStartDay` is non-zero.\n     *\n     * An array to map the days of the week 0-6 of this Calendar to the canonical day numbers\n     * used by the Javascript [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) object.\n     * @member {Number[]} canonicalDayNumbers\n     * @readonly\n     */\n\n    /**\n     * An array to map a canonical day number to a *visible* column index.\n     * For example, if we have `weekStartDay` as Monday which is 1, and non working days as\n     * Wednesday, and `hideNonWorkingDays : true`, then the calendar would look like\n     *\n     *```\n     * ┌────┬────┬────┬────┬────┬────┐\n     * | Mo | Tu | Th | Fr | Sa | Su |\n     * └────┴────┴────┴────┴────┴────┘\n     *```\n     *\n     * So we'd need this array: `[ 5, 0, 1, undefined, 2, 3, 4]`\n     * @member {Number[]} visibleDayColumnIndex\n     * @readonly\n     */\n\n    /**\n     * An array to map a canonical day number to a 0-6 column index.\n     * For example, if we have `weekStartDay` as Monday which is 1, then the calendar would look like\n     *\n     *```\n     * ┌────┬────┬────┬────┬────┬────┬────┐\n     * | Mo | Tu | We | Th | Fr | Sa | Su |\n     * └────┴────┴────┴────┴────┴────┴────┘\n     *```\n     *\n     * So we'd need this array: `[ 6, 0, 1, 2, 3, 4, 5]`\n     * @member {Number[]} dayColumnIndex\n     * @readonly\n     */\n\n    /**\n     * The number of visible days in the week as defined by the `nonWorkingDays` and\n     * `hideNonWorkingDays` options.\n     * @member {Number} weekLength\n     * @readonly\n     */\n\n    configure(config) {\n        super.configure(config);\n\n        this.updateDayNumbers();\n\n        // The set is rejected during configuration because everything else has to be set up.\n        if (config.date) {\n            this.date = config.date;\n        }\n        this.generation = 0;\n    }\n\n    changeDate(date) {\n        // Date has to be set after we know everything else\n        if (this.isConfiguring) {\n            return;\n        }\n\n        date = typeof date === 'string' ? DH.parse(date, 'YYYY-MM-DD') : new Date(date);\n\n        if (isNaN(date)) {\n            throw new Error('Month date ingestion must be passed a Date, or a valid YYYY-MM-DD date string');\n        }\n\n        return date;\n    }\n\n    updateDate(newDate, oldDate) {\n        const\n            me            = this,\n            {\n                dayColumnIndex,\n                weekCount\n            }             = me,\n            monthStart    = DH.getFirstDateOfMonth(newDate),\n            monthEnd      = DH.getLastDateOfMonth(monthStart),\n            startWeekDay  = dayColumnIndex[monthStart.getDay()],\n            endWeekDay    = dayColumnIndex[monthEnd.getDay()],\n            yearChanged   = !oldDate || (newDate.getFullYear() !== oldDate.getFullYear()),\n            monthChanged  = !oldDate || (newDate.getMonth() !== oldDate.getMonth()),\n            // Collect changes as bitwise flags if we have any listeners:\n            // 0001 = date has changed.\n            // 0010 = week has changed.\n            // 0100 = month has changed.\n            // 1000 = year has changed.\n            // We need this because 10/1/2010 -> 10/1/2011 must fire a dateChange\n            // and a monthChange in addition to the yearChange.\n            // And 10/1/2010 -> 10/2/2010 must fire a dateChange in addition to the monthChange.\n            changes = me.eventListeners && (oldDate ? (newDate.getDate() !== oldDate.getDate()) |\n            (me.getWeekId(newDate) !== me.getWeekId(oldDate)) << 1 |\n            monthChanged << 2 |\n            yearChanged << 3 : 15);\n\n        // Keep our properties in sync with reality.\n        // Access the private properties directly to avoid recursion.\n        me._year = newDate.getFullYear();\n        me._month = newDate.getMonth();\n\n        // These comments assume ISO standard of Monday as week start day.\n        //\n        // This is the date of month that is the beginning of the first week row.\n        // So this may be -ve. Eg: for Dec 2018, Monday 26th Nov is the first\n        // cell on the calendar which is the -4th of December. Note that the 0th\n        // of December was 31st of November, so needs -4 to get back to the 26th.\n        me.startDayOfMonth = 1 - startWeekDay;\n\n        // This is the date of month that is the end of the last week row.\n        // So this may be > month end. Eg: for Dec 2018, Sunday 6th Jan is the last\n        // cell on the calendar which is the 37th of December.\n        me.endDayOfMonth = monthEnd.getDate() + (6 - endWeekDay);\n\n        if (me.sixWeeks) {\n            me.endDayOfMonth += (6 - me.weekCount) * 7;\n        }\n\n        // Calculate the start point of where we calculate weeks from if we need to.\n        // It's either the first \"weekStartDay\" in this year if this year's\n        // first week is last year's, and so should work out as zero,\n        // or the \"weekStartDay\" of the week before, so that dates in the first week\n        // the Math.floor(DH.diff(weekBase, date, 'day') / 7) calculates as 1.\n        if (!me.weekBase || yearChanged) {\n            me.calculateWeekBase();\n        }\n\n        // Allow calling code to detect whether a set date operation resulted in a change\n        // of month.\n        if (monthChanged || yearChanged) {\n            me.generation++;\n        }\n\n        if (changes) {\n            const event = {\n                newDate,\n                oldDate,\n                changes : {\n                    d : true,\n                    w : Boolean(changes & 2),\n                    m : Boolean(changes & 12),\n                    y : Boolean(changes & 8),\n                    r : me.weekCount !== weekCount\n                }\n            };\n\n            // If either date, month or year changes, we fire a dateChange\n            me.trigger('dateChange', event);\n\n            // If the week has changed, fire a weekChange\n            if (changes & 2) {\n                me.trigger('weekChange', event);\n            }\n\n            // If month or year changed, we fire a monthChange\n            if (changes & 12) {\n                me.trigger('monthChange', event);\n            }\n\n            // If the year has changed, fire a yearChange\n            if (changes & 8) {\n                me.trigger('yearChange', event);\n            }\n        }\n    }\n\n    calculateWeekBase() {\n        const\n            me      = this,\n            {\n                dayColumnIndex\n            }       = me,\n            jan1    = new Date(me.year, 0, 1),\n            dec31   = new Date(me.year, 11, 31),\n            january = me.month ? me.getOtherMonth(jan1) : me;\n\n        // First 7 days are in last week of previous year if the year\n        // starts after our 4th day of week.\n        if (me.dayColumnIndex[jan1.getDay()] > 3) {\n            // Week base is calculated from the year start\n            me.weekBase = january.startDate;\n        }\n        // First 7 days are in week 1 of this year\n        else {\n            // Week base is the start of week before\n            me.weekBase = new Date(me.year, 0, january.startDayOfMonth - 7);\n        }\n\n        const dec31Week = Math.floor(DH.diff(me.weekBase, dec31, 'day') / 7);\n\n        // Our year only has a 53rd week if 53rd week ends after our week's 3rd day\n        me.has53weeks = dec31Week === 53 && dayColumnIndex[dec31.getDay()] > 2;\n    }\n\n    /**\n     * Returns the week start date, based on the configured {@link #config-weekStartDay} of the\n     * passed week.\n     * @param {Number| Number[]} week The week number in the current year, or an array containing\n     * `[year, weekOfYear]` for any year.\n     *\n     * Week numbers greater than the number of weeks in the year just wrap into the following year.\n     */\n    getWeekStart(week) {\n        // Week number n of current year\n        if (typeof week === 'number') {\n            return DH.add(this.weekBase, Math.max(week, 1) * 7, 'day');\n        }\n\n        // Week n of year nnnn\n        const\n            me = this,\n            [year, weekOfYear] = week;\n\n        // nnnn is our year, so we know it\n        if (year === me.year) {\n            return me.getWeekStart(weekOfYear);\n        }\n\n        return me.getOtherMonth(new Date(year, 0, 1)).getWeekStart(weekOfYear);\n    }\n\n    getOtherMonth(date) {\n        const\n            me     = this,\n            result = (me === otherMonth) ? new Month(null) : otherMonth;\n\n        result.configure({\n            weekBase           : null,\n            weekStartDay       : me.weekStartDay,\n            nonWorkingDays     : me.nonWorkingDays,\n            hideNonWorkingDays : me.hideNonWorkingDays,\n            sixWeeks           : me.sixWeeks,\n            date               : new Date(date.getFullYear(), 0, 1) // Make it easy to calculate its own weekBase\n        });\n\n        result.date = date;\n\n        // in this case, the date config ignores changes w/=== getTime so we have to force the update because we\n        // also cleared weekBase above\n        result.updateDate(result.date, result.date);\n\n        return result;\n    }\n\n    changeYear(year) {\n        const newDate = new Date(this.date);\n\n        newDate.setFullYear(year);\n\n        // changeDate rejects non-changes, otherwise a change event will be emitted\n        this.date = newDate;\n    }\n\n    changeMonth(month) {\n        const newDate = new Date(this.date);\n\n        newDate.setMonth(month);\n\n        // changeDate rejects non-changes, otherwise a change event will be emitted\n        this.date = newDate;\n    }\n\n    get weekStartDay() {\n        // This trick allows our weekStartDay to float w/the locale even if the locale changes\n        return typeof this._weekStartDay === 'number' ? this._weekStartDay : DH.weekStartDay;\n    }\n\n    updateWeekStartDay() {\n        const me = this;\n\n        me.updateDayNumbers();\n\n        if (!me.isConfiguring && me.date) {\n            me.weekBase = null;  // force a calculateWeekBase\n            me.updateDate(me.date, me.date);\n        }\n        // else date will be set soon and weekBase is null so calculateWeekBase will be called by updateDate\n    }\n\n    get nonWorkingDays() {\n        return this._nonWorkingDays || DH.nonWorkingDays;\n    }\n\n    changeNonWorkingDays(nonWorkingDays) {\n        return ObjectHelper.assign({}, nonWorkingDays);\n    }\n\n    updateNonWorkingDays() {\n        this.updateDayNumbers();\n    }\n\n    updateHideNonWorkingDays() {\n        this.updateDayNumbers();\n    }\n\n    updateSixWeeks() {\n        if (!this.isConfiguring) {\n            this.updateDate(this.date, this.date);\n        }\n    }\n\n    /**\n     * The number of days in the calendar for this month. This will always be\n     * a multiple of 7, because this represents the number of calendar cells\n     * occupied by this month.\n     * @property {Number}\n     * @readonly\n     */\n    get dayCount() {\n        // So for the example month, Dec 2018 has 42 days, from Mon 26th Nov (-4th Dec) 2018\n        // to Sun 6th Jan (37th Dec) 2019\n        return (this.endDayOfMonth + 1) - this.startDayOfMonth;\n    }\n\n    /**\n     * The number of weeks in the calendar for this month.\n     * @property {Number}\n     * @readonly\n     */\n    get weekCount() {\n        return this.dayCount / 7;\n    }\n\n    /**\n     * The date of the first cell in the calendar view of this month.\n     * @property {Date}\n     * @readonly\n     */\n    get startDate() {\n        const me = this;\n\n        if (me.year != null && me.month != null && me.startDayOfMonth != null) {\n            return new Date(me.year, me.month, me.startDayOfMonth);\n        }\n    }\n\n    /**\n     * The date of the last cell in the calendar view of this month.\n     * @property {Date}\n     * @readonly\n     */\n    get endDate() {\n        const me = this;\n\n        if (me.year != null && me.month != null && me.startDayOfMonth != null) {\n            return new Date(me.year, me.month, me.endDayOfMonth);\n        }\n    }\n\n    /**\n     * Iterates through all calendar cells in this month, calling the passed function for each date.\n     * @param {Function} fn The function to call.\n     * @param {Date} fn.date The date for the cell.\n     */\n    eachDay(fn) {\n        for (let dayOfMonth = this.startDayOfMonth; dayOfMonth <= this.endDayOfMonth; dayOfMonth++) {\n            fn(new Date(this.year, this.month, dayOfMonth));\n        }\n    }\n\n    /**\n     * Iterates through all weeks in this month, calling the passed function\n     * for each week.\n     * @param {Function} fn The function to call.\n     * @param {Number[]} fn.week An array containing `[year, weekNumber]`\n     * @param {Date[]} fn.dates The dates for the week.\n     */\n    eachWeek(fn) {\n        const me = this,\n            { weekCount } = me;\n\n        for (let dayOfMonth = me.startDayOfMonth, week = 0; week < weekCount; week++) {\n            const weekDates  = [],\n                weekOfYear = me.getWeekNumber(new Date(me.year, me.month, dayOfMonth));\n\n            for (let day = 0; day < 7; day++, dayOfMonth++) {\n                weekDates.push(new Date(me.year, me.month, dayOfMonth));\n            }\n            fn(weekOfYear, weekDates);\n        }\n    }\n\n    /**\n     * Returns the week of the year for the passed date. This returns an array containing *two* values,\n     * the year **and** the week number are returned.\n     *\n     * The week number is calculated according to ISO rules, meaning that if the first week of the year\n     * contains less than four days, it is considered to be the last week of the preceding year.\n     *\n     * The configured {@link #config-weekStartDay} is honoured in this calculation. So if the weekStartDay\n     * is **NOT** the ISO standard of `1`, (Monday), then the weeks do not coincide with ISO weeks.\n     * @param {Date} date The date to calculate the week for.\n     * @returns {Number[]} A numeric array: `[year, week]`\n     */\n    getWeekNumber(date) {\n        const me = this;\n\n        date = DH.clearTime(date);\n\n        // If it's a date in another year, use our otherMonth to find the answer.\n        if (date.getFullYear() !== me.year) {\n            return me.getOtherMonth(new Date(date.getFullYear(), 0, 1)).getWeekNumber(date);\n        }\n\n        let weekNo = Math.floor(DH.diff(me.weekBase, date, 'day') / 7),\n            year = date.getFullYear();\n\n        // No week 0. It's the last week of last year\n        if (!weekNo) {\n            // Week is the week of last year's 31st Dec\n            return me.getOtherMonth(new Date(me.year - 1, 0, 1)).getWeekNumber(new Date(me.year, 0, 0));\n        }\n        // Only week 53 if year ends before our week's 5th day\n        else if (weekNo === 53 && !me.has53weeks) {\n            weekNo = 1;\n            year++;\n        }\n        // 54 wraps round to 2 of next year\n        else if (weekNo > 53) {\n            weekNo = weekNo % 52;\n        }\n\n        // Return array of year and week number\n        return [year, weekNo];\n    }\n\n    getWeekId(date) {\n        const week = this.getWeekNumber(date);\n\n        return week[0] * 100 + week[1];\n    }\n\n    getCellData(date, ownerMonth, dayTime = DayTime.MIDNIGHT) {\n        const\n            me                 = this,\n            day                = date.getDay(),\n            visibleColumnIndex = me.visibleDayColumnIndex[day],\n            isNonWorking       = me.nonWorkingDays[day],\n            isHiddenDay        = me.hideNonWorkingDays && isNonWorking;\n\n        // Automatically move to required month\n        if (date < me.startDate || date > me.endDate) {\n            me.month = date.getMonth();\n        }\n\n        return  {\n            day,\n            dayTime,\n            visibleColumnIndex,\n            isNonWorking,\n            week        : me.getOtherMonth(date).getWeekNumber(date),\n            key         : DH.format(date, 'YYYY-MM-DD'),\n            columnIndex : me.dayColumnIndex[day],\n            date        : new Date(date),\n            dayEnd      : dayTime.duration('s'),\n            tomorrow    : dayTime.dayOfDate(DH.add(date, 1, 'day')),\n\n            // These two properties are only significant when used by a CalendarPanel which encapsulates\n            // a single month.\n            isOtherMonth : Math.sign((date.getMonth() + date.getFullYear() * 12) - (ownerMonth.month + ownerMonth.year * 12)),\n            visible      : !isHiddenDay && (date >= ownerMonth.startDate && date < DH.add(ownerMonth.endDate, 1, 'day')),\n            isRowStart   : visibleColumnIndex === 0,\n            isRowEnd     : visibleColumnIndex === me.visibleColumnCount - 1\n        };\n    }\n\n    updateDayNumbers() {\n        const\n            me                    = this,\n            {\n                weekStartDay,\n                nonWorkingDays,\n                hideNonWorkingDays\n            }                     = me,\n            dayColumnIndex        = me.dayColumnIndex = [],\n            canonicalDayNumbers   = me.canonicalDayNumbers = [],\n            visibleDayColumnIndex = me.visibleDayColumnIndex = [];\n\n        // So, if they set weekStartDay to 1 meaning Monday which is ISO standard, we will\n        // have mapping of internal day number to canonical day number (as used by Date class)\n        // and to abbreviated day name like this:\n        // canonicalDayNumbers = [1, 2, 3, 4, 5, 6, 0] // Use for translation from our day number to Date class's day number\n        //\n        // Also, we need a map from canonical day number to *visible* cell index.\n        // for example, if we have weekStartDay as Monday which is 1, and non working days as\n        // Wednesday, and hideNonWorkingDays:true, then the calendar would look like\n        // +----+----+----+----+----+----+\n        // | Mo | Tu | Th | Fr | Sa | Su |\n        // +----+----+----+----+----+----+\n        //\n        // So we'd need this array\n        // [ 5, 0, 1, undefined, 2, 3, 4]\n        // Or think of it as this map:\n        // {\n        //      1 : 0,\n        //      2 : 1,\n        //      4 : 2,\n        //      5 : 3,\n        //      6 : 4,\n        //      0 : 5\n        // }\n        // To be able to ascertain the cell index directly from the canonical day number.\n        //\n        // We also need a logical column map which would be\n        // +----+----+----+----+----+----+----+\n        // | Mo | Tu | We | Th | Fr | Sa | Su |\n        // +----+----+----+----+----+----+----+\n        //\n        // So we'd need this array\n        // [ 6, 0, 1, 2, 3, 4, 5]\n        // Or think of it as this map:\n        // {\n        //      1 : 0,\n        //      2 : 1,\n        //      3 : 2\n        //      4 : 3,\n        //      5 : 4,\n        //      6 : 5,\n        //      0 : 6\n        // }\n\n        // We use this to cache the number of visible columns so that cell renderers can tell whether\n        // they are on the last visible column.\n        let visibleColumnIndex = 0;\n\n        for (let columnIndex = 0; columnIndex < 7; columnIndex++) {\n            const canonicalDay = (weekStartDay + columnIndex) % 7;\n\n            canonicalDayNumbers[columnIndex] = canonicalDay;\n            dayColumnIndex[canonicalDay] = columnIndex;\n\n            // If this day is going to have visible representation, we need to\n            // map it to a columnIndex;\n            if (!hideNonWorkingDays || !nonWorkingDays[canonicalDay]) {\n                visibleDayColumnIndex[canonicalDay] = visibleColumnIndex++;\n            }\n        }\n        me.visibleColumnCount = visibleColumnIndex;\n        me.weekLength = hideNonWorkingDays ? 7 - ObjectHelper.keys(nonWorkingDays).length : 7;\n    }\n}\n\n// Instance needed for internal tasks\nconst otherMonth = new Month(null);\n","import Container from './Container.js';\nimport Rotatable from './mixin/Rotatable.js';\n\nimport './Button.js';\n\n/**\n * @module Core/widget/ButtonGroup\n */\n\n/**\n * A specialized container that holds buttons, displaying them in a horizontal group with borders adjusted to make them\n * stick together.\n *\n * Trying to add other widgets than buttons will throw an exception.\n *\n * ```javascript\n * new ButtonGroup({\n *     items : [\n *         { icon : 'b-fa b-fa-kiwi-bird' },\n *         { icon : 'b-fa b-fa-kiwi-otter' },\n *         { icon : 'b-fa b-fa-kiwi-rabbit' },\n *         ...\n *     ]\n * });\n * ```\n *\n * @inlineexample Core/widget/ButtonGroup.js\n * @classType buttonGroup\n * @extends Core/widget/Container\n * @widget\n */\nexport default class ButtonGroup extends Container.mixin(Rotatable) {\n\n    /**\n     * Fires when a button in the group is clicked\n     * @event click\n     * @param {Core.widget.Button} source Clicked button\n     * @param {Event} event DOM event\n     */\n\n    /**\n     * Fires when the default action is performed on a button in the group (the button is clicked)\n     * @event action\n     * @param {Core.widget.Button} source Clicked button\n     * @param {Event} event DOM event\n     */\n\n    /**\n     * Fires when a button in the group is toggled (the {@link Core.widget.Button#property-pressed} state is changed).\n     * If you need to process the pressed button only, consider using {@link #event-click} event or {@link #event-action} event.\n     * @event toggle\n     * @param {Core.widget.Button} source Toggled button\n     * @param {Boolean} pressed New pressed state\n     * @param {Event} event DOM event\n     */\n\n    static $name = 'ButtonGroup';\n\n    static type = 'buttongroup';\n\n    static configurable = {\n        defaultType : 'button',\n\n        /**\n         * Custom CSS class to add to element. When using raised buttons (cls 'b-raised' on the buttons), the group\n         * will look nicer if you also set that cls on the group.\n         *\n         * ```\n         * new ButtonGroup({\n         *   cls : 'b-raised,\n         *   items : [\n         *       { icon : 'b-fa b-fa-unicorn', cls : 'b-raised' },\n         *       ...\n         *   ]\n         * });\n         * ```\n         *\n         * @config {String}\n         * @category CSS\n         */\n        cls : null,\n\n        /**\n         * An array of Buttons or typed Button config objects.\n         * @config {ButtonConfig[]|Core.widget.Button[]}\n         */\n        items : null,\n\n        /**\n         * Default color to apply to all contained buttons, see {@link Core.widget.Button#config-color Button#color}.\n         * Individual buttons can override the default.\n         * @config {String}\n         */\n        color : null,\n\n        /**\n         * Set to `true` to turn the ButtonGroup into a toggle group, assigning a generated value to each contained\n         * buttons {@link Core.widget.Button#config-toggleGroup toggleGroup config}. Individual buttons can\n         * override the default.\n         * @config {Boolean}\n         */\n        toggleGroup : null,\n\n        valueSeparator : ',',\n\n        columns : null,\n\n        hideWhenEmpty : true,\n\n        defaultBindProperty : 'value'\n    };\n\n    onChildAdd(item) {\n        super.onChildAdd(item);\n\n        item.ion({\n            click   : 'resetValueCache',\n            toggle  : 'onItemToggle',\n            thisObj : this,\n            // This needs to run before the 'click' event is relayed by this button group, in such listener\n            // the `value` must already be updated\n            prio    : 10000\n        });\n    }\n\n    onChildRemove(item) {\n        item.un({\n            toggle  : 'resetValueCache',\n            click   : 'resetValueCache',\n            thisObj : this\n        });\n        super.onChildRemove(item);\n    }\n\n    onItemToggle(event) {\n        const me = this;\n\n        me.resetValueCache();\n\n        if (!me.isSettingValue && (!me.toggleGroup || event.pressed)) {\n            me.triggerFieldChange({ value : me.value, userAction : true, event });\n        }\n    }\n\n    resetValueCache() {\n        // reset cached value to revalidate next time it's requested\n        this._value = null;\n    }\n\n    createWidget(widget) {\n        const\n            me   = this,\n            type = me.constructor.resolveType(widget.type || 'button');\n\n        if (type.isButton) {\n            if (me.color && !widget.color) {\n                widget.color = me.color;\n            }\n\n            if (me.toggleGroup && !widget.toggleGroup) {\n                if (typeof me.toggleGroup === 'boolean') {\n                    me.toggleGroup = ButtonGroup.generateId('toggleGroup');\n                }\n\n                widget.toggleGroup = me.toggleGroup;\n            }\n        }\n\n        if (me.columns) {\n            widget.width = `${100 / me.columns}%`;\n        }\n\n        widget = super.createWidget(widget);\n\n        me.relayEvents(widget, ['click', 'action', 'toggle']);\n\n        return widget;\n    }\n\n    updateRotate(rotate) {\n        this.eachWidget(btn => {\n            if (btn.rotate !== false) {\n                btn.rotate = rotate;\n            }\n        });\n    }\n\n    get value() {\n        // if we don't have cached value\n        // let's calculate it based on item values\n        if (!this._value) {\n            const values = [];\n\n            // collect pressed item values\n            this.items.forEach(w => {\n                if (w.pressed && w.value !== undefined) {\n                    values.push(w.value);\n                }\n            });\n\n            // build a string\n            this._value = values.join(this.valueSeparator);\n        }\n\n        return this._value;\n    }\n\n    set value(value) {\n        const\n            me       = this,\n            oldValue = me.value;\n\n        if (!Array.isArray(value)) {\n            if (value === undefined || value === null) {\n                value = [];\n            }\n            else if (typeof value == 'string') {\n                value = value.split(me.valueSeparator);\n            }\n            else {\n                value = [value];\n            }\n        }\n\n        me._value = value.join(me.valueSeparator);\n\n        me.isSettingValue = true;\n\n        // Reflect value on items\n        me.items.forEach(w => {\n            if (w.value !== undefined) {\n                w.pressed = value.includes(w.value);\n            }\n        });\n\n        me.isSettingValue = false;\n\n        if (!me.isConfiguring && oldValue !== me.value) {\n            me.triggerFieldChange({ value : me.value, userAction : false });\n        }\n    }\n\n    updateDisabled(disabled) {\n        this.items.forEach(button => button.disabled = disabled || (!button.ignoreParentReadOnly && this.readOnly));\n    }\n\n    updateReadOnly(readOnly) {\n        super.updateReadOnly(readOnly);\n\n        this.updateDisabled(this.disabled);\n    }\n\n    get widgetClassList() {\n        const classList = super.widgetClassList;\n        // if the buttons should be shown in rows\n        this.columns && classList.push('b-columned');\n        return classList;\n    }\n}\n\n// Register this widget type with its Factory\nButtonGroup.initClass();\n","import Panel from './Panel.js';\nimport ArrayHelper from '../helper/ArrayHelper.js';\nimport DateHelper from '../helper/DateHelper.js';\nimport TimeZoneHelper from '../helper/TimeZoneHelper.js';\nimport Month from '../util/Month.js';\nimport Tooltip from './Tooltip.js';\nimport ObjectHelper from '../helper/ObjectHelper.js';\nimport DomHelper from '../helper/DomHelper.js';\n\n/**\n * @module Core/widget/CalendarPanel\n */\n\n/**\n * A Panel which displays a month of date cells.\n *\n * This is a base class for UI widgets like {@link Core.widget.DatePicker} which need to display a calendar layout\n * and should not be used directly.\n * @extends Core/widget/Panel\n */\nexport default class CalendarPanel extends Panel {\n    static get $name() {\n        return 'CalendarPanel';\n    }\n\n    // Factoryable type name\n    static get type() {\n        return 'calendarpanel';\n    }\n\n    static get configurable() {\n        return {\n            layout : 'vbox',\n\n            textContent : false,\n\n            /**\n             * Gets or sets the date that orientates the panel to display a particular month.\n             * Changing this causes the content to be refreshed.\n             * @member {Date} date\n             */\n            /**\n             * The date which this CalendarPanel encapsulates.\n             * @config {Date|String}\n             */\n            date : {\n                $config : {\n                    equal : 'date'\n                },\n                value : null\n            },\n\n            /**\n             * A {@link Core.util.Month} Month utility object which encapsulates this Panel's month\n             * and provides contextual information and navigation services.\n             * @config {Core.util.Month|MonthConfig}\n             */\n            month : {},\n\n            year : null,\n\n            /**\n             * The week start day, 0 meaning Sunday, 6 meaning Saturday.\n             * Defaults to {@link Core.helper.DateHelper#property-weekStartDay-static}.\n             * @config {Number}\n             */\n            weekStartDay : null,\n\n            /**\n             * Configure as `true` to always show a six week calendar.\n             * @config {Boolean}\n             * @default\n             */\n            sixWeeks : true,\n\n            /**\n             * Configure as `true` to show a week number column at the start of the calendar block.\n             * @deprecated Since 4.0.0. Use {@link #config-showWeekColumn} instead.\n             * @config {Boolean}\n             */\n            showWeekNumber : null,\n\n            /**\n             * Configure as `true` to show a week number column at the start of the calendar block.\n             * @config {Boolean}\n             */\n            showWeekColumn : null,\n\n            /**\n             * Either an array of `Date` objects which are to be disabled, or\n             * a function (or the name of a function), which, when passed a `Date` returns `true` if the\n             * date is disabled.\n             * @config {Function|Date[]|String}\n             */\n            disabledDates : null,\n\n            /**\n             * A function (or the name of a function) which creates content in, and may mutate a day header element.\n             * The following parameters are passed:\n             *  - cell [HTMLElement](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement) The header element.\n             *  - day [Number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number) The day number conforming to the specified {@link #config-weekStartDay}. Will be in the range 0 to 6.\n             *  - weekDay [Number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number) The canonical day number where Monday is 0 and Sunday is.\n             * @config {Function|String}\n             */\n            headerRenderer : null,\n\n            /**\n             * A function (or the name of a function) which creates content in, and may mutate the week cell element at the start of a week row.\n             * The following parameters are passed:\n             *  - cell [HTMLElement](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement) The header element.\n             *  - week [Number[]](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number) An array containing `[year, weekNumber]`.\n             * @config {Function|String}\n             */\n            weekRenderer : null,\n\n            /**\n             * A function (or the name of a function) which creates content in, and may mutate a day cell element.\n             * The following parameters are passed:\n             *  - cell [HTMLElement](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement) The header element.\n             *  - date [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) The date for the cell.\n             *  - day [Number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number) The day for the cell (0 to 6 for Sunday to Saturday).\n             *  - rowIndex [Number[]](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number) The row index, 0 to month row count (6 if {@link #config-sixWeeks} is `true`).\n             *  _ row [HTMLElement](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement) The row element encapsulating the week which the cell is a part of.\n             *  - cellIndex [Number[]](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number) The cell index in the whole panel. May be from 0 to up to 42.\n             *  - columnIndex [Number[]](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number) The column index, 0 to 6.\n             *  - visibleColumnIndex [Number[]](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number) The visible column index taking hidden non working days into account.\n             * @config {Function|String}\n             */\n            cellRenderer : null,\n\n            /**\n             * Configure as `true` to render weekends as {@link #config-disabledDates}.\n             * @config {Boolean}\n             */\n            disableWeekends : null,\n\n            hideNonWorkingDays : null,\n\n            hideNonWorkingDaysCls : 'b-hide-nonworking-days',\n\n            /**\n             * Non-working days as an object where keys are day indices, 0-6 (Sunday-Saturday), and the value is `true`.\n             * Defaults to {@link Core.helper.DateHelper#property-nonWorkingDays-static}.\n             * @config {Object<Number,Boolean>}\n             */\n            nonWorkingDays : null,\n\n            /**\n             * A config object to create a tooltip which will show on hover of a date cell including disabled, weekend,\n             * and \"other month\" cells.\n             *\n             * It is the developer's responsibility to hook the `beforeshow` event to either veto the show by returning\n             * `false` or provide contextual content for the date.\n             *\n             * The tip instance will be primed with a `date` property.\n             * @config {TooltipConfig}\n             */\n            tip : null,\n\n            dayCellCls   : 'b-calendar-cell',\n            dayHeaderCls : 'b-calendar-day-header',\n\n            /**\n             * The class name to add to disabled calendar cells.\n             * @config {String}\n             * @private\n             */\n            disabledCls : 'b-disabled-date',\n\n            /**\n             * The class name to add to calendar cells which are in the previous or next month.\n             * @config {String}\n             * @private\n             */\n            otherMonthCls : 'b-other-month',\n\n            /**\n             * The class name to add to calendar cells which are weekend dates.\n             * @config {String}\n             * @private\n             */\n            weekendCls : 'b-weekend',\n\n            /**\n             * The class name to add to the calendar cell which contains today's date.\n             * @config {String}\n             * @private\n             */\n            todayCls : 'b-today',\n\n            /**\n             * The class name to add to calendar cells which are {@link #config-nonWorkingDays}.\n             * @config {String}\n             * @private\n             */\n            nonWorkingDayCls : 'b-nonworking-day',\n\n            /**\n             * The {@link Core.helper.DateHelper} format string to format the day names\n             * in the header row above the calendar cells.\n             * @config {String}\n             * @default\n             */\n            dayNameFormat : 'ddd',\n\n            /**\n             * By default, week rows flex to share available Panel height equally.\n             *\n             * Set this config if the available height is too small, and the cell height needs\n             * to be larger to show events.\n             *\n             * Setting this config causes the month grid to become scrollable in the `Y` axis.\n             *\n             * May be specified as a number in which case it will be taken to mean pixels,\n             * or a length in standard CSS units.\n             * @config {Number|String}\n             */\n            minRowHeight : {\n                $config : ['lazy'],\n                value   : null\n            },\n\n            /**\n             * By default, day cells flex to share available Panel width equally.\n             *\n             * Set this config if the available width is too small, and the cell width needs\n             * to be larger to show events.\n             *\n             * Setting this config causes the month grid to become scrollable in the `X` axis.\n             * @config {Number}\n             */\n            minColumnWidth : {\n                $config : ['lazy'],\n                value   : null\n            },\n\n            /**\n             * Configure this as true to disable pointer interaction with cells which are outside the\n             * range of the current month.\n             * @config {Boolean}\n             */\n            disableOtherMonthCells : null,\n\n            disableOtherMonthCellsCls : 'b-disable-othermonth-cells',\n\n            /**\n             * Configure this as `true` to hide cells which are outside the range of the current month.\n             * @config {Boolean}\n             */\n            hideOtherMonthCells : null,\n\n            hideOtherMonthCellsCls : 'b-hide-othermonth-cells',\n\n            /**\n             * By default, when navigating through time, the next time\n             * block will be animated in from the appropriate direction.\n             *\n             * Configure this as `false` to disable this.\n             * @prp {Boolean} animateTimeShift\n             * @default\n             */\n            animateTimeShift : true\n        };\n    }\n\n    construct(config) {\n        super.construct(config);\n\n        if (!this.refreshCount) {\n            this.refresh();\n        }\n    }\n\n    onPaint({ firstPaint }) {\n        super.onPaint?.(...arguments);\n\n        // Invoke the lazy configs when we first hit the visible DOM\n        if (firstPaint) {\n            // The cell structure must exist for the configs to apply to.\n            if (!this.refreshCount) {\n                this.refresh();\n            }\n            this.getConfig('minColumnWidth');\n            this.getConfig('minRowHeight');\n        }\n    }\n\n    get overflowElement() {\n        return this.weeksElement;\n    }\n\n    doDestroy() {\n        this.tip?.destroy();\n\n        super.doDestroy();\n    }\n\n    changeMinRowHeight(minRowHeight) {\n        // Fall back to 75 on platforms that do not support CSS vars\n        const minValue = parseInt(DomHelper.getStyleValue(this.element, '--min-row-height'), 10) || 75;\n\n        return isNaN(minRowHeight) ? minRowHeight : Math.max(parseInt(minRowHeight) || 0, minValue);\n    }\n\n    updateMinRowHeight(minRowHeight) {\n        this.weekElements.forEach(w => DomHelper.setLength(w, 'minHeight', minRowHeight));\n\n        this.scrollable = {\n            overflowY : minRowHeight ? 'auto' : false\n        };\n    }\n\n    changeMinColumnWidth(minColumnWidth) {\n        // Fall back to 75 on platforms that do not support CSS vars\n        const minValue = parseInt(DomHelper.getStyleValue(this.element, '--min-column-width'), 10) || 75;\n\n        return minColumnWidth == null ? minColumnWidth : Math.max(parseInt(minColumnWidth) || 0, minValue);\n    }\n\n    updateMinColumnWidth(minColumnWidth) {\n        const me = this;\n\n        me.weekdayCells.forEach(c => DomHelper.setLength(c, 'minWidth', minColumnWidth));\n        me.cellElements.forEach(c => c.matches(`.${me.dayCellCls}`) && DomHelper.setLength(c, 'minWidth', minColumnWidth));\n\n        me.scrollable = {\n            overflowX : minColumnWidth ? 'auto' : false\n        };\n        me.overflowElement.classList[minColumnWidth ? 'add' : 'remove']('b-min-columnwidth');\n    }\n\n    getDateFromDomEvent(domEvent) {\n        const element = (domEvent.nodeType === Element.ELEMENT_NODE ? domEvent : domEvent.target).closest(`#${this.id} [data-date]`);\n\n        if (element) {\n            return DateHelper.parseKey(element.dataset.date);\n        }\n    }\n\n    changeTip(tip, existingTip) {\n        const me = this;\n\n        return Tooltip.reconfigure(existingTip, tip, {\n            owner    : me,\n            defaults : {\n                type        : 'tooltip',\n                owner       : me,\n                id          : `${me.id}-cell-tip`,\n                forElement  : me.bodyElement,\n                forSelector : `.${me.dayCellCls}`\n            }\n        });\n    }\n\n    updateTip(tip) {\n        this.detachListeners('tip');\n\n        tip?.ion({\n            pointerOver : 'onTipOverCell',\n\n            name    : 'tip',\n            thisObj : this\n        });\n    }\n\n    updateElement(element, was) {\n        const me = this;\n\n        super.updateElement(element, was);\n\n        me.updateHideNonWorkingDays(me.hideNonWorkingDays);\n        me.weekdayCells = Array.from(element.querySelectorAll('.b-calendar-day-header'));\n        me.weekElements = Array.from(element.querySelectorAll('.b-calendar-week'));\n        me.weekDayElements = Array.from(element.querySelectorAll('.b-calendar-days'));\n        me.cellElements = [];\n\n        for (let i = 0, { length } = me.weekDayElements; i < length; i++) {\n            me.cellElements.push(me.weekDayElements[i].previousSibling, ...me.weekDayElements[i].children);\n        }\n    }\n\n    changeDate(date) {\n        date = typeof date === 'string' ? DateHelper.parse(date) : new Date(date);\n        if (isNaN(date)) {\n            throw new Error('CalendarPanel date ingestion must be passed a Date, or a YYYY-MM-DD date string');\n        }\n\n        return DateHelper.clearTime(date);\n    }\n\n    /**\n     * The date which this CalendarPanel encapsulates. Setting this causes the\n     * content to be refreshed.\n     * @property {Date}\n     */\n    updateDate(value) {\n        // We respond to Month change events to update the UI\n        this.month.date = value;\n    }\n\n    updateDayNameFormat() {\n        // 4th June 2000 was a Sunday\n        const d = new Date('2000-06-04T12:00:00');\n\n        this.shortDayNames = [];\n\n        // Collect local shortDayNames in default order.\n        for (let date = 4; date < 11; date++) {\n            d.setDate(date);\n            this.shortDayNames.push(DateHelper.format(d, this.dayNameFormat));\n        }\n    }\n\n    get weekStartDay() {\n        // This trick allows our weekStartDay to float w/the locale even if the locale changes\n        return typeof this._weekStartDay === 'number' ? this._weekStartDay : DateHelper.weekStartDay;\n    }\n\n    /**\n     * Set to 0 for Sunday (the default), 1 for Monday etc.\n     *\n     * Set to `null` to use the default value from {@link Core/helper/DateHelper}.\n     */\n    updateWeekStartDay(weekStartDay) {\n        const me = this;\n\n        if (me._month) {\n            me.month.weekStartDay = weekStartDay;\n\n            me.dayNames = [];\n\n            // So, if they set weekStartDay to 1 meaning Monday which is ISO standard, we will\n            // dayNames = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\n            for (let i = 0; i < 7; i++) {\n                me.dayNames[i] = me.shortDayNames[me.canonicalDayNumbers[i]];\n            }\n\n            if (me.refreshCount) {\n                me.refresh();\n            }\n        }\n    }\n\n    updateHideNonWorkingDays(hideNonWorkingDays) {\n        // Undefined must be cast to Boolean, otherwise it will toggle the class *on*.\n        this.contentElement.classList.toggle(this.hideNonWorkingDaysCls, Boolean(hideNonWorkingDays));\n        this.scrollable?.syncOverflowState();\n        if (this._month) {\n            this.month.hideNonWorkingDays = hideNonWorkingDays;\n        }\n        // First/last visible cell might change\n        if (!this.isConfiguring) {\n            this.refresh();\n        }\n    }\n\n    updateHideOtherMonthCells(hideOtherMonthCells) {\n        // Undefined must be cast to Boolean, otherwise it will toggle the class *on*.\n        this.element.classList.toggle(this.hideOtherMonthCellsCls, Boolean(hideOtherMonthCells));\n        this.scrollable?.syncOverflowState();\n    }\n\n    updateDisableOtherMonthCells(disableOtherMonthCells) {\n        // Undefined must be cast to Boolean, otherwise it will toggle the class *on*.\n        this.element.classList.toggle(this.disableOtherMonthCellsCls, Boolean(disableOtherMonthCells));\n        this.scrollable?.syncOverflowState();\n    }\n\n    get nonWorkingDays() {\n        // If we were not configured with non working days, ask the locale for them. Once.\n        // The cached value is cleared on locale change.\n        return this._nonWorkingDays || (this._localeNonWorkingDays || (this._localeNonWorkingDays = DateHelper.nonWorkingDays));\n    }\n\n    get weekends() {\n        // Ask the DateHelper which days are weekend days only once.\n        // The cached value is cleared on locale change.\n        return this._localeWeekends || (this._localeWeekends = DateHelper.weekends);\n    }\n\n    changeNonWorkingDays(nonWorkingDays) {\n        return ObjectHelper.assign({}, nonWorkingDays);\n    }\n\n    updateNonWorkingDays(nonWorkingDays) {\n        if (this._month) {\n            this.month.nonWorkingDays = nonWorkingDays;\n            this.refresh();\n            this.scrollable?.syncOverflowState();\n        }\n    }\n\n    get visibleDayColumnIndex() {\n        return this.month.visibleDayColumnIndex;\n    }\n\n    get dayColumnIndex() {\n        return this.month.dayColumnIndex;\n    }\n\n    get canonicalDayNumbers() {\n        return this.month.canonicalDayNumbers;\n    }\n\n    get visibleColumnCount() {\n        return this.month.visibleColumnCount;\n    }\n\n    get weekLength() {\n        return this.month.weekLength;\n    }\n\n    /**\n     * The date of the first day cell in this panel.\n     * Note that this may *not* be the first of this panel's current month.\n     * @property {Date}\n     * @readonly\n     */\n    get startDate() {\n        return this.month.startDate;\n    }\n\n    get duration() {\n        // The endDate is \"exclusive\" because it means 00:00:00 of that day.\n        return DateHelper.diff(this.month.startDate, this.month.endDate, 'day') + 1;\n    }\n\n    /**\n     * The end date of this view. Note that in terms of full days, this is exclusive,\n     * ie: 2020-01-012 to 2020-01-08 is *seven* days. The end is 00:00:00 on the 8th.\n     *\n     * Note that this may *not* be the last date of this panel's current month.\n     * @property {Date}\n     * @readonly\n     */\n    get endDate() {\n        const { endDate } = this.month;\n\n        if (endDate) {\n            return DateHelper.add(endDate, 1, 'day');\n        }\n    }\n\n    changeMonth(month, currentMonth) {\n        const me = this;\n\n        if (!(month instanceof Month)) {\n\n            // Setting month to a number when we already have a Month means\n            // just updating the month number of our Month\n            if (typeof month === 'number') {\n                if (currentMonth) {\n                    currentMonth.month = month;\n                    return;\n                }\n                const date = me.date || DateHelper.clearTime(new Date());\n\n                date.setMonth(month);\n                month = {\n                    date\n                };\n            }\n            month = Month.new({\n                weekStartDay       : me.weekStartDay,\n                nonWorkingDays     : me.nonWorkingDays,\n                hideNonWorkingDays : me.hideNonWorkingDays,\n                sixWeeks           : me.sixWeeks\n            }, month);\n        }\n\n        month.ion({\n            dateChange : 'onMonthDateChange',\n            thisObj    : me\n        });\n\n        return month;\n    }\n\n    onMonthDateChange({ source : month, newDate, oldDate, changes }) {\n        const me = this;\n\n        // Ensure we're always in sync with the data our Month holds\n        me.year = month.year;\n\n        if (!me.isConfiguring) {\n            // Only refresh if we don't contain a cell for the new date\n            // or if, internally, the Month we are mapping to the UI is different.\n            if (!me.getCell(newDate) || (changes.m || changes.y)) {\n                // Interrogate DOM *before* mutating it with a refresh.\n                const { isVisible } = me;\n\n                me.refresh();\n\n                if (me.animateTimeShift && isVisible) {\n                    DomHelper.slideIn(me.contentElement, newDate > oldDate ? 1 : -1);\n                }\n            }\n\n            /**\n             * Fires when the date of this CalendarPanel is set.\n             * @event dateChange\n             * @param {Date} value The new date.\n             * @param {Date} oldValue The old date.\n             * @param {Object} changes An object which contains properties which indicate what part of the date changed.\n             * @param {Boolean} changes.d True if the date changed in any way.\n             * @param {Boolean} changes.w True if the week changed (including same week in a different year).\n             * @param {Boolean} changes.m True if the month changed (including same month in a different year).\n             * @param {Boolean} changes.y True if the year changed.\n             */\n            me.trigger('dateChange', {\n                changes,\n                value    : newDate,\n                oldValue : oldDate\n            });\n        }\n    }\n\n    updateYear(year) {\n        this.month.year = year;\n    }\n\n    updateShowWeekNumber(showWeekNumber) {\n        this.updateShowWeekColumn(showWeekNumber);\n    }\n\n    updateShowWeekColumn(showWeekColumn) {\n        const me = this;\n\n        me.element.classList[showWeekColumn ? 'add' : 'remove']('b-show-week-column');\n        if (me.floating) {\n            // Must realign because content change might change dimensions\n            if (!me.isAligning) {\n                me.realign();\n            }\n        }\n    }\n\n    updateSixWeeks(sixWeeks) {\n        if (this.month) {\n            this.month.sixWeeks = sixWeeks;\n            this.refresh();\n        }\n    }\n\n    /**\n     * Refreshes the UI after changing a config that would affect the UI.\n     */\n    refresh() {\n        // This method may be overridden by subclasses to add things like refresh scheduling.\n        this.doRefresh();\n    }\n\n    /**\n     * Implementation of the UI refresh.\n     * @private\n     */\n    doRefresh() {\n        // Ensure sub elements are all present\n        this.getConfig('element');\n        const\n            me       = this,\n            timeZone = me.timeZone != null ? me.timeZone : me.project?.timeZone,\n            today    = timeZone != null ? TimeZoneHelper.toTimeZone(new Date(), timeZone) : new Date(),\n            {\n                weekElements,\n                weekDayElements,\n                date,\n                month,\n                dayCellCls,\n                dayHeaderCls,\n                disabledCls,\n                otherMonthCls,\n                weekendCls,\n                todayCls,\n                nonWorkingDayCls,\n                nonWorkingDays,\n                canonicalDayNumbers,\n                sixWeeks\n            } = me;\n\n        today.setHours(0, 0, 0, 0);\n\n        // If we have not been initialized with a current date, use today\n        if (!date) {\n            me.date = today;\n            return;\n        }\n\n        /**\n         * Fires before this CalendarPanel refreshes in response to changes in its month.\n         * @event beforeRefresh\n         * @param {Core.widget.DatePicker} source This DatePicker.\n         */\n        me.trigger('beforeRefresh');\n\n        // Make sure we've calculated our shortDayNames\n        me.getConfig('dayNameFormat');\n\n        for (let columnIndex = 0; columnIndex < 7; columnIndex++) {\n            const\n                cell          = me.weekdayCells[columnIndex],\n                cellDay       = me.canonicalDayNumbers[columnIndex],\n                cellClassList = {\n                    [dayHeaderCls]     : 1,\n                    [weekendCls]       : DateHelper.weekends[cellDay],\n                    [nonWorkingDayCls] : nonWorkingDays[cellDay]\n                };\n\n            if (me.headerRenderer) {\n                cell.innerHTML = '';\n                me.callback(me.headerRenderer, me, [cell, columnIndex, cellDay]);\n            }\n            else {\n                DomHelper.setInnerText(cell, me.shortDayNames[cellDay]);\n            }\n\n            // Sync day name cell classes with its calculated status\n            DomHelper.syncClassList(cell, cellClassList);\n\n            cell.dataset.columnIndex = columnIndex;\n            cell.dataset.cellDay = cellDay;\n        }\n\n        // Create cell content\n        let rowIndex = 0,\n            cellIndex = 0,\n            lastWorkingColumn = 6;\n\n        // Which column is the last working day so it can be tagged with an identifying class\n        for (let columnIndex = 6; columnIndex >= 0; columnIndex--) {\n            if (!nonWorkingDays[canonicalDayNumbers[columnIndex]]) {\n                lastWorkingColumn = columnIndex;\n                break;\n            }\n        }\n\n        // Hide or show the \"other month\" week row depending on our sixWeeks setting\n        weekElements[4].classList.toggle('b-hide-display', month.weekCount < 5 && !sixWeeks);\n        weekElements[5].classList.toggle('b-hide-display', month.weekCount < 6 && !sixWeeks);\n\n        month.eachWeek((week, dates) => {\n            const\n                weekDayElement = weekDayElements[rowIndex],\n                weekCells = [weekDayElement.previousSibling, ...weekDayElement.children];\n\n            // Stamp week into week row's dataset\n            weekElements[rowIndex].dataset.week = `${week[0]},${week[1]}`;\n\n            if (me.weekRenderer) {\n                me.callback(me.weekRenderer, me, [weekCells[0], week]);\n            }\n            else {\n                weekCells[0].innerText = week[1];\n            }\n\n            for (let columnIndex = 0; columnIndex < 7; columnIndex++) {\n                const\n                    date          = dates[columnIndex],\n                    day           = date.getDay(),\n                    key           = DateHelper.makeKey(date),\n                    isNonWorking  = nonWorkingDays[day],\n                    cell          = weekCells[columnIndex + 1],\n                    cellClassList = {\n                        [dayCellCls]             : 1,\n                        [disabledCls]            : me.isDisabledDate(date),\n                        [otherMonthCls]          : date.getMonth() !== month.month,\n                        [weekendCls]             : DateHelper.weekends[day],\n                        [todayCls]               : date.getTime() === today.getTime(),\n                        [nonWorkingDayCls]       : isNonWorking,\n                        'b-last-working-day'     : columnIndex === lastWorkingColumn,\n                        'b-first-visible-cell'   : !(date - (me.firstVisibleDate || -1)),\n                        'b-last-visible-cell'    : !(date - (me.lastVisibleDate || -1)),\n                        [`b-day-of-week-${day}`] : 1\n                    };\n\n                // Sync day cell classes with its calculated status\n                DomHelper.syncClassList(cell, cellClassList);\n\n                cell.dataset.date = key;\n                cell.dataset.cellIndex = cellIndex;\n                cell.dataset.columnIndex = columnIndex;\n\n                // Since we manipulate the classList/Name directly, we need to trick DomSync's config comparison logic or it\n                // may think the class has not changed.\n                if (cell.lastDomConfig) {\n                    delete cell.lastDomConfig.class;\n                    delete cell.lastDomConfig.className;\n                }\n\n                if (me.cellRenderer) {\n                    me.callback(me.cellRenderer, me, [{\n                        cell,\n                        date,\n                        day,\n                        row                : weekElements[rowIndex],\n                        rowIndex,\n                        cellIndex,\n                        columnIndex,\n                        visibleColumnIndex : me.visibleDayColumnIndex[day],\n                        week,\n                        key\n                    }]);\n                }\n                else {\n                    cell.innerHTML = date.getDate();\n                }\n                cellIndex++;\n            }\n\n            rowIndex++;\n        });\n\n        /**\n         * The number of rows displayed in this month. If {@link #config-sixWeeks} is not set,\n         * this may be from 4 to 6.\n         * @member {Number} visibleWeekCount\n         * @readonly\n         */\n        me.visibleWeekCount = rowIndex;\n\n        if (me.floating) {\n            // Must realign because content change might change dimensions\n            if (!me.isAligning) {\n                me.realign();\n            }\n        }\n\n        me.refreshCount = (me.refreshCount || 0) + 1;\n\n        /**\n         * Fires when this CalendarPanel refreshes.\n         * @event refresh\n         */\n        me.trigger('refresh');\n    }\n\n    isDisabledDate(date) {\n        const\n            day = date.getDay(),\n            {\n                disabledDates,\n                nonWorkingDays\n            }   = this;\n\n        if (this.disableWeekends && nonWorkingDays[day]) {\n            return true;\n        }\n\n        if (disabledDates) {\n            if (Array.isArray(disabledDates)) {\n                date = DateHelper.clearTime(date, true);\n                return disabledDates.some(d => !(DateHelper.clearTime(d, true) - date));\n            }\n            else {\n                return this.callback(this.disabledDates, this, [date]);\n            }\n        }\n    }\n\n    get bodyConfig() {\n        const\n            result = super.bodyConfig,\n            weeksContainerChildren = [];\n\n        result.children = [{\n            tag       : 'div',\n            className : 'b-calendar-row b-calendar-weekdays',\n            reference : 'weekdaysHeader',\n            children  : [\n                { class : 'b-week-number-cell' },\n                ...ArrayHelper.fill(7, { class : this.dayHeaderCls }),\n                DomHelper.scrollBarPadElement\n            ]\n        }, {\n            // `notranslate` prevents google translate messing up the DOM, https://github.com/facebook/react/issues/11538\n            className : 'b-weeks-container notranslate',\n            reference : 'weeksElement',\n            children  : weeksContainerChildren\n        }];\n\n        for (let i = 0; i < 6; i++) {\n            const weekRow = {\n                className : 'b-calendar-row b-calendar-week',\n                dataset   : {\n                    rowIndex : i\n                },\n                children : [{\n                    className : 'b-week-number-cell'\n                }, {\n                    className   : 'b-calendar-days',\n                    children    : [{}, {}, {}, {}, {}, {}, {}],\n                    syncOptions : {\n                        ignoreRefs : true,\n                        strict     : false  // allow complete replacement of classes w/o matching lastDomConfig\n                    }\n                }]\n            };\n\n            weeksContainerChildren.push(weekRow);\n        }\n\n        return result;\n    }\n\n    get firstVisibleDate() {\n        if (this.hideOtherMonthCells) {\n            const { year, month } = this.month;\n\n            return new Date(year, month, 1);\n        }\n        for (const me = this, date = me.month.startDate; ; date.setDate(date.getDate() + 1)) {\n            if (!me.hideNonWorkingDays || !me.nonWorkingDays[date.getDay()]) {\n                return date;\n            }\n        }\n    }\n\n    get lastVisibleDate() {\n        const lastDate = DateHelper.add(this.endDate, -1, 'd');\n\n        if (this.hideOtherMonthCells) {\n            return lastDate;\n        }\n        for (const me = this, date = lastDate; ; date.setDate(date.getDate() - 1)) {\n            if (!me.hideNonWorkingDays || !me.nonWorkingDays[date.getDay()]) {\n                return date;\n            }\n        }\n    }\n\n    /**\n     * Returns the cell associated with the passed date.\n     *\n     * To exclude dates which are outside of the panel's current month, pass the `strict` parameter as `true`\n     * @param {Date|String} date The date to find the element for or a key in the format `YYYY-MM-DD`\n     * @param {Boolean} strict Only return the element if this view *owns* the date.\n     * @returns {HTMLElement} The cell for the passed date if it exists\n     */\n    getCell(date, strict) {\n        if (!(typeof date === 'string')) {\n            date = DateHelper.makeKey(date);\n        }\n        const cell = this.weeksElement.querySelector(`[data-date=\"${date}\"]`);\n\n        if (cell && (!strict || !cell.classList.contains(this.otherMonthCls))) {\n            return cell;\n        }\n    }\n\n    onTipOverCell({ source : tip, target }) {\n        tip.date = DateHelper.parseKey(target.dataset.date);\n    }\n\n    updateLocalization() {\n        // Uncache the cached locale data\n        this._localeNonWorkingDays = this._localeWeekends = null;\n\n        this.updateDayNameFormat();\n        this.updateWeekStartDay(this.weekStartDay);\n        super.updateLocalization();\n    }\n}\n\n// Register this widget type with its Factory\nCalendarPanel.initClass();\n","import Panel from './Panel.js';\nimport EventHelper from '../helper/EventHelper.js';\nimport ObjectHelper from '../helper/ObjectHelper.js';\nimport DomHelper from '../helper/DomHelper.js';\n\n/**\n * @module Core/widget/YearPicker\n */\n\n/**\n * A Panel subclass which allows a year to be selected from a range of 12 displayed years.\n *\n * The panel can be configured with {@link #config-startYear} to specify the first year in the\n * displayed range.\n *\n * The {@link #property-year} indicates and sets the currently selected year.\n *\n * The {@link #event-select} event is fired when a new year is selected.\n *\n * {@inlineexample Core/widget/YearPicker.js}\n *\n * @extends Core/widget/Panel\n *\n * @classType yearpicker\n * @widget\n */\nexport default class YearPicker extends Panel {\n    static $name = 'YearPicker';\n\n    // Factoryable type name\n    static type = 'yearpicker';\n\n    static configurable = {\n        textContent : false,\n\n        /**\n         * The definition of the top toolbar which displays the title and \"previous\" and\n         * \"next\" buttons.\n         *\n         * This contains the following predefined `items` which may be reconfigured by\n         * application code:\n         *\n         * - `title` A widget which displays the visible year range. Weight 100.\n         * - `previous` A button which navigates to the previous block. Weight 200.\n         * - `next` A button which navigates to the next block. Weight 300.\n         *\n         * These may be reordered:\n         *\n         * ```javascript\n         * new YearPicker({\n         *     appendTo : targetElement,\n         *     tbar     : {\n         *         items : {\n         *             // Move title to centre\n         *             title : {\n         *                 weight : 250\n         *             }\n         *         }\n         *     },\n         *     width    : '24em'\n         * });\n         * ```\n         * @config {ToolbarConfig}\n         */\n        tbar : {\n            overflow : null,\n            items    : {\n                previous : {\n                    type     : 'tool',\n                    cls      : 'b-icon b-icon-previous',\n                    onAction : 'up.previous',\n                    weight   : 100\n                },\n                title : {\n                    type     : 'button',\n                    cls      : 'b-yearpicker-title',\n                    weight   : 200,\n                    onAction : 'up.handleTitleClick'\n                },\n                next : {\n                    type     : 'tool',\n                    cls      : 'b-icon b-icon-next',\n                    onAction : 'up.next',\n                    weight   : 300\n                }\n            }\n        },\n\n        itemCls : 'b-year-container',\n\n        /**\n         * The number of clickable year buttons to display in the widget.\n         *\n         * It may be useful to change this if a non-standard shape or size is used.\n         * @config {Number}\n         * @default\n         */\n        yearButtonCount : 12,\n\n        /**\n         * The currently selected year.\n         * @member {Number} year\n         */\n        /**\n         * The year to use as the selected year. Defaults to the current year.\n         * @config {Number}\n         */\n        year : null,\n\n        /**\n         * The lowest year to allow.\n         * @config {Number}\n         */\n        minYear : null,\n\n        /**\n         * The highest year to allow.\n         * @config {Number}\n         */\n        maxYear : null,\n\n        /**\n         * The starting year displayed in the widget.\n         * @member {Number} startYear\n         */\n        /**\n         * The year to show at the start of the widget\n         * @config {Number}\n         */\n        startYear : null\n    };\n\n    construct(config) {\n        super.construct({\n            year : new Date().getFullYear(),\n            ...config\n        });\n\n        EventHelper.on({\n            element  : this.contentElement,\n            click    : 'onYearClick',\n            delegate : '.b-yearpicker-year',\n            thisObj  : this\n        });\n    }\n\n    get focusElement() {\n        return this.getYearButton(this.year) || this.getYearButton(this.startYear);\n    }\n\n    getYearButton(y) {\n        return this.contentElement.querySelector(`.b-yearpicker-year[data-year=\"${y}\"]`);\n    }\n\n    /**\n     * The currently selected year.\n     * @member {Number} value\n     */\n    get value() {\n        return this.year;\n    }\n\n    set value(year) {\n        this.year = year;\n    }\n\n    onYearClick({ target }) {\n        const clickedYear = Math.min(Math.max(parseInt(target.innerText), this.minYear || 1), this.maxYear || 9999);\n\n        // The updater won't run, so fire the select event here.\n        if (this.year === clickedYear) {\n            this.trigger('select', { oldValue : clickedYear, value : clickedYear });\n        }\n        else {\n            this.year = clickedYear;\n        }\n    }\n\n    handleTitleClick(e) {\n        this.trigger('titleClick', e);\n    }\n\n    previous() {\n        this.startYear = this.startYear - this.yearButtonCount;\n    }\n\n    next() {\n        this.startYear = this.endYear + 1;\n    }\n\n    ingestYear(year) {\n        if (!isNaN(year)) {\n            return ObjectHelper.isDate(year) ? year.getFullYear() : year;\n        }\n    }\n\n    changeYear(year) {\n        // ingestYear returns undefined if invalid input\n        if ((year = this.ingestYear(year))) {\n            return Math.min(Math.max(year, this.minYear || 1), this.maxYear || 9999);\n        }\n    }\n\n    updateYear(year, oldValue) {\n        const me = this;\n\n        if (!me.startYear || year > me.endYear) {\n            me.startYear = year;\n        }\n        else if (year < me.startYear) {\n            me.startYear = year - (me.yearButtonCount - 1);\n        }\n        if (!me.isConfiguring) {\n            /**\n             * Fired when a year is selected.\n             * @event select\n             * @param {Number} value The previously selected year.\n             * @param {Core.widget.YearPicker} source This YearPicker\n             */\n            me.trigger('select', { oldValue, value : year });\n        }\n    }\n\n    /**\n     * The ending year displayed in the widget.\n     * @member {Number} endYear\n     * @readonly\n     */\n    get endYear() {\n        return this.startYear + this.yearButtonCount - 1;\n    }\n\n    changeStartYear(startYear) {\n        // ingestYear returns undefined if invalid input\n        if ((startYear = this.ingestYear(startYear))) {\n            startYear = this.minYear ? Math.max(startYear, this.minYear) : startYear;\n            return this.maxYear ? Math.min(startYear, this.maxYear - (this.yearButtonCount - 1)) : startYear;\n        }\n    }\n\n    async updateStartYear(startYear, oldStartYear) {\n        if (this.isVisible) {\n            DomHelper.slideIn(this.contentElement, Math.sign(startYear - oldStartYear));\n        }\n    }\n\n    composeBody() {\n        // Must be ingested before first compose.\n        this.getConfig('year');\n\n        const\n            { startYear } = this,\n            result        = super.composeBody(),\n            children      = result.children[this.tbar ? 1 : 0].children = [];\n\n        this.widgetMap.title.text = `${`000${startYear}`.slice(-4)} - ${`000${this.endYear}`.slice(-4)}`;\n\n        for (let i = 0, y = startYear; i < this.yearButtonCount; i++, y++) {\n            children.push({\n                tag     : 'button',\n                dataset : {\n                    year : y\n                },\n                class : {\n                    'b-yearpicker-year' : 1,\n                    'b-selected'        : y === this.year\n                },\n                text : `000${y}`.slice(-4)\n            });\n        }\n\n        return result;\n    }\n}\n\n// Register this widget type with its Factory\nYearPicker.initClass();\n","import TextField from './TextField.js';\nimport StringHelper from '../helper/StringHelper.js';\n\n/**\n * @module Core/widget/DisplayField\n */\n\n/**\n * A widget used to show a read only value. Can also use a {@link #config-template template string} to show custom\n * markup inside a Container.\n *\n * @extends Core/widget/Field\n *\n * @example\n * let displayField = new DisplayField({\n *   appendTo : document.body,\n *   label: 'name',\n *   value : 'John Doe',\n *   // or use a template\n *   // template : name => `${name} is the name`\n * });\n *\n * @classType displayField\n * @inlineexample Core/widget/DisplayField.js\n * @widget\n * @inputfield\n */\nexport default class DisplayField extends TextField {\n    static get $name() {\n        return 'DisplayField';\n    }\n\n    // Factoryable type name\n    static get type() {\n        return 'displayfield';\n    }\n\n    // Factoryable type alias\n    static get alias() {\n        return 'display';\n    }\n\n    static get configurable() {\n        return {\n            readOnly : true,\n            editable : false,\n            cls      : 'b-display-field',\n\n            /**\n             * A template string used to render the value of this field. Please note you are responsible for encoding\n             * any strings protecting against XSS.\n             *\n             * ```javascript\n             * new DisplayField({\n             *     appendTo : document.body,\n             *     name     : 'age',\n             *     label    : 'Age',\n             *     template : data => `${data.value} years old`\n             * })\n             * ```\n             * @config {Function}\n             */\n            template : null,\n\n            ariaElement : 'displayElement'\n        };\n    }\n\n    get focusElement() {\n        // we're not focusable.\n    }\n\n    changeReadOnly() {\n        return true;\n    }\n\n    changeEditable() {\n        return false;\n    }\n\n    get inputElement() {\n        return {\n            tag       : 'span',\n            id        : `${this.id}-input`,\n            reference : 'displayElement',\n            html      : this.template ? this.template(this.value) : StringHelper.encodeHtml(this.value)\n        };\n    }\n}\n\n// Register this widget type with its Factory\nDisplayField.initClass();\n","import CalendarPanel from './CalendarPanel.js';\nimport YearPicker from './YearPicker.js';\nimport DateHelper from '../helper/DateHelper.js';\nimport EventHelper from '../helper/EventHelper.js';\nimport Combo from './Combo.js';\nimport DomHelper from '../helper/DomHelper.js';\nimport './DisplayField.js';\n\nconst\n    generateMonthNames = () => DateHelper.getMonthNames().map((m, i) => [i, m]),\n    dateSort           = (lhs, rhs) => lhs.valueOf() - rhs.valueOf(),\n    emptyArray         = Object.freeze([]);\n\nclass ReadOnlyCombo extends Combo {\n    static get $name() {\n        return 'ReadOnlyCombo';\n    }\n\n    static get type() {\n        return 'readonlycombo';\n    }\n\n    static get configurable() {\n        return {\n            editable        : false,\n            inputAttributes : {\n                tag      : 'div',\n                tabIndex : -1\n            },\n            inputValueAttr          : 'innerHTML',\n            highlightExternalChange : false,\n            monitorResize           : false,\n            triggers                : {\n                expand : false\n            },\n            picker : {\n                align : {\n                    align     : 't-b',\n                    axisLock  : true,\n                    matchSize : false\n                },\n                cls        : 'b-readonly-combo-list',\n                scrollable : {\n                    overflowX : false\n                }\n            }\n        };\n    }\n}\n\nReadOnlyCombo.initClass();\n\n/**\n * @module Core/widget/DatePicker\n */\n\n/**\n * A Panel which can display a month of date cells, which navigates between the cells, fires events upon user selection\n * actions, optionally navigates to other months in response to UI gestures, and optionally displays information about\n * each date cell.\n *\n * A date is selected (meaning a single value is selected if {@link #config-multiSelect} is not set, or\n * added to the {@link #property-selection} if {@link #config-multiSelect if set}) by clicking a cell\n * or by pressing `ENTER` when focused on a cell.\n *\n * The `SHIFT` and `CTRL` keys modify selection behaviour depending on the value of {@link #config-multiSelect}.\n *\n * This class is used as a {@link Core.widget.DateField#config-picker} by the {@link Core.widget.DateField} class.\n *\n * {@inlineexample Core/widget/DatePicker.js}\n *\n * ## Custom cell rendering\n * You can easily control the content of each date cell using the {@link #config-cellRenderer}. The example below shows\n * a view typically seen when booking hotel rooms or apartments.\n *\n * {@inlineexample Core/widget/DatePickerCellRenderer.js}\n *\n * ## Multi selection\n * You can select multiple date ranges or a single date range using the {@link #config-multiSelect} config.\n *\n * {@inlineexample Core/widget/DatePickerMulti.js}\n *\n * ## Configuring toolbar buttons\n *\n * The datepicker includes a few useful navigation buttons by default. Through the DatePicker´s {@link #config-tbar toolbar},\n * you can manipulate these, via the toolbar´s {@link Core/widget/Toolbar#config-items} config.\n *\n * There are four buttons by default, each of which can be reconfigured using\n * an object, or disabled by configuring them as `null`.\n *\n * ```javascript\n * new DatePicker({\n *    tbar : {\n *       // Remove all navigation buttons\n *       items : {\n *           prevYear  : null,\n *           prevMonth : null,\n *           nextYear  : null,\n *           nextMonth : null\n *       }\n *    }\n * })\n * ```\n *\n * Provided toolbar widgets include:\n *\n * - `prevMonth` Navigates to previous month\n * - `nextMonth` Navigates to next month\n * - `prevYear` Navigates to previous year\n * - `nextYear` Navigates to next year\n * @classtype datepicker\n * @extends Core/widget/CalendarPanel\n * @widget\n */\nexport default class DatePicker extends CalendarPanel {\n    static get $name() {\n        return 'DatePicker';\n    }\n\n    // Factoryable type name\n    static get type() {\n        return 'datepicker';\n    }\n\n    static get delayable() {\n        return {\n            refresh : 'raf'\n        };\n    }\n\n    static get configurable() {\n        return {\n            /**\n             * The date that the user has navigated to using the UI *prior* to setting the widget's\n             * value by selecting. The initial default is today's date.\n             *\n             * This may be changed using keyboard navigation. The {@link Core.widget.CalendarPanel#property-date} is set\n             * by pressing `ENTER` when the desired date is reached.\n             *\n             * Programmatically setting the {@link Core.widget.CalendarPanel#config-date}, or using the UI to select the date\n             * by clicking it also sets the `activeDate`\n             * @config {Date}\n             */\n            activeDate : {\n                value   : new Date(),\n                $config : {\n                    equal : 'date'\n                }\n            },\n\n            focusable   : true,\n            textContent : false,\n            tbar        : {\n                overflow : null,\n                items    : {\n                    prevYear : {\n                        cls      : 'b-icon b-icon-first',\n                        onAction : 'up.gotoPrevYear',\n                        tooltip  : 'L{DatePicker.gotoPrevYear}'\n                    },\n                    prevMonth : {\n                        cls      : 'b-icon b-icon-previous',\n                        onAction : 'up.gotoPrevMonth',\n                        tooltip  : 'L{DatePicker.gotoPrevMonth}'\n                    },\n                    fields : {\n                        type  : 'container',\n                        cls   : 'b-datepicker-title',\n                        items : {\n                            monthField : {\n                                type              : 'readonlycombo',\n                                cls               : 'b-datepicker-monthfield',\n                                items             : generateMonthNames(),\n                                internalListeners : {\n                                    select : 'up.onMonthPicked'\n                                }\n                            },\n                            yearButton : {\n                                type              : 'button',\n                                cls               : 'b-datepicker-yearbutton',\n                                internalListeners : {\n                                    click : 'up.onYearPickerRequested'\n                                }\n                            }\n                        }\n                    },\n                    nextMonth : {\n                        cls      : 'b-icon b-icon-next',\n                        onAction : 'up.gotoNextMonth',\n                        tooltip  : 'L{DatePicker.gotoNextMonth}'\n                    },\n                    nextYear : {\n                        cls      : 'b-icon b-icon-last',\n                        onAction : 'up.gotoNextYear',\n                        tooltip  : 'L{DatePicker.gotoNextYear}'\n                    }\n                }\n            },\n\n            yearPicker : {\n                value : {\n                    type              : 'YearPicker',\n                    yearButtonCount   : 16,\n                    trapFocus         : true,\n                    positioned        : true,\n                    hidden            : true,\n                    internalListeners : {\n                        titleClick : 'up.onYearPickerTitleClick',\n                        select     : 'up.onYearPicked'\n                    }\n                },\n                $config : 'lazy'\n            },\n\n            /**\n             * The initially selected date.\n             * @config {Date}\n             */\n            date : null,\n\n            /**\n             * The minimum selectable date. Selection of and navigation to dates prior\n             * to this date will not be possible.\n             * @config {Date}\n             */\n            minDate : {\n                value   : null,\n                $config : {\n                    equal : 'date'\n                }\n            },\n\n            /**\n             * The maximum selectable date. Selection of and navigation to dates after\n             * this date will not be possible.\n             * @config {Date}\n             */\n            maxDate : {\n                value   : null,\n                $config : {\n                    equal : 'date'\n                }\n            },\n\n            /**\n             * By default, disabled dates cannot be navigated to, and they are skipped over\n             * during keyboard navigation. Configure this as `true` to enable navigation to\n             * disabled dates.\n             * @config {Boolean}\n             * @default\n             */\n            focusDisabledDates : null,\n\n            /**\n             * Configure as `true` to enable selecting multiple discontiguous date ranges using\n             * click and Shift+click to create ranges and Ctrl+click to select/deselect individual dates.\n             *\n             * Configure as `'range'` to enable selecting a single date range by selecting a\n             * start and end date. Hold \"SHIFT\" button to select date range. Ctrl+click may add\n             * or remove dates to/from either end of the range.\n             * @config {Boolean|'range'}\n             * @default\n             */\n            multiSelect : false,\n\n            /**\n             * If {@link #config-multiSelect} is configured as `true`, this is an array of dates\n             * which are selected. There may be multiple, discontiguous date ranges.\n             *\n             * If {@link #config-multiSelect} is configured as `'range'`, this is a two element array\n             * specifying the first and last selected dates in a range.\n             * @config {Date[]}\n             */\n            selection : {\n                $config : {\n                    equal : (v1, v2) => v1 && v1.equals(v2)\n                },\n                value : null\n            },\n\n            /**\n             * By default, the month and year are editable. Configure this as `false` to prevent that.\n             * @config {Boolean}\n             * @default\n             */\n            editMonth : true,\n\n            /**\n             * The {@link Core.helper.DateHelper} format string to format the day names.\n             * @config {String}\n             * @default\n             */\n            dayNameFormat : 'dd',\n\n            trapFocus : true,\n\n            role : 'grid',\n\n            focusDescendant : true,\n\n            /**\n             * By default, when the {@link #property-date} changes, the UI will only refresh\n             * if it doesn't contain a cell for that date, so as to keep a stable UI when\n             * navigating.\n             *\n             * Configure this as `true` to refresh the UI whenever the month changes, even if\n             * the UI already shows that date.\n             * @config {Boolean}\n             * @internal\n             */\n            alwaysRefreshOnMonthChange : null\n        };\n    }\n\n    static get prototypeProperties() {\n        return {\n            /**\n             * The class name to add to the calendar cell whose date which is outside of the\n             * {@link #config-minDate}/{@link #config-maxDate} range.\n             * @config {String}\n             * @private\n             */\n            outOfRangeCls : 'b-out-of-range',\n\n            /**\n             * The class name to add to the currently focused calendar cell.\n             * @config {String}\n             * @private\n             */\n            activeCls : 'b-active-date',\n\n            /**\n             * The class name to add to selected calendar cells.\n             * @config {String}\n             * @private\n             */\n            selectedCls : 'b-selected-date'\n        };\n    }\n\n    // region Init\n\n    construct(config) {\n        const me = this;\n\n        super.construct(config);\n\n        me.externalCellRenderer = me.cellRenderer;\n        me.cellRenderer         = me.internalCellRenderer;\n\n        me.element.setAttribute('aria-activedescendant', `${me.id}-active-day`);\n        me.weeksElement.setAttribute('role', 'grid');\n        me.weekElements.forEach(w => w.setAttribute('role', 'row'));\n        me.element.setAttribute('ariaLabelledBy', me.widgetMap.fields.id);\n\n        EventHelper.on({\n            element : me.weeksElement,\n            click   : {\n                handler  : 'onCellClick',\n                delegate : `.${me.dayCellCls}:not(.${me.disabledCls}):not(.${me.outOfRangeCls})`\n            },\n            mousedown : {\n                handler  : 'onCellMousedown',\n                delegate : `.${me.dayCellCls}`\n            },\n            thisObj : me\n        });\n\n        me.widgetMap.monthField.readOnly = me.widgetMap.yearButton.disabled = !me.editMonth;\n\n        // Ensure the DatePicker is immediately ready for use.\n        me.refresh.flush();\n    }\n\n    afterHide() {\n        this._yearPicker?.hide();\n        super.afterHide(...arguments);\n    }\n\n    doDestroy() {\n        this.yearButton?.destroy();\n        this.monthField?.destroy();\n        super.doDestroy();\n    }\n\n    // endregion\n\n    get focusElement() {\n        return this.weeksElement.querySelector(`.${this.dayCellCls}[tabIndex=\"0\"]`);\n    }\n\n    doRefresh() {\n        const\n            me             = this,\n            oldActiveCell  = me.focusElement,\n            // Coerce the active date to be in the visible range.\n            // Do not use the setter, the sync is done below\n            activeDate     = DateHelper.betweenLesser(me.activeDate, me.month.startDate, me.month.endDate) ? me.activeDate : (me._activeDate = me.date);\n\n        super.doRefresh(...arguments);\n\n        // The focused cell will have been repurposed for a new date\n        const dateOfOldActiveCell = DateHelper.parseKey(oldActiveCell?.dataset.date);\n\n        // The position of the cell may have changed, so the \"from\" cell must\n        // be identified by the date that is stamped into it *after* the refresh..\n        if (activeDate - dateOfOldActiveCell) {\n            me.syncActiveDate(activeDate, dateOfOldActiveCell);\n        }\n    }\n\n    internalCellRenderer({ cell, date }) {\n        const\n            me            = this,\n            {\n                activeCls,\n                selectedCls,\n                externalCellRenderer\n            }             = me,\n            isSelected    = me.isSelectedDate(date),\n            cellClassList = {\n                [activeCls]        : activeCls && me.isActiveDate(date),\n                [selectedCls]      : isSelected,\n                [me.outOfRangeCls] : (me.minDate && date < me.minDate) || (me.maxDate && date > me.maxDate)\n            };\n\n        if (isSelected) {\n            // Fix up start/inner/end range classes\n            if (me.multiSelect) {\n                const\n                    isStart = !me.isSelectedDate(DateHelper.add(date, -1, 'd')),\n                    isEnd   = !me.isSelectedDate(DateHelper.add(date, 1, 'd'));\n\n                cellClassList['b-range-start'] = isStart;\n                cellClassList['b-range-end'] = isEnd;\n                cellClassList['b-in-range'] = !isStart && !isEnd;\n            }\n        }\n\n        DomHelper.updateClassList(cell, cellClassList);\n\n        // Must replace entire content in case we have an externalCellRenderer\n        cell.innerHTML = `<div class=\"b-datepicker-cell-inner\">${date.getDate()}</div>`;\n        cell.setAttribute('role', 'gridcell');\n        cell.setAttribute('aria-label', DateHelper.format(date, 'MMMM D, YYYY'));\n\n        if (me.isActiveDate(date)) {\n            cell.id = `${me.id}-active-day`;\n        }\n        else {\n            cell.removeAttribute('id');\n        }\n\n        if (externalCellRenderer) {\n            arguments[0].cell = cell.firstChild;\n            me.callback(externalCellRenderer, this, arguments);\n        }\n    }\n\n    onCellMousedown(event) {\n        const cell = event.target.closest('[data-date]');\n\n        event.preventDefault();\n        cell.focus();\n\n        this.activeDate = DateHelper.parseKey(cell.dataset.date);\n    }\n\n    onCellClick(event) {\n        const cell = event.target.closest('[data-date]');\n        this.onUIDateSelect(DateHelper.parseKey(cell.dataset.date), event);\n    }\n\n    onMonthDateChange({ newDate, changes }) {\n        // toolbar widgets must have been instantiated.\n        this.getConfig('tbar');\n\n        super.onMonthDateChange(...arguments);\n\n        // Keep header widgets synced with our month\n        if (changes.m || changes.y) {\n            this.widgetMap.monthField.value = newDate.getMonth();\n            this.widgetMap.yearButton.text  = newDate.getFullYear();\n        }\n    }\n\n    /**\n     * Called when the user uses the UI to select the current activeDate. So ENTER when focused\n     * or clicking a date cell.\n     * @param {Date} date The active date to select\n     * @param {Event} event the instigating event, either a `click` event or a `keydown` event.\n     * @internal\n     */\n    onUIDateSelect(date, event) {\n        const\n            me = this,\n            {\n                lastClickedDate,\n                multiSelect\n            }  = me;\n\n        me.lastClickedDate = date;\n\n        if (!me.isDisabledDate(date)) {\n            me.activatingEvent = event;\n\n            // Handle multi selecting.\n            // * single contiguous date range, eg: an event start and end\n            // * multiple discontiguous ranges\n            if (multiSelect) {\n                me.handleMultiSelect(lastClickedDate, date, event);\n            }\n            else {\n                me.selection = date;\n                if (me.floating) {\n                    me.hide();\n                }\n            }\n\n            me.activatingEvent = null;\n        }\n    }\n\n    // Calls updateSelection if the selection is mutated\n    handleMultiSelect(lastClickedDate, date, event) {\n        const\n            me          = this,\n            {\n                multiSelect\n            }           = me,\n            _selection  = me._selection || (me._selection = new DateSet()),\n            selection   = _selection.dates,\n            singleRange = multiSelect === 'range',\n            {\n                size,\n                generation\n            }           = _selection,\n            rangeEnds   = size && {\n                [DateHelper.makeKey(DateHelper.add(selection[0], -1, 'd'))]                   : 1,\n                [DateHelper.makeKey(selection[0])]                                            : 1,\n                [DateHelper.makeKey(selection[selection.length - 1])]                         : 1,\n                [DateHelper.makeKey(DateHelper.add(selection[selection.length - 1], 1, 'd'))] : 1\n            },\n            isSelected  = _selection.has(date),\n            toggleFn    = isSelected ? 'delete' : 'add';\n\n        // If we're allowed to create one range and they clicked on a togglable date of a range\n        const clickedRangeEnd = singleRange && rangeEnds?.[DateHelper.makeKey(date)];\n\n        // Ctrl+click means toggle the date, leaving remaining selection unchanged\n        if (event.ctrlKey) {\n            // Allow individual date toggling if we are allowing multi ranges\n            // or there's no current selection, or they are on, or adjacent to the range end\n            if (multiSelect === true || !size || clickedRangeEnd) {\n                _selection[toggleFn](date);\n\n                // Check that the start hasn't been deselected\n                if (singleRange && !_selection.has(me.rangeStartDate)) {\n                    me.rangeStartDate.setDate(me.rangeStartDate.getDate() + (date < selection[1] ? 1 : -1));\n                }\n            }\n        }\n        // Shift+click means add a range\n        else if (event.shiftKey && size) {\n            const [start, end] = [\n                new Date(singleRange ? (me.rangeStartDate || (me.rangeStartDate = selection[0])) : lastClickedDate),\n                date\n            ].sort(dateSort);\n\n            // If we can only have one range\n            if (singleRange) {\n                _selection.clear();\n            }\n\n            // Add all dates in the range\n            for (const d = start; d <= end; d.setDate(d.getDate() + 1)) {\n                _selection.add(d);\n            }\n        }\n        // Make the clicked date the only selected date.\n        // Avoid a no-op which would still cause a generation change\n        else if (!(_selection.has(date) && _selection.size === 1)) {\n            _selection.clear();\n            _selection.add(date);\n        }\n\n        const newSize = _selection.size;\n\n        // Keep track of the range start date. The first selected date is the start and the end then\n        // can move to either side of that.\n        if (newSize === 1) {\n            me.rangeStartDate = date;\n        }\n        else if (!newSize) {\n            me.rangeStartDate = null;\n        }\n\n        // Process selection change if we changed the selection.\n        if (_selection.generation !== generation) {\n            me.updateSelection(_selection);\n        }\n    }\n\n    changeSelection(selection) {\n        // We always need a _selection property to be a DateSet.\n        // Falsy selection value means empty DateSet.\n        const me = this;\n\n        let result, rangeStartDate;\n\n        if (selection) {\n            // Convert single Date into Array\n            if (!selection.forEach) {\n                selection = [selection];\n            }\n\n            // Clamp selection into range. May duplicate, but the Set will dedupe.\n            selection.forEach((d, i) => selection[i] = me.changeDate(d));\n\n            // Cache the first date, regardless of sort order for use as the \"clicked date\"\n            // around which the range revolves when shift+click is used.\n            rangeStartDate = selection[0];\n            selection.sort(dateSort);\n\n            // A two element array means a start and end\n            if (me.multiSelect === 'range' && selection.length === 2) {\n                result = new DateSet();\n                for (const d = new Date(selection[0]); d <= selection[1]; d.setDate(d.getDate() + 1)) {\n                    result.add(d);\n                }\n            }\n            else {\n                // Multi dates may be in any order, so use the temporally first date as range start\n                rangeStartDate = selection[0];\n                result = new DateSet(selection);\n            }\n        }\n        else {\n            result = new DateSet();\n        }\n\n        if (rangeStartDate) {\n            me.activeDate = me.rangeStartDate = DateHelper.clearTime(rangeStartDate);\n        }\n\n        return result;\n    }\n\n    updateMultiSelect(multiSelect) {\n        this.element.classList.toggle('b-multiselect', Boolean(multiSelect));\n        if (!multiSelect) {\n            this.selection = [...this.selection][0];\n        }\n    }\n\n    updateSelection(dateSet) {\n        const\n            me        = this,\n            { dates } = dateSet,\n            selection = me.multiSelect === 'range' ? [dates[0], dates[dates.length - 1]] : dates;\n\n        // \"date\" property must be seen to be the selected date.\n        dates.length && (me.date = dates[0]);\n\n        if (!me.isConfiguring) {\n            // We're going to announce the change. UI must be up to date\n            me.refresh.now();\n\n            /**\n             * Fires when a date or date range is selected. If {@link #config-multiSelect} is specified,\n             * this will fire upon deselection and selection of dates.\n             * @event selectionChange\n             * @param {Date[]} selection The selected date. If {@link #config-multiSelect} is specified\n             * this may be a two element array specifying start and end dates.\n             * @param {Boolean} userAction This will be `true` if the change was caused by user interaction\n             * as opposed to programmatic setting.\n             */\n            me.trigger('selectionChange', {\n                selection,\n                userAction : Boolean(me.activatingEvent)\n            });\n        }\n    }\n\n    /**\n     * The selected Date(s).\n     *\n     * When {@link #config-multiSelect} is `'range'`, then this yields a two element array\n     * representing the start and end of the selected range.\n     *\n     * When {@link #config-multiSelect} is `true`, this yields an array containing every selected\n     * Date.\n     * @member {Date[]} selection\n     */\n    get selection() {\n        const\n            { _selection } = this,\n            dates          = _selection ? _selection.dates : emptyArray;\n\n        return this.multiSelect === 'range' && dates.length ? [dates[0], dates[dates.length - 1]] : dates;\n    }\n\n    onInternalKeyDown(keyEvent) {\n        const\n            me         = this,\n            keyName    = keyEvent.key.trim() || keyEvent.code,\n            activeDate = me.activeDate;\n\n        let newDate    = new Date(activeDate);\n\n        if (keyName === 'Escape' && me.floating) {\n            return me.hide();\n        }\n\n        // Only navigate if not focused on one of our child widgets.\n        // We have a prevMonth and nextMonth tool and possibly month and year pickers.\n        if (activeDate && me.weeksElement.contains(keyEvent.target)) {\n            do {\n                switch (keyName) {\n                    case 'ArrowLeft':\n                        // Disable browser use of this key.\n                        // Ctrl+ArrowLeft navigates back.\n                        // ArrowLeft scrolls if there is horizontal scroll.\n                        keyEvent.preventDefault();\n\n                        if (keyEvent.ctrlKey) {\n                            newDate = me.gotoPrevMonth();\n                        }\n                        else {\n                            newDate.setDate(newDate.getDate() - 1);\n                        }\n                        break;\n                    case 'ArrowUp':\n                        // Disable browser use of this key.\n                        // ArrowUp scrolls if there is vertical scroll.\n                        keyEvent.preventDefault();\n\n                        newDate.setDate(newDate.getDate() - 7);\n                        break;\n                    case 'ArrowRight':\n                        // Disable browser use of this key.\n                        // Ctrl+ArrowRight navigates forwards.\n                        // ArrowRight scrolls if there is horizontal scroll.\n                        keyEvent.preventDefault();\n\n                        if (keyEvent.ctrlKey) {\n                            newDate = me.gotoNextMonth();\n                        }\n                        else {\n                            newDate.setDate(newDate.getDate() + 1);\n                        }\n                        break;\n                    case 'ArrowDown':\n                        // Disable browser use of this key.\n                        // ArrowDown scrolls if there is vertical scroll.\n                        keyEvent.preventDefault();\n\n                        newDate.setDate(newDate.getDate() + 7);\n                        break;\n                    case 'Enter':\n                        return me.onUIDateSelect(activeDate, keyEvent);\n                }\n            } while (me.isDisabledDate(newDate) && !me.focusDisabledDates);\n\n            // Don't allow navigation to outside of date bounds.\n            if (me.minDate && newDate < me.minDate) {\n                return;\n            }\n            if (me.maxDate && newDate > me.maxDate) {\n                return;\n            }\n            me.activeDate = newDate;\n        }\n    }\n\n    changeMinDate(minDate) {\n        // Avoid changeDate which clamps incoming value into current allowable range\n        return minDate && CalendarPanel.prototype.changeDate.apply(this, arguments);\n    }\n\n    updateMinDate(minDate) {\n        this._yearpicker && (this._yearpicker.minYear = minDate?.getFullYear());\n        this.refresh();\n    }\n\n    changeMaxDate(minDate) {\n        // Avoid changeDate which clamps incoming value into current allowable range\n        return minDate && CalendarPanel.prototype.changeDate.apply(this, arguments);\n    }\n\n    updateMaxDate(maxDate) {\n        this._yearpicker && (this._yearpicker.maxYear = maxDate?.getFullYear());\n        this.refresh();\n    }\n\n    changeDate(date) {\n        return DateHelper.clamp(super.changeDate(date), this.minDate, this.maxDate);\n    }\n\n    updateDate(date) {\n        const me = this;\n\n        // Directly configuring a date creates the selection\n        me.isConfiguring && !me.initializingActiveDate && (me.selection = date);\n\n        // Only change the month's date if it is within our current month\n        // or we have to because we don't have a cell for it.\n        // If it's a date in the \"otherMonth\" part of the grid, do not update.\n        if (!me.month.date || date.getMonth() === me.month.month || !me.getCell(date) || me.alwaysRefreshOnMonthChange || me.isNavigating) {\n            super.updateDate(date);\n        }\n    }\n\n    changeActiveDate(activeDate, oldActiveDate) {\n        if (this.trigger('beforeActiveDateChange', { activeDate, oldActiveDate }) === false) {\n            return;\n        }\n\n        activeDate = activeDate ? this.changeDate(activeDate) : this.date || (this.date = DateHelper.clearTime(new Date()));\n\n        if (isNaN(activeDate)) {\n            throw new Error('DatePicker date ingestion must be passed a Date, or a YYYY-MM-DD date string');\n        }\n\n        return DateHelper.clamp(activeDate, this.minDate, this.maxDate);\n    }\n\n    updateActiveDate(activeDate, wasActiveDate) {\n        const\n            me                = this,\n            { isConfiguring } = me;\n\n        if (isConfiguring || !me.getCell(activeDate)) {\n            me.initializingActiveDate = isConfiguring;\n            me.date = activeDate;\n            me.initializingActiveDate = false;\n        }\n        if (!isConfiguring && !me.refresh.isPending) {\n            me.syncActiveDate(activeDate, wasActiveDate);\n        }\n    }\n\n    syncActiveDate(activeDate, wasActiveDate) {\n        const\n            me            = this,\n            { activeCls } = me,\n            activeCell    = me.getCell(activeDate),\n            wasActiveCell = wasActiveDate && me.getCell(wasActiveDate),\n            activeElement = DomHelper.getActiveElement(me.element);\n\n        activeCell.setAttribute('tabIndex', 0);\n        activeCls && activeCell.classList.add(activeCls);\n        activeCell.id = `${me.id}-active-day`;\n\n        if (me.weeksElement.contains(activeElement) /*|| me.owner?.element.contains(activeElement)*/) {\n            activeCell.focus();\n        }\n\n        if (wasActiveCell && wasActiveCell !== activeCell) {\n            wasActiveCell.removeAttribute('tabIndex');\n            activeCls && wasActiveCell.classList.remove(activeCls);\n            wasActiveCell.removeAttribute('id');\n        }\n    }\n\n    set value(value) {\n        const\n            me = this,\n            {\n                selection,\n                duration\n            }  = me;\n\n        if (value) {\n            value = me.changeDate(value, me.value);\n\n            // If we're maintaining a single date range, move the range\n            if (me.multiSelect === 'range' && selection?.length === 2) {\n                if (!DateHelper.betweenLesserEqual(value, ...selection)) {\n                    // Move range back to encapsulate date\n                    if (value < selection[0]) {\n                        me.selection = [value, DateHelper.add(value, duration - 1, 'd')];\n                    }\n                    // Move range forwards to encapsulate date\n                    else {\n                        me.selection = [DateHelper.add(value, -(duration - 1), 'd'), value];\n                    }\n                }\n                me.date = me.activeDate = value;\n                return;\n            }\n\n            // Undefined return value means no change\n            if (value !== undefined) {\n                me.selection = value;\n            }\n        }\n        else {\n            // Clearing the value - go to today's calendar\n            me.date = new Date();\n            me.selection = null;\n        }\n    }\n\n    get value() {\n        return this.selection[this.selection.length - 1];\n    }\n\n    get duration() {\n        return this.multiSelect === 'range' ? DateHelper.diff(...this.selection, 'd') + 1 : 1;\n    }\n\n    gotoPrevYear() {\n        return this.goto(-1, 'year');\n    }\n\n    gotoPrevMonth() {\n        return this.goto(-1, 'month');\n    }\n\n    gotoNextMonth() {\n        return this.goto(1, 'month');\n    }\n\n    gotoNextYear() {\n        return this.goto(1, 'year');\n    }\n\n    goto(direction, unit) {\n        const\n            me                  = this,\n            { activeDate }      = me,\n            activeCell          = activeDate && me.getCell(activeDate);\n\n        let newDate;\n\n        // If active date is already in the month we're going to, use it\n        if (unit === 'month' && activeCell && activeDate?.getMonth() === me.month.month + direction) {\n            newDate = activeDate;\n        }\n        // Move the date by the requested unit\n        else {\n            newDate = DateHelper.add(activeCell ? activeDate : me.date, direction, unit);\n        }\n        const firstDateOfNewMonth = new Date(newDate);\n\n        firstDateOfNewMonth.setDate(1);\n\n        const lastDateOfNewMonth  = DateHelper.add(DateHelper.add(firstDateOfNewMonth, 1, 'month'), -1, 'day');\n\n        // Don't navigate if month is outside bounds\n        if ((me.minDate && direction < 0 && lastDateOfNewMonth < me.minDate) || (me.maxDate && direction > 0 && firstDateOfNewMonth > me.maxDate)) {\n            return;\n        }\n\n        // We need to force a UI change even if the UI contains the target date.\n        // updateDate always calls super and CalendarPanel will refresh\n        me.isNavigating = true;\n\n        const result = me.date = newDate;\n\n        if (activeCell) {\n            me.activeDate = newDate;\n        }\n        me.isNavigating = false;\n        return result;\n    }\n\n    isActiveDate(date) {\n        return !(date - this.activeDate);\n    }\n\n    isSelectedDate(date) {\n        return this._selection?.has(date);\n    }\n\n    onMonthPicked({ record, userAction }) {\n        if (userAction) {\n            this.activeDate = DateHelper.add(this.activeDate, record.value - this.activeDate.getMonth(), 'month');\n            this.focusElement?.focus();\n        }\n    }\n\n    onYearPickerRequested() {\n        const { yearPicker } = this;\n\n        if (yearPicker.isVisible) {\n            yearPicker.hide();\n        }\n        else {\n            yearPicker.year = yearPicker.startYear = this.activeDate.getFullYear();\n            yearPicker.show();\n            yearPicker.focus();\n        }\n    }\n\n    onYearPickerTitleClick() {\n        this.yearPicker.hide();\n    }\n\n    onYearPicked({ value, source }) {\n        const newDate = new Date(this.activeDate);\n\n        newDate.setFullYear(value);\n        this.activeDate = newDate;\n\n        // Move focus without scroll *before* focus reversion from the hide.\n        // Browser behaviour of scrolling to focused element would break animation.\n        this.focusElement && DomHelper.focusWithoutScrolling(this.focusElement);\n        source.hide();\n    }\n\n    changeYearPicker(yearPicker, oldYearPicker) {\n        return YearPicker.reconfigure(oldYearPicker, yearPicker ? YearPicker.mergeConfigs({\n            owner    : this,\n            appendTo : this.element,\n            minYear  : this.minDate?.getFullYear(),\n            maxYear  : this.maxDate?.getFullYear()\n        }, yearPicker) : null, this);\n    }\n\n    get childItems() {\n        const\n            { _yearPicker } = this,\n            result          = super.childItems;\n\n        if (_yearPicker) {\n            result.push(_yearPicker);\n        }\n\n        return result;\n    }\n\n    updateLocalization() {\n        const\n            {\n                monthField\n            }          = this.widgetMap,\n            newData    = generateMonthNames();\n\n        if (!this.isConfiguring && !newData.every((d, i) => d[1] === monthField.store.getAt(i).text)) {\n            newData[monthField.value].selected = true;\n            monthField.items = newData;\n        }\n\n        super.updateLocalization();\n    }\n}\n\n// Dates are never equal, so raw Set won't work.\nclass DateSet extends Set {\n    add(d) {\n        d = DateHelper.makeKey(d);\n        if (!this.has(d)) {\n            this.generation = (this.generation || 0) + 1;\n        }\n        return super.add(d);\n    }\n\n    delete(d) {\n        d = DateHelper.makeKey(d);\n        if (this.has(d)) {\n            this.generation++;\n        }\n        return super.delete(d);\n    }\n\n    has(d) {\n        return super.has(DateHelper.makeKey(d));\n    }\n\n    clear() {\n        if (this.size) {\n            this.generation++;\n        }\n        return super.clear();\n    }\n\n    equals(other) {\n        Array.isArray(other) && (other = new DateSet(other));\n\n        return (other.size === this.size) && [...this].every(s => other.has(s));\n    }\n\n    get dates() {\n        return [...this].sort().map(k => DateHelper.parseKey(k));\n    }\n}\n\n// Register this widget type with its Factory\nDatePicker.initClass();\n","import PickerField from './PickerField.js';\nimport DatePicker from './DatePicker.js';\nimport DH from '../helper/DateHelper.js';\n\n// <remove-on-release>\n// TODO: picker icon (calendar) should show day number\n// </remove-on-release>\n\n/**\n * @module Core/widget/DateField\n */\n\n/**\n * Date field widget (text field + date picker).\n *\n * This field can be used as an {@link Grid.column.Column#config-editor editor} for the {@link Grid.column.Column Column}.\n * It is used as the default editor for the {@link Grid.column.DateColumn DateColumn}.\n *\n * This widget may be operated using the keyboard. `ArrowDown` opens the date picker, which itself\n * is keyboard navigable. `Shift+ArrowDown` activates the {@link #config-step} back trigger.\n * `Shift+ArrowUp` activates the {@link #config-step} forwards trigger.\n *\n * @extends Core/widget/PickerField\n *\n * @example\n * // minimal DateField config with date format specified\n * let dateField = new DateField({\n *   format: 'YYMMDD'\n * });\n *\n * @classType datefield\n * @inlineexample Core/widget/DateField.js\n * @inputfield\n */\nexport default class DateField extends PickerField {\n    //region Config\n    static get $name() {\n        return 'DateField';\n    }\n\n    // Factoryable type name\n    static get type() {\n        return 'datefield';\n    }\n\n    // Factoryable type alias\n    static get alias() {\n        return 'date';\n    }\n\n    static get configurable() {\n        return {\n            /**\n             * Get / set format for date displayed in field (see {@link Core.helper.DateHelper#function-format-static}\n             * for formatting options).\n             * @member {String} format\n             */\n            /**\n             * Format for date displayed in field. Defaults to using long date format, as defined by current locale (`L`)\n             * @config {String}\n             * @default\n             */\n            format : 'L',\n\n            /**\n             * A flag which indicates whether the date parsing should be strict - meaning if the date\n             * is missing a year/month/day part - parsing fails.\n             *\n             * Turned off by default, meaning default values are substituted for missing parts.\n             *\n             * @config {Boolean}\n             * @default\n             */\n            strictParsing : false,\n\n            // same for all languages\n            fallbackFormat : 'YYYY-MM-DD',\n            timeFormat     : 'HH:mm:ss:SSS',\n\n            /**\n             * A flag which indicates what time should be used for selected date.\n             * `false` by default which means time is reset to midnight.\n             *\n             * Possible options are:\n             * - `false` to reset time to midnight\n             * - `true` to keep original time value\n             * - `'17:00'` a string which is parsed automatically\n             * - `new Date(2020, 0, 1, 17)` a date object to copy time from\n             * - `'entered'` to keep time value entered by user (in case {@link #config-format} includes time info)\n             *\n             * @config {Boolean|Date|String}\n             * @default\n             */\n            keepTime : false,\n\n            /**\n             * Format for date in the {@link #config-picker}. Uses localized format per default\n             * @config {String}\n             */\n            pickerFormat : null,\n\n            /**\n             * Set to true to first clear time of the field's value before comparing it to the max value\n             * @internal\n             * @config {Boolean}\n             */\n            validateDateOnly : null,\n\n            triggers : {\n                expand : {\n                    cls     : 'b-icon-calendar',\n                    handler : 'onTriggerClick',\n                    weight  : 200\n                },\n\n                back : {\n                    cls     : 'b-icon b-icon-angle-left b-step-trigger',\n                    key     : 'Shift+ArrowDown',\n                    handler : 'onBackClick',\n                    align   : 'start',\n                    weight  : 100\n                },\n\n                forward : {\n                    cls     : 'b-icon b-icon-angle-right b-step-trigger',\n                    key     : 'Shift+ArrowUp',\n                    handler : 'onForwardClick',\n                    align   : 'end',\n                    weight  : 100\n                }\n            },\n\n            // An optional extra CSS class to add to the picker container element\n            calendarContainerCls : '',\n\n            /**\n             * Get/set min value, which can be a Date or a string. If a string is specified, it will be converted using\n             * the specified {@link #config-format}.\n             * @member {Date} min\n             * @accepts {String|Date}\n             */\n            /**\n             * Min value\n             * @config {String|Date}\n             */\n            min : null,\n\n            /**\n             * Get/set max value, which can be a Date or a string. If a string is specified, it will be converted using\n             * the specified {@link #config-format}.\n             * @member {Date} max\n             * @accepts {String|Date}\n             */\n            /**\n             * Max value\n             * @config {String|Date}\n             */\n            max : null,\n\n            /**\n             * The `step` property may be set in object form specifying two properties, `magnitude`, a Number, and\n             * `unit`, a String.\n             *\n             * If a Number is passed, the step's current unit is used (or `day` if no current step set) and just the\n             * magnitude is changed.\n             *\n             * If a String is passed, it is parsed by {@link Core.helper.DateHelper#function-parseDuration-static}, for\n             * example `'1d'`, `'1 d'`, `'1 day'`, or `'1 day'`.\n             *\n             * Upon read, the value is always returned in object form containing `magnitude` and `unit`.\n             * @member {DurationConfig} step\n             * @accepts {String|Number|DurationConfig}\n             */\n            /**\n             * Time increment duration value. If specified, `forward` and `back` triggers are displayed.\n             * The value is taken to be a string consisting of the numeric magnitude and the units.\n             * The units may be a recognised unit abbreviation of this locale or the full local unit name.\n             * For example `'1d'` or `'1w'` or `'1 week'`. This may be specified as an object containing\n             * two properties: `magnitude`, a Number, and `unit`, a String\n             * @config {String|Number|DurationConfig}\n             */\n            step : false,\n\n            stepTriggers : null,\n\n            /**\n             * The week start day in the {@link #config-picker}, 0 meaning Sunday, 6 meaning Saturday.\n             * Uses localized value per default.\n             * @config {Number}\n             */\n            weekStartDay : null,\n\n            /**\n             * A config object used to configure the {@link Core.widget.DatePicker datePicker}.\n             * ```javascript\n             * dateField = new DateField({\n             *      picker    : {\n             *          multiSelect : true\n             *      }\n             *  });\n             * ```\n             * @config {DatePickerConfig}\n             */\n            picker : {\n                type         : 'datepicker',\n                role         : 'dialog',\n                floating     : true,\n                scrollAction : 'realign',\n                align        : {\n                    align    : 't0-b0',\n                    axisLock : true\n                }\n            },\n\n            /**\n             * Get/set value, which can be set as a Date or a string but always returns a Date. If a string is\n             * specified, it will be converted using the specified {@link #config-format}\n             * @member {Date} value\n             * @accepts {String|Date}\n             */\n            /**\n             * Value, which can be a Date or a string. If a string is specified, it will be converted using the\n             * specified {@link #config-format}\n             * @config {String|Date}\n             */\n            value : null\n        };\n    }\n\n    //endregion\n\n    //region Init & destroy\n\n    /**\n     * Creates default picker widget\n     *\n     * @internal\n     */\n    changePicker(picker, oldPicker) {\n        const\n            me       = this,\n            defaults = {\n                owner        : me,\n                forElement   : me[me.pickerAlignElement],\n                minDate      : me.min,\n                maxDate      : me.max,\n                weekStartDay : me._weekStartDay, // need to pass the raw value to let the component to use its default value\n\n                align : {\n                    anchor : me.overlayAnchor,\n                    target : me[me.pickerAlignElement]\n                },\n\n                onSelectionChange : ({ selection, source : picker }) => {\n                    // We only care about what DatePicker does if it has been opened\n                    if (picker.isVisible) {\n                        me._isUserAction = me._isPickerInput = true;\n                        me.value = selection[0];\n                        me._isPickerInput = me._isUserAction = false;\n                        picker.hide();\n                    }\n                }\n            };\n\n        if (me.calendarContainerCls) {\n            defaults.cls = me.calendarContainerCls;\n        }\n\n        // If we are in cleared state, the picker will also have no value.\n        // But have it focused on today as a default.\n        if (me.value) {\n            defaults.value = me.value;\n        }\n        else {\n            defaults.activeDate = new Date();\n        }\n\n        const result = DatePicker.reconfigure(oldPicker, picker, {\n            owner : me,\n            defaults\n        });\n\n        // Cells must exist early\n        result?.refresh.flush();\n\n        return result;\n    }\n\n    //endregion\n\n    //region Click listeners\n\n    get backShiftDate() {\n        return DH.add(this.value, -1 * this._step.magnitude, this._step.unit);\n    }\n\n    onBackClick() {\n        const\n            me      = this,\n            { min } = me;\n\n        if (!me.readOnly && me.value) {\n            const newValue = me.backShiftDate;\n            if (!min || min.getTime() <= newValue) {\n                me._isUserAction = true;\n                me.value = newValue;\n                me._isUserAction = false;\n            }\n        }\n    }\n\n    get forwardShiftDate() {\n        return DH.add(this.value, this._step.magnitude, this._step.unit);\n    }\n\n    onForwardClick() {\n        const\n            me      = this,\n            { max } = me;\n\n        if (!me.readOnly && me.value) {\n            const newValue = me.forwardShiftDate;\n            if (!max || max.getTime() >= newValue) {\n                me._isUserAction = true;\n                me.value = newValue;\n                me._isUserAction = false;\n            }\n        }\n    }\n\n    //endregion\n\n    //region Toggle picker\n\n    showPicker(focusPicker) {\n        if (this.readOnly) {\n            return;\n        }\n\n        const\n            me           = this,\n            { _picker }  = me;\n\n        // If it's already instanced, navigate it to our date, or default of today.\n        // It will be initialized correctly if not.\n        if (_picker) {\n            // In case a subclass uses a min getter (which does not update our min value) - ensure picker is correctly configured\n            const pickerConfig = {\n                minDate : me.min,\n                maxDate : me.max\n            };\n\n            if (me.value) {\n                pickerConfig.value = me.value;\n            }\n            // If the field is cleared, show today's Calendar in the picker\n            // unless it's already been navigated elsewhere.\n            else if (!_picker.activeDate) {\n                pickerConfig.activeDate = new Date();\n            }\n\n            // Config dependencies are correctly processed by setConfig\n            _picker.setConfig(pickerConfig);\n        }\n\n        super.showPicker(focusPicker);\n    }\n\n    focusPicker() {\n        this.picker.focus();\n    }\n\n    //endregion\n\n    // region Validation\n\n    get isValid() {\n        const me  = this;\n\n        me.clearError('L{Field.minimumValueViolation}', true);\n        me.clearError('L{Field.maximumValueViolation}', true);\n\n        let value = me.value;\n\n        if (value) {\n            const { min, max, validateDateOnly } = me;\n\n            // Validation of the date should only care about the date part\n            if (validateDateOnly) {\n                value = DH.clearTime(value, false);\n            }\n\n            if (min && value < min) {\n                me.setError('L{Field.minimumValueViolation}', true);\n                return false;\n            }\n\n            if (max && value > max) {\n                me.setError('L{Field.maximumValueViolation}', true);\n                return false;\n            }\n        }\n\n        return super.isValid;\n    }\n\n    //endregion\n\n    //region Getters/setters\n    transformDateValue(value) {\n        const me = this;\n\n        if (value != null) {\n            if (!DH.isDate(value)) {\n                if (typeof value === 'string') {\n                    // If date cannot be parsed with set format, try fallback - the more general one\n                    value = DH.parse(value, me.format, me.strictParsing) || DH.parse(value, me.fallbackFormat, me.strictParsing);\n                }\n                else {\n                    value = new Date(value);\n                }\n            }\n\n            // We insist on a *valid* Date as the value\n            if (DH.isValidDate(value)) {\n                if ((!me.min || (value - me.min > -DH.MS_PER_DAY)) && (!me.max || value <= me.max)) {\n                    return me.transformTimeValue(value);\n                }\n\n                return value;\n            }\n        }\n        return null;\n    }\n\n    transformTimeValue(value) {\n        const\n            me = this,\n            { keepTime } = me;\n\n        value = DH.clone(value);\n\n        if (!keepTime) {\n            DH.clearTime(value, false);\n        }\n        // change time if keepTime !== 'entered'\n        else if (keepTime !== 'entered') {\n            const timeValue = DH.parse(keepTime, me.timeFormat);\n\n            // if this.keepTime is a valid date or a string describing valid time copy from it\n            if (DH.isValidDate(timeValue)) {\n                DH.copyTimeValues(value, timeValue);\n            }\n            // otherwise try to copy from the current value\n            else if (DH.isValidDate(me.value)) {\n                DH.copyTimeValues(value, me.value);\n            }\n        }\n        // if keepTime === 'entered' and picker is used apply current value time\n        else if (me._isPickerInput && DH.isValidDate(me.value)) {\n            DH.copyTimeValues(value, me.value);\n        }\n        // else don't change time\n\n        return value;\n    }\n\n    changeMin(value) {\n        return this.transformDateValue(value);\n    }\n\n    updateMin(min) {\n        const { input, _picker } = this;\n\n        if (input) {\n            if (min == null) {\n                input.removeAttribute('min');\n            }\n            else {\n                input.min = min;\n            }\n        }\n\n        // See if our lazy config has been realized...\n        if (_picker) {\n            _picker.minDate = min;\n        }\n\n        this.syncInvalid();\n    }\n\n    changeMax(value) {\n        return this.transformDateValue(value);\n    }\n\n    updateMax(max) {\n        const { input, _picker } = this;\n\n        if (input) {\n            if (max == null) {\n                input.removeAttribute('max');\n            }\n            else {\n                input.max = max;\n            }\n        }\n\n        if (_picker) {\n            _picker.maxDate = max;\n        }\n\n        this.syncInvalid();\n    }\n\n    get weekStartDay() {\n        // This trick allows our weekStartDay to float w/the locale even if the locale changes\n        return typeof this._weekStartDay === 'number' ? this._weekStartDay : DH.weekStartDay;\n    }\n\n    updateWeekStartDay(weekStartDay) {\n        if (this._picker) {\n            this._picker.weekStartDay = weekStartDay;\n        }\n    }\n\n    changeValue(value, oldValue) {\n        const\n            me = this,\n            newValue = me.transformDateValue(value);\n\n        // A value we could not parse\n        if (value && !newValue) {\n            // setError uses localization\n            me.setError('L{invalidDate}');\n            return;\n        }\n\n        me.clearError('L{invalidDate}');\n\n        // Reject non-change\n        if (me.hasChanged(oldValue, newValue)) {\n            return super.changeValue(newValue, oldValue);\n        }\n\n        // But we must fix up the display in case it was an unparseable string\n        // and the value therefore did not change.\n        if (!me.inputting) {\n            me.syncInputFieldValue();\n        }\n    }\n\n    updateValue(value, oldValue) {\n        const picker = this._picker;\n\n        if (picker && !this.inputting) {\n            picker.value = picker.activeDate = value;\n        }\n\n        super.updateValue(value, oldValue);\n    }\n\n    changeStep(value, was) {\n        const type = typeof value;\n\n        if (!value) {\n            return null;\n        }\n\n        if (type === 'number') {\n            value = {\n                magnitude : Math.abs(value),\n                unit      : was ? was.unit : 'day'\n            };\n        }\n        else if (type === 'string') {\n            value = DH.parseDuration(value);\n        }\n\n        if (value && value.unit && value.magnitude) {\n            if (value.magnitude < 0) {\n                value = {\n                    magnitude : -value.magnitude,  // Math.abs\n                    unit      : value.unit\n                };\n            }\n\n            return value;\n        }\n    }\n\n    updateStep(value) {\n        // If a step is configured, show the steppers\n        this.element.classList[value ? 'remove' : 'add']('b-no-steppers');\n\n        this.syncInvalid();\n    }\n\n    hasChanged(oldValue, newValue) {\n        // if both dates are provided and the field does not has time info in its format\n        if (oldValue?.getTime && newValue?.getTime && this.keepTime !== 'entered') {\n            // Only compare date part\n            return !DH.isEqual(DH.clearTime(oldValue), DH.clearTime(newValue));\n        }\n\n        return super.hasChanged(oldValue && oldValue.getTime(), newValue && newValue.getTime());\n    }\n\n    get inputValue() {\n        // Do not use the _value property. If called during configuration, this\n        // will import the configured value from the config object.\n        const date = this.value;\n\n        return date ? DH.format(date, this.format) : '';\n    }\n\n    updateFormat() {\n        if (!this.isConfiguring) {\n            this.syncInputFieldValue(true);\n        }\n    }\n\n    //endregion\n\n    //region Localization\n\n    updateLocalization() {\n        super.updateLocalization();\n        this.syncInputFieldValue(true);\n    }\n\n    //endregion\n\n    //region Other\n\n    internalOnKeyEvent(event) {\n        super.internalOnKeyEvent(event);\n\n        if (event.key === 'Enter' && this.isValid) {\n            this.picker.hide();\n        }\n    }\n\n    //endregion\n}\n\n// Register this widget type with its Factory\nDateField.initClass();\n","import Field from './Field.js';\nimport NumberFormat from '../helper/util/NumberFormat.js';\nimport EventHelper from '../helper/EventHelper.js';\nimport BrowserHelper from '../helper/BrowserHelper.js';\n\n/**\n * @module Core/widget/NumberField\n */\nconst preventDefault = e => e.ctrlKey && e.preventDefault();\n\n/**\n * Number field widget. Similar to native `<input type=\"number\">`, but implemented as `<input type=\"text\">` to support\n * formatting.\n *\n * This field can be used as an {@link Grid/column/Column#config-editor} for the {@link Grid/column/Column}.\n * It is used as the default editor for the {@link Grid/column/NumberColumn},\n * {@link Grid/column/PercentColumn}, {@link Grid/column/AggregateColumn}.\n *\n * ```javascript\n * const number = new NumberField({\n *     min   : 1,\n *     max   : 5,\n *     value : 3\n * });\n * ```\n *\n * Provide a {@link Core/helper/util/NumberFormat} config as {@link #config-format} to be able to show currency. For\n * example:\n *\n * ```javascript\n * new NumberField({\n *   format : {\n *      style    : 'currency',\n *      currency : 'USD'\n *   }\n * });\n * ```\n *\n * @extends Core/widget/Field\n * @classType numberfield\n * @inlineexample Core/widget/NumberField.js\n * @inputfield\n */\nexport default class NumberField extends Field {\n\n    //region Config\n\n    static get $name() {\n        return 'NumberField';\n    }\n\n    // Factoryable type name\n    static get type() {\n        return 'numberfield';\n    }\n\n    // Factoryable type alias\n    static get alias() {\n        return 'number';\n    }\n\n    static get configurable() {\n        return {\n            /**\n             * Min value\n             * @config {Number}\n             */\n            min : null,\n\n            /**\n             * Max value\n             * @config {Number}\n             */\n            max : null,\n\n            /**\n\n             * Step size for spin button clicks.\n             * @member {Number} step\n             */\n            /**\n             * Step size for spin button clicks. Also used when pressing up/down keys in the field.\n             * @config {Number}\n             * @default\n             */\n            step : 1,\n\n            /**\n             * Large step size, defaults to 10 * `step`. Applied when pressing SHIFT and stepping either by click or\n             * using keyboard.\n             * @config {Number}\n             * @default 10\n             */\n            largeStep : 0,\n\n            /**\n             * Initial value\n             * @config {Number}\n             */\n            value : null,\n\n            /**\n             * The format to use for rendering numbers.\n             *\n             * For example:\n             * ```\n             *  format: '9,999.00##'\n             * ```\n             * The above enables digit grouping and will display at least 2 (but no more than 4) fractional digits.\n             * @config {String|NumberFormatConfig}\n             * @default\n             */\n            format : '',\n\n            /**\n             * The number of decimal places to allow. Defaults to no constraint.\n             *\n             * This config has been replaced by {@link #config-format}. Instead of this:\n             *```\n             *  decimalPrecision : 3\n             *```\n             * Use `format`:\n             *```\n             *  format : '9.###'\n             *```\n             * To set both `decimalPrecision` and `leadingZeroes` (say to `3`), do this:\n             *```\n             *  format : '3>9.###'\n             *```\n             * @config {Number}\n             * @default\n             * @deprecated Since 3.1. Use {@link #config-format} instead.\n             */\n            decimalPrecision : null,\n\n            /**\n             * The maximum number of leading zeroes to show. Defaults to no constraint.\n             *\n             * This config has been replaced by {@link #config-format}. Instead of this:\n             *```\n             *  leadingZeros : 3\n             *```\n             * Use `format`:\n             *```\n             *  format : '3>9'\n             *```\n             * To set both `leadingZeroes` and `decimalPrecision` (say to `2`), do this:\n             *```\n             *  format : '3>9.##'\n             *```\n             * @config {Number}\n             * @default\n             * @deprecated Since 3.1. Use {@link #config-format} instead.\n             */\n            leadingZeroes : null,\n\n            triggers : {\n                spin : {\n                    type : 'spintrigger'\n                }\n            },\n\n            /**\n             * Controls how change events are triggered when stepping the value up or down using either spinners or\n             * arrow keys.\n             *\n             * Configure with:\n             * * `true` to trigger a change event per step\n             * * `false` to not trigger change while stepping. Will trigger on blur/Enter\n             * * A number of milliseconds to buffer the change event, triggering when no steps are performed during that\n             *   period of time.\n             *\n             * @config {Boolean|Number}\n             * @default\n             */\n            changeOnSpin : true,\n\n            // NOTE: using type=\"number\" has several trade-offs:\n            //\n            // Negatives:\n            //   - No access to caretPos/textSelection. This causes anomalies when replacing\n            //     the input value with a formatted version of that value (the caret moves to\n            //     the end of the input el on each character typed).\n            //   - The above also prevents Siesta/synthetic events from mimicking typing.\n            //   - Thousand separators cannot be displayed (input.value = '1,000' throws an\n            //     exception).\n            // Positives:\n            //   - On mobile, the virtual keyboard only shows digits et al.\n            //   - validity property on DOM node that handles min/max checks.\n            //\n            // The above may not be exhaustive, but there is not a compelling reason to\n            // use type=\"number\" except on mobile.\n\n            /**\n             * This can be set to `'number'` to enable the numeric virtual keyboard on\n             * mobile devices. Doing so limits this component's ability to handle keystrokes\n             * and format properly as the user types, so this is not recommended for\n             * desktop applications. This will also limit similar features of automated\n             * testing tools that mimic user input.\n             * @config {String}\n             * @default text\n             */\n            inputType : null\n        };\n    }\n\n    //endregion\n\n    //region Init\n\n    construct(config) {\n        super.construct(config);\n\n        const me = this;\n\n        // Support for selecting all by double click in empty input area\n        // Browsers work differently at this case\n        me.input.addEventListener('dblclick', () => {\n            me.select();\n        });\n\n        if (typeof me.changeOnSpin === 'number') {\n            me.bufferedSpinChange = me.buffer(me.triggerChange, me.changeOnSpin);\n        }\n    }\n\n    //endregion\n\n    //region Internal functions\n\n    acceptValue(value, rawValue) {\n        let accept = !isNaN(value);\n\n        // https://github.com/bryntum/support/issues/1349\n        // Pass through if there is a text selection in the field. This fixes the case when\n        // valid value is typed already and we are replacing it by selecting complete string and typing over it.\n        // Cannot be tested in siesta, see ticket for more info.\n        if (accept && !this.hasTextSelection) {\n            accept = false;\n\n            const\n                raw = this.input.value,\n                current = parseFloat(raw);\n\n            if (raw !== rawValue) {\n                // The new value is out of range, but we accept it if the current value\n                // is also problematic. Consider the case where the input is empty and the\n                // minimum value is 100. The user must first type \"1\" and we must accept it\n                // if they are to get the opportunity to type the \"0\"s.\n                accept = !this.acceptValue(current, raw);\n\n                // Also, if we are checking the current value, be sure not to infinitely\n                // recurse here.\n            }\n        }\n\n        return accept;\n    }\n\n    okMax(value) {\n        return isNaN(this.max) || value <= this.max;\n    }\n\n    okMin(value) {\n        return isNaN(this.min) || value >= this.min;\n    }\n\n    internalOnKeyEvent(e) {\n        if (e.type === 'keydown') {\n            const\n                me = this,\n                key = e.key;\n\n            let block;\n\n            // Native arrow key spin behaviour differs between browsers, so we replace\n            // the native spinners w/our own triggers and handle arrows keys as well.\n            if (key === 'ArrowUp') {\n                me.doSpinUp(e.shiftKey);\n                block = true;\n            }\n            else if (key === 'ArrowDown') {\n                me.doSpinDown(e.shiftKey);\n                block = true;\n            }\n            else if (!e.altKey && !e.ctrlKey && key && key.length === 1) {\n                // The key property contains the character or key name... so ignore\n                // keys that aren't a single character.\n                const\n                    after      = me.getAfterValue(key),\n                    afterValue = me.formatter.parseStrict(after),\n                    // no need to check if typing same value or - if negative numbers are allowed\n                    accepted   = afterValue === me.value || (after === '-' && (isNaN(me.min) || me.min < 0));\n\n                block = !accepted && !me.acceptValue(afterValue, after);\n            }\n\n            if (key === 'Enter' && me._changedBySilentSpin) {\n                me.triggerChange(e, true);\n\n                // reset the flag\n                me._changedBySilentSpin = false;\n            }\n\n            if (block) {\n                e.preventDefault();\n            }\n        }\n\n        super.internalOnKeyEvent(e);\n    }\n\n    doSpinUp(largeStep = false) {\n        const me = this;\n\n        if (me.readOnly) {\n            return;\n        }\n\n        let newValue = (me.value || 0) + (largeStep ? me.largeStep : me.step);\n\n        if (!me.okMin(newValue)) {\n            newValue = me.min;\n        }\n\n        if (me.okMax(newValue)) {\n            me.applySpinChange(newValue);\n        }\n    }\n\n    doSpinDown(largeStep = false) {\n        const me = this;\n\n        if (me.readOnly) {\n            return;\n        }\n\n        let newValue = (me.value || 0) - (largeStep ? me.largeStep : me.step);\n\n        if (!me.okMax(newValue)) {\n            newValue = me.max;\n        }\n\n        if (me.okMin(newValue)) {\n            me.applySpinChange(newValue);\n        }\n    }\n\n    applySpinChange(newValue) {\n        const me = this;\n\n        me._isUserAction = true;\n\n        // Should not trigger change immediately?\n        if (me.changeOnSpin !== true) {\n            me._changedBySilentSpin = true;\n            // Silence the change\n            me.silenceChange = true;\n            // Optionally buffer the change\n            me.bufferedSpinChange && me.bufferedSpinChange(null, true);\n        }\n\n        me.value = newValue;\n\n        me._isUserAction = false;\n        me.silenceChange = false;\n    }\n\n    triggerChange() {\n        if (!this.silenceChange) {\n            super.triggerChange(...arguments);\n        }\n    }\n\n    onFocusOut(e) {\n        super.onFocusOut(...arguments);\n\n        const\n            me = this,\n            { input } = me,\n            raw = input.value,\n            value = me.formatter.truncate(raw),\n            formatted = isNaN(value) ? raw : me.formatValue(value);\n\n        // Triggers may have been reconfigured\n        me.triggers?.spin?.clickRepeater?.cancel();\n\n        me.lastTouchmove = null;\n\n        if (raw !== formatted) {\n            input.value = formatted;\n        }\n\n        if (me._changedBySilentSpin) {\n            me.triggerChange(e, true);\n\n            // reset the flag\n            me._changedBySilentSpin = false;\n        }\n    }\n\n    internalOnInput(event) {\n        const\n            me = this,\n            { formatter, input } = me,\n            { parser } = formatter,\n            raw = input.value,\n            decimals = parser.decimalPlaces(raw);\n\n        if (formatter.truncator && decimals) {\n            let value = raw;\n\n            const trunc = formatter.truncate(raw);\n\n            if (!isNaN(trunc)) {\n                value = me.formatValue(trunc);\n\n                if (parser.decimalPlaces(value) < decimals) {\n                    // If typing has caused truncation or rounding, reset. To best preserve\n                    // the caret pos (which is reset by assigning input.value), we grab and\n                    // restore the distance from the end. This allows special things to format\n                    // into the string (such as thousands separators) since they always go to\n                    // the front of the input.\n                    const pos = raw.length - me.caretPos;\n\n                    input.value = value;\n\n                    me.caretPos = value.length - pos;\n                }\n            }\n        }\n\n        super.internalOnInput(event);\n    }\n\n    formatValue(value) {\n        return this.formatter.format(value);\n    }\n\n    changeFormat(format) {\n        const me = this;\n\n        if (format === '') {\n            const { leadingZeroes, decimalPrecision } = me;\n\n            format = leadingZeroes ? `${leadingZeroes}>9` : null;\n\n            if (decimalPrecision != null) {\n                format = `${format || ''}9.${'#'.repeat(decimalPrecision)}`;\n            }\n            else if (format) {\n                // When we only have leadingZeroes, we'll have a format like \"4>9\", but\n                // that will default to 3 decimal digits. Prior behavior implied no limit\n                // on decimal digits unless decimalPrecision was specified.\n                format += '.*';\n            }\n        }\n\n        return format;\n    }\n\n    get formatter() {\n        const\n            me = this,\n            format = me.format;\n\n        let formatter = me._formatter;\n\n        if (!formatter || me._lastFormat !== format) {\n            formatter = NumberFormat.get(me._lastFormat = format);\n\n            // <remove-on-release>\n            // TODO: use this.formatter.is.from.currency/percent visually...\n            // if (!formatter.is.decimal) {\n            //     formatter = formatter.as('decimal');\n            // }\n            // </remove-on-release>\n\n            me._formatter = formatter;\n        }\n\n        return formatter;\n    }\n\n    //endregion\n\n    //region Getters/Setters\n\n    updateStep(step) {\n        const me = this;\n\n        me.element.classList.toggle('b-hide-spinner', !step);\n        me._step = step;\n\n        if (step && BrowserHelper.isMobile) {\n            if (!me.touchMoveListener) {\n                me.touchMoveListener = EventHelper.on({\n                    element   : me.input,\n                    touchmove : 'onInputSwipe',\n                    thisObj   : me,\n                    throttled : {\n                        buffer : 150,\n                        alt    : preventDefault\n                    }\n                });\n            }\n        }\n        else {\n            me.touchMoveListener?.();\n        }\n    }\n\n    onInputSwipe(e) {\n        const { lastTouchmove } = this;\n\n        if (lastTouchmove) {\n            const\n                // Swipe right/up means spin up, left/down means spin down\n                deltaX = e.screenX - lastTouchmove.screenX,\n                deltaY = lastTouchmove.screenY - e.screenY,\n                delta  = Math.abs(deltaX) > Math.abs(deltaY) ? deltaX : deltaY;\n\n            this[`doSpin${delta > 0 ? 'Up' : 'Down'}`]();\n        }\n\n        // Disable touch-scrolling\n        e.preventDefault();\n        this.lastTouchmove = e;\n    }\n\n    changeLargeStep(largeStep) {\n        return largeStep || (this.step * 10);\n    }\n\n    get validity() {\n        const\n            value    = this.value,\n            validity = {};\n\n        // Assert range for non-empty fields, empty fields will turn invalid if `required: true`\n        if (value != null) {\n            validity.rangeUnderflow = !this.okMin(value);\n            validity.rangeOverflow = !this.okMax(value);\n        }\n        validity.valid = !validity.rangeUnderflow && !validity.rangeOverflow;\n\n        return validity;\n    }\n\n    /**\n     * Get/set the NumberField's value, or `undefined` if the input field is empty\n     * @property {Number}\n     */\n    changeValue(value, was) {\n        const me = this;\n\n        if (value || value === 0) {\n            let valueIsNaN;\n\n            // We insist on a number as the value\n            if (typeof value !== 'number') {\n                value = (typeof value === 'string') ? me.formatter.parse(value) : Number(value);\n\n                valueIsNaN = isNaN(value);\n                if (valueIsNaN) {\n                    value = '';\n                }\n            }\n\n            if (!valueIsNaN && me.format) {\n                value = me.formatter.round(value);\n            }\n        }\n        else {\n            value = undefined;\n        }\n\n        return super.changeValue(value, was);\n    }\n\n    get inputValue() {\n        let value = this.value;\n\n        if (value != null && this.format) {\n            value = this.formatValue(value);\n        }\n\n        return value;\n    }\n\n    //endregion\n}\n\n// Register this widget type with its Factory\nNumberField.initClass();\n","// Needs to be a panel for focus management in Safari\nimport Panel from './Panel.js';\nimport DateHelper from '../helper/DateHelper.js';\nimport './ButtonGroup.js';\nimport './NumberField.js';\n\n/**\n * @module Core/widget/TimePicker\n */\n\n/**\n * A Panel which displays hour and minute number fields and AM/PM switcher buttons for 12 hour time format.\n *\n * ```javascript\n * new TimeField({\n *     label     : 'Time field',\n *     appendTo  : document.body,\n *     // Configure the time picker\n *     picker    : {\n *         items : {\n *             minute : {\n *                 step : 5\n *             }\n *         }\n *     }\n * });\n * ```\n *\n * ## Contained widgets\n *\n * The default widgets contained in this picker are:\n *\n * | Widget ref | Type                            | Description                             |\n * |------------|---------------------------------|-----------------------------------------|\n * | `hour`     | {@link Core.widget.NumberField} | The hour field                          |\n * | `minute`   | {@link Core.widget.NumberField} | The minute field                        |\n * | `second`   | {@link Core.widget.NumberField} | The second field                        |\n * | `amPm`     | {@link Core.widget.ButtonGroup} | ButtonGroup holding the am & pm buttons |\n * | `amButton` | {@link Core.widget.Button}      | The am button                           |\n * | `pmButton` | {@link Core.widget.Button}      | The pm button                           |\n *\n * This class is not intended for use in applications. It is used internally by the {@link Core.widget.TimeField} class.\n *\n * @classType timepicker\n * @extends Core/widget/Panel\n * @widget\n */\nexport default class TimePicker extends Panel {\n\n    //region Config\n\n    static $name = 'TimePicker';\n\n    static type = 'timepicker';\n\n    static configurable = {\n        floating : true,\n        layout   : 'hbox',\n        items    : {\n            hour : {\n                label                   : 'L{TimePicker.hour}',\n                type                    : 'number',\n                min                     : 0,\n                max                     : 23,\n                highlightExternalChange : false,\n                format                  : '2>9'\n            },\n            minute : {\n                label                   : 'L{TimePicker.minute}',\n                type                    : 'number',\n                min                     : 0,\n                max                     : 59,\n                highlightExternalChange : false,\n                format                  : '2>9'\n            },\n            second : {\n                hidden                  : true,\n                label                   : 'L{TimePicker.second}',\n                type                    : 'number',\n                min                     : 0,\n                max                     : 59,\n                highlightExternalChange : false,\n                format                  : '2>9'\n            },\n            amPm : {\n                type  : 'buttongroup',\n                items : {\n                    amButton : {\n                        type        : 'button',\n                        text        : 'AM',\n                        toggleGroup : 'am-pm',\n                        cls         : 'b-blue',\n                        onClick     : 'up.onAmPmButtonClick'\n                    },\n                    pmButton : {\n                        type        : 'button',\n                        text        : 'PM',\n                        toggleGroup : 'am-pm',\n                        cls         : 'b-blue',\n                        onClick     : 'up.onAmPmButtonClick'\n                    }\n                }\n            }\n        },\n\n        autoShow : false,\n\n        trapFocus : true,\n\n        /**\n         * By default the seconds field is not displayed. If you require seconds to be visible,\n         * configure this as `true`\n         * @config {Boolean}\n         * @default false\n         */\n        seconds : null,\n\n        /**\n         * Time value, which can be a Date or a string. If a string is specified, it will be converted using the\n         * specified {@link #config-format}\n         * @prp {Date}\n         * @accepts {Date|String}\n         */\n        value : {\n            $config : {\n                equal : 'date'\n            },\n            value : null\n        },\n\n        /**\n         * Time format. Used to set appropriate 12/24 hour format to display.\n         * See {@link Core.helper.DateHelper#function-format-static DateHelper} for formatting options.\n         * @prp {String}\n         */\n        format : null,\n\n        /**\n         * Max value, which can be a Date or a string. If a string is specified, it will be converted using the\n         * specified {@link #config-format}\n         * @prp {Date}\n         * @accepts {Date|String}\n         */\n        max : null,\n\n        /**\n         * Min value, which can be a Date or a string. If a string is specified, it will be converted using the\n         * specified {@link #config-format}\n         * @prp {Date}\n         * @accepts {Date|String}\n         */\n        min : null,\n\n        /**\n         * Initial value, which can be a Date or a string. If a string is specified, it will be converted using the\n         * specified {@link #config-format}. Initial value is restored on Escape click\n         * @member {Date} initialValue\n         * @accepts {Date|String}\n         */\n        initialValue : null // Not documented as config on purpose, API was that way\n    };\n\n    //endregion\n\n    //region Init\n\n    construct(config) {\n        super.construct(config);\n        this.refresh();\n    }\n\n    updateSeconds(seconds) {\n        this.widgetMap.second[seconds ? 'show' : 'hide']();\n    }\n\n    //endregion\n\n    //region Event listeners\n\n    // Automatically called by Widget's triggerFieldChange which announces changes to all ancestors\n    onFieldChange() {\n        if (!this.isConfiguring && !this.isRefreshing) {\n            this.value = this.pickerToTime();\n        }\n    }\n\n    onAmPmButtonClick({ source }) {\n        this._pm = source.ref === 'pmButton';\n        if (this._value) {\n            this.value = this.pickerToTime();\n        }\n    }\n\n    onInternalKeyDown(keyEvent) {\n        const me = this;\n\n        switch (keyEvent.key) {\n            case 'Escape':\n                // Support for undefined initial time\n                me.triggerTimeChange(me._initialValue);\n                me.hide();\n                keyEvent.preventDefault();\n                return;\n            case 'Enter':\n                me.value = me.pickerToTime();\n                me.hide();\n                keyEvent.preventDefault();\n                return;\n        }\n\n        super.onInternalKeyDown?.(keyEvent);\n    }\n\n    //endregion\n\n    //region Internal functions\n\n    pickerToTime() {\n        const\n            me               = this,\n            pm               = me._pm,\n            { hour, minute, second } = me.widgetMap;\n\n        hour.format = me._is24Hour ? '2>9' : null;\n\n        let hours    = hour.value,\n            newValue = new Date(me.value);\n\n        if (!me._is24Hour) {\n            if (pm && hours < 12) hours = hours + 12;\n            if (!pm && hours === 12) hours = 0;\n        }\n\n        newValue.setHours(hours);\n        newValue.setMinutes(minute.value);\n        if (me.seconds) {\n            newValue.setSeconds(second.value);\n        }\n\n        if (me._min) {\n            newValue = DateHelper.max(me._min, newValue);\n        }\n        if (me._max) {\n            newValue = DateHelper.min(me._max, newValue);\n        }\n\n        return newValue;\n    }\n\n    triggerTimeChange(time) {\n        /**\n         * Fires when a time is changed.\n         * @event timeChange\n         * @param {Date} time The selected time.\n         */\n        this.trigger('timeChange', { time });\n    }\n\n    //endregion\n\n    //region Getters / Setters\n\n    updateInitialValue(initialValue) {\n        this.value = initialValue;\n    }\n\n    changeValue(value) {\n        if (value) {\n            value = typeof value === 'string' ? DateHelper.parse(value, this.format) : value;\n        }\n        if (!this.isVisible) {\n            this._initialValue = value;\n        }\n        return value ?? DateHelper.getTime(0);\n    }\n\n    updateValue(value) {\n        if (this.isVisible) {\n            this.triggerTimeChange(value);\n        }\n        this.refresh();\n    }\n\n    updateFormat(format) {\n        this._is24Hour = DateHelper.is24HourFormat(format);\n        this.refresh();\n    }\n\n    changeMin(min) {\n        return typeof min === 'string' ? DateHelper.parse(min, this.format) : min;\n    }\n\n    changeMax(max) {\n        return typeof max === 'string' ? DateHelper.parse(max, this.format) : max;\n    }\n\n    //endregion\n\n    //region Display\n\n    refresh() {\n        const me = this;\n\n        if (!me.isConfiguring && me.value) {\n            me.isRefreshing = true;\n            const\n                { hour, minute, second, amButton, pmButton } = me.widgetMap,\n                time                                 = me.value,\n                is24                                 = me._is24Hour,\n                hours                                = time.getHours(),\n                pm                                   = me._pm = hours >= 12;\n\n            me.element.classList[is24 ? 'add' : 'remove']('b-24h');\n\n            hour.min         = is24 ? 0 : 1;\n            hour.max         = is24 ? 23 : 12;\n            hour.value       = is24 ? hours : (hours % 12) || 12;\n            minute.value     = time.getMinutes();\n            second.value     = time.getSeconds();\n            amButton.pressed = !pm;\n            pmButton.pressed = pm;\n            amButton.hidden  = pmButton.hidden = is24;\n            me.isRefreshing  = false;\n        }\n    }\n\n    //endregion\n\n}\n\n// Register this widget type with its Factory\nTimePicker.initClass();\n","import DH from '../helper/DateHelper.js';\nimport PickerField from './PickerField.js';\nimport TimePicker from './TimePicker.js';\n\n/**\n * @module Core/widget/TimeField\n */\n\n/**\n * The time field widget is a text input field with a time picker drop down. It shows left/right arrows to increase or\n * decrease time by the {@link #config-step step value}.\n *\n * This field can be used as an {@link Grid.column.Column#config-editor editor} for the {@link Grid.column.Column Column}.\n * It is used as the default editor for the {@link Grid.column.TimeColumn TimeColumn}.\n *\n * ## Configuring the picker hour / minute fields\n *\n * You can easily configure the fields in the drop-down picker, to control the increment of the up/down step arrows:\n *\n * ```javascript\n * new TimeField({\n *     label     : 'Time field',\n *     appendTo  : document.body,\n *     picker    : {\n *         items : {\n *             minute : {\n *                 step : 5\n *             }\n *         }\n *     }\n * });\n * ```\n *\n * This widget may be operated using the keyboard. `ArrowDown` opens the time picker, which itself\n * is keyboard navigable. `Shift+ArrowDown` activates the {@link #config-step} back trigger.\n * `Shift+ArrowUp` activates the {@link #config-step} forwards trigger.\n *\n * @extends Core/widget/PickerField\n *\n * @example\n * let field = new TimeField({\n *   format: 'HH'\n * });\n *\n * @classType timefield\n * @inlineexample Core/widget/TimeField.js\n * @inputfield\n */\nexport default class TimeField extends PickerField {\n    //region Config\n    static get $name() {\n        return 'TimeField';\n    }\n\n    // Factoryable type name\n    static get type() {\n        return 'timefield';\n    }\n\n    // Factoryable type alias\n    static get alias() {\n        return 'time';\n    }\n\n    static get configurable() {\n        return {\n            picker : {\n                type  : 'timepicker',\n                align : {\n                    align    : 't0-b0',\n                    axisLock : true\n                }\n            },\n\n            /**\n             * Get/Set format for time displayed in field (see {@link Core.helper.DateHelper#function-format-static}\n             * for formatting options).\n             * @member {String} format\n             */\n            /**\n             * Format for date displayed in field (see Core.helper.DateHelper#function-format-static for formatting\n             * options).\n             * @config {String}\n             * @default\n             */\n            format : 'LT',\n\n            triggers : {\n                expand : {\n                    align   : 'end',\n                    handler : 'onTriggerClick',\n                    compose : () => ({\n                        children : [{\n                            class : {\n                                'b-icon-clock-live' : 1\n                            }\n                        }]\n                    })\n                },\n\n                back : {\n                    align   : 'start',\n                    cls     : 'b-icon b-icon-angle-left b-step-trigger',\n                    key     : 'Shift+ArrowDown',\n                    handler : 'onBackClick'\n                },\n\n                forward : {\n                    align   : 'end',\n                    cls     : 'b-icon b-icon-angle-right b-step-trigger',\n                    key     : 'Shift+ArrowUp',\n                    handler : 'onForwardClick'\n                }\n            },\n\n            /**\n             * Get/set min value, which can be a Date or a string. If a string is specified, it will be converted using\n             * the specified {@link #config-format}.\n             * @member {Date} min\n             * @accepts {String|Date}\n             */\n            /**\n             * Min time value\n             * @config {String|Date}\n             */\n            min : null,\n\n            /**\n             * Get/set max value, which can be a Date or a string. If a string is specified, it will be converted using\n             * the specified {@link #config-format}.\n             * @member {Date} max\n             * @accepts {String|Date}\n             */\n            /**\n             * Max time value\n             * @config {String|Date}\n             */\n            max : null,\n\n            /**\n             * The `step` property may be set in Object form specifying two properties, `magnitude`, a Number, and\n             * `unit`, a String.\n             *\n             * If a Number is passed, the steps's current unit is used and just the magnitude is changed.\n             *\n             * If a String is passed, it is parsed by {@link Core.helper.DateHelper#function-parseDuration-static}, for\n             * example `'5m'`, `'5 m'`, `'5 min'`, `'5 minutes'`.\n             *\n             * Upon read, the value is always returned in object form containing `magnitude` and `unit`.\n             * @member {DurationConfig} step\n             * @accepts {String|Number|DurationConfig}\n             */\n            /**\n             * Time increment duration value. Defaults to 5 minutes.\n             * The value is taken to be a string consisting of the numeric magnitude and the units.\n             * The units may be a recognised unit abbreviation of this locale or the full local unit name.\n             * For example `\"10m\"` or `\"5min\"` or `\"2 hours\"`\n             * @config {String}\n             */\n            step : '5m',\n\n            stepTriggers : null,\n\n            /**\n             * Get/set value, which can be a Date or a string. If a string is specified, it will be converted using the\n             * specified {@link #config-format}.\n             * @member {Date} value\n             * @accepts {String|Date}\n             */\n            /**\n             * Value, which can be a Date or a string. If a string is specified, it will be converted using the\n             * specified {@link #config-format}\n             * @config {String|Date}\n             */\n            value : null,\n\n            /**\n             * Set to true to not clean up the date part of the passed value. Set to false to reset the date part to\n             * January 1st\n             * @prp {Boolean}\n             * @default\n             */\n            keepDate : false\n        };\n    }\n\n    //endregion\n\n    //region Init & destroy\n\n    changePicker(picker, oldPicker) {\n        const me = this;\n\n        return TimePicker.reconfigure(oldPicker, picker, {\n            owner : me,\n\n            defaults : {\n                value      : me.value,\n                forElement : me[me.pickerAlignElement],\n                owner      : me,\n                align      : {\n                    anchor : me.overlayAnchor,\n                    target : me[me.pickerAlignElement]\n                },\n\n                onTimeChange({ time }) {\n                    me._isUserAction = true;\n                    me.value = time;\n                    me._isUserAction = false;\n                }\n            }\n        });\n    }\n\n    //endregion\n\n    //region Click listeners\n\n    onBackClick() {\n        const\n            me      = this,\n            { min } = me;\n\n        if (!me.readOnly && me.value) {\n            const newValue = DH.add(me.value, -1 * me.step.magnitude, me.step.unit);\n\n            if (!min || min.getTime() <= newValue) {\n                me._isUserAction = true;\n                me.value = newValue;\n                me._isUserAction = false;\n            }\n        }\n    }\n\n    onForwardClick() {\n        const\n            me      = this,\n            { max } = me;\n\n        if (!me.readOnly && me.value) {\n            const newValue = DH.add(me.value, me.step.magnitude, me.step.unit);\n\n            if (!max || max.getTime() >= newValue) {\n                me._isUserAction = true;\n                me.value = newValue;\n                me._isUserAction = false;\n            }\n        }\n    }\n\n    //endregion\n\n    // region Validation\n\n    get isValid() {\n        const me  = this;\n\n        me.clearError('L{Field.minimumValueViolation}', true);\n        me.clearError('L{Field.maximumValueViolation}', true);\n\n        let value = me.value;\n\n        if (value) {\n            value = value.getTime();\n            if (me._min && me._min.getTime() > value) {\n                me.setError('L{Field.minimumValueViolation}', true);\n                return false;\n            }\n\n            if (me._max && me._max.getTime() < value) {\n                me.setError('L{Field.maximumValueViolation}', true);\n                return false;\n            }\n        }\n\n        return super.isValid;\n    }\n\n    hasChanged(oldValue, newValue) {\n        if (oldValue?.getTime && newValue?.getTime) {\n            // Only care about the time part\n            return oldValue.getHours() !== newValue.getHours() ||\n                oldValue.getMinutes() !== newValue.getMinutes() ||\n                oldValue.getSeconds() !== newValue.getSeconds() ||\n                oldValue.getMilliseconds() !== newValue.getMilliseconds();\n        }\n\n        return super.hasChanged(oldValue, newValue);\n    }\n\n    //endregion\n\n    //region Toggle picker\n\n    /**\n     * Show picker\n     */\n    showPicker() {\n        const\n            me = this,\n            {\n                picker,\n                value\n            }  = me;\n\n        if (me.readOnly) {\n            return;\n        }\n\n        picker.value = value;\n        picker.format = me.format;\n        picker.maxTime = me.max;\n        picker.minTime = me.min;\n\n        // If we had no value initially.\n        if (!value) {\n            me.value = picker.value;\n        }\n\n        super.showPicker(true);\n    }\n\n    onPickerShow() {\n        super.onPickerShow();\n\n        // Remove PickerField key listener\n        this.pickerKeyDownRemover = this.pickerKeyDownRemover?.();\n    }\n\n    /**\n     * Focus time picker\n     */\n    focusPicker() {\n        this.picker.focus();\n    }\n\n    //endregion\n\n    //region Getters/setters\n\n    transformTimeValue(value) {\n        if (value != null) {\n            if (typeof value === 'string') {\n                value = DH.parse(value, this.format);\n\n                if (this.keepDate) {\n                    value = DH.copyTimeValues(new Date(this.value), value);\n                }\n            }\n            else {\n                value = new Date(value);\n            }\n\n            // We insist on a *valid* Time as the value\n            if (DH.isValidDate(value)) {\n                if (!this.keepDate) {\n                    // Clear date part back to zero so that all we have is the time part of the epoch.\n                    return DH.getTime(value);\n                }\n                else {\n                    return value;\n                }\n            }\n        }\n        return null;\n    }\n\n    changeMin(value) {\n        return this.transformTimeValue(value);\n    }\n\n    updateMin(value) {\n        const { input } = this;\n\n        if (input) {\n            if (value == null) {\n                input.removeAttribute('min');\n            }\n            else {\n                input.min = value;\n            }\n        }\n\n        this.syncInvalid();\n    }\n\n    changeMax(value) {\n        return this.transformTimeValue(value);\n    }\n\n    updateMax(value) {\n        const { input } = this;\n\n        if (input) {\n            if (value == null) {\n                input.removeAttribute('max');\n            }\n            else {\n                input.max = value;\n            }\n        }\n\n        this.syncInvalid();\n    }\n\n    changeValue(value, was) {\n        const\n            me = this,\n            newValue = me.transformTimeValue(value);\n\n        // A value we could not parse\n        if (value && !newValue || (me.isRequired && value === '')) {\n            // setError uses localization\n            me.setError('L{invalidTime}');\n            return;\n        }\n\n        me.clearError('L{invalidTime}');\n\n        // Reject non-change\n        if (me.hasChanged(was, newValue)) {\n            return super.changeValue(newValue, was);\n        }\n\n        // But we must fix up the display in case it was an unparseable string\n        // and the value therefore did not change.\n        if (!me.inputting) {\n            me.syncInputFieldValue(true);\n        }\n    }\n\n    updateValue(value, was) {\n        const { expand } = this.triggers;\n\n        // This makes to clock icon show correct time\n        if (expand && value) {\n            expand.element.firstElementChild.style.animationDelay =\n                -((value.getHours() * 60 + value.getMinutes()) / 10) + 's';\n        }\n\n        super.updateValue(value, was);\n    }\n\n    changeStep(value, was) {\n        const type = typeof value;\n\n        if (!value) {\n            return null;\n        }\n\n        if (type === 'number') {\n            value = {\n                magnitude : Math.abs(value),\n                unit      : was ? was.unit : 'hour'\n            };\n        }\n        else if (type === 'string') {\n            value = DH.parseDuration(value);\n        }\n\n        if (value?.unit && value?.magnitude) {\n            if (value.magnitude < 0) {\n                value = {\n                    magnitude : -value.magnitude,  // Math.abs\n                    unit      : value.unit\n                };\n            }\n\n            return value;\n        }\n    }\n\n    updateStep(value) {\n        // If a step is configured, show the steppers\n        this.element.classList[value ? 'remove' : 'add']('b-no-steppers');\n\n        this.syncInvalid();\n    }\n\n    updateFormat() {\n        this.syncInputFieldValue(true);\n    }\n\n    get inputValue() {\n        return DH.format(this.value, this.format);\n    }\n\n    //endregion\n\n    //region Localization\n\n    updateLocalization() {\n        super.updateLocalization();\n        this.syncInputFieldValue(true);\n    }\n\n    //endregion\n}\n\n// Register this widget type with its Factory\nTimeField.initClass();\n","import TextField from './TextField.js';\nimport DateHelper from '../helper/DateHelper.js';\nimport ObjectHelper from '../helper/ObjectHelper.js';\nimport Duration from '../data/Duration.js';\n\n/**\n * @module Core/widget/DurationField\n */\n\n/**\n * A specialized field allowing a user to also specify duration unit when editing the duration value.\n *\n * This field can be used as an {@link Grid.column.Column#config-editor editor} for the {@link Grid.column.Column Column}.\n * It is used as the default editor for the `DurationColumn`.\n *\n * @extends Core/widget/TextField\n * @classType durationfield\n * @inlineexample Core/widget/DurationField.js\n * @inputfield\n */\nexport default class DurationField extends TextField {\n    static get $name() {\n        return 'DurationField';\n    }\n\n    // Factoryable type name\n    static get type() {\n        return 'durationfield';\n    }\n\n    // Factoryable type alias\n    static get alias() {\n        return 'duration';\n    }\n\n    static get defaultConfig() {\n        return {\n            /**\n             * The `value` config may be set in Object form specifying two properties,\n             * `magnitude`, a Number, and `unit`, a String.\n             *\n             * If a String is passed, it is parsed in accordance with current locale rules.\n             * The string is taken to be the numeric magnitude, followed by whitespace, then an abbreviation, or name of\n             * the unit.\n             * @config {DurationConfig|String}\n             * @category Common\n             */\n            value : null,\n\n            /**\n             * Step size for spin button clicks.\n             * @config {Number}\n             * @default\n             * @category Common\n             */\n            step : 1,\n\n            /**\n             * The duration unit to use with the current magnitude value.\n             * @config {'millisecond'|'second'|'minute'|'hour'|'day'|'week'|'month'|'quarter'|'year'}\n             * @category Common\n             */\n            unit : null,\n\n            defaultUnit : 'day',\n\n            /**\n             * The duration magnitude to use with the current unit value. Can be either an integer or a float value.\n             * Both \",\" and \".\" are valid decimal separators.\n             * @config {Number}\n             * @category Common\n             */\n            magnitude : null,\n\n            /**\n             * When set to `true` the field will use short names of unit durations\n             * (as returned by {@link Core.helper.DateHelper#function-getShortNameOfUnit-static}) when creating the\n             * input field's display value.\n             * @config {Boolean}\n             * @category Common\n             */\n            useAbbreviation : false,\n\n            /**\n             * Set to `true` to allow negative duration\n             * @config {Boolean}\n             * @category Common\n             */\n            allowNegative : false,\n\n            /**\n             * The number of decimal places to allow. Defaults to no constraint.\n             * @config {Number}\n             * @default\n             * @category Common\n             */\n            decimalPrecision : null,\n\n            triggers : {\n                spin : {\n                    type : 'spintrigger'\n                }\n            },\n\n            nullValue : null\n        };\n    }\n\n    /**\n     * Fired when this field's value changes.\n     * @event change\n     * @param {Core.data.Duration} value - This field's value\n     * @param {Core.data.Duration} oldValue - This field's previous value\n     * @param {Boolean} valid - True if this field is in a valid state.\n     * @param {Event} [event] - The triggering DOM event if any.\n     * @param {Boolean} userAction - Triggered by user taking an action (`true`) or by setting a value (`false`)\n     * @param {Core.widget.DurationField} source - This field\n     */\n\n    /**\n     * User performed default action (typed into this field or hit the triggers).\n     * @event action\n     * @param {Core.data.Duration} value - This field's value\n     * @param {Core.data.Duration} oldValue - This field's previous value\n     * @param {Boolean} valid - True if this field is in a valid state.\n     * @param {Event} [event] - The triggering DOM event if any.\n     * @param {Boolean} userAction - Triggered by user taking an action (`true`) or by setting a value (`false`)\n     * @param {Core.widget.DurationField} source - This field\n     */\n\n    static get configurable() {\n        return {\n            /**\n             * Get/set the min value (e.g. 1d)\n             * @member {String} min\n             * @category Common\n             */\n            /**\n             * Minimum duration value (e.g. 1d)\n             * @config {String}\n             * @category Common\n             */\n            min : null,\n\n            /**\n             * Get/set the max value\n             * @member {String} max (e.g. 10d)\n             * @category Common\n             */\n            /**\n             * Max duration value (e.g. 10d)\n             * @config {String}\n             * @category Common\n             */\n            max : null,\n\n            /**\n             * Get/set the allowed units, e.g. \"day,hour,year\".\n             * @member {String} allowedUnits\n             * @category Common\n             */\n            /**\n             * Comma-separated list of units to allow in this field, e.g. \"day,hour,year\". Leave blank to allow all\n             * valid units (the default)\n             * @config {String}\n             * @category Common\n             */\n            allowedUnits : null\n        };\n    }\n\n    changeMin(value) {\n        return typeof value === 'string' ? new Duration(value) : value;\n    }\n\n    changeMax(value) {\n        return typeof value === 'string' ? new Duration(value) : value;\n    }\n\n    changeAllowedUnits(units) {\n        if (typeof units === 'string') {\n            units = units.split(',');\n        }\n\n        return units;\n    }\n\n    updateAllowedUnits(units) {\n        this.allowedUnitsRe = new RegExp(`(${units.join('|')})`, 'i');\n    }\n\n    get inputValue() {\n        // Do not use the _value property. If called during configuration, this\n        // will import the configured value from the config object.\n        return this.value == null ? '' : this.calcValue(true).toString(this.useAbbreviation);\n    }\n\n    /**\n     * Get/Set duration unit to use with the current magnitude value.\n     * Valid values are:\n     * - \"millisecond\" - Milliseconds\n     * - \"second\" - Seconds\n     * - \"minute\" - Minutes\n     * - \"hour\" - Hours\n     * - \"day\" - Days\n     * - \"week\" - Weeks\n     * - \"month\" - Months\n     * - \"quarter\" - Quarters\n     * - \"year\"- Years\n     *\n     * @property {'millisecond'|'second'|'minute'|'hour'|'day'|'week'|'month'|'quarter'|'year'}\n     * @category Common\n     */\n    set unit(unit) {\n        this._unit = unit;\n        this.value = this.calcValue();\n    }\n\n    get unit() {\n        return this._unit;\n    }\n\n    get unitWithDefault() {\n        return this._unit || DurationField.defaultConfig.defaultUnit;\n    }\n\n    /**\n     * Get/Set numeric magnitude `value` to use with the current unit value.\n     * @property {Number}\n     * @category Common\n     */\n    set magnitude(magnitude) {\n        this.clearError('L{invalidUnit}');\n\n        this._magnitude = magnitude;\n        super.value = this.calcValue();\n    }\n\n    get magnitude() {\n        return this._magnitude;\n    }\n\n    roundMagnitude(value) {\n        return value && this.decimalPrecision != null ? ObjectHelper.round(value, this.decimalPrecision) : value;\n    }\n\n    get allowDecimals() {\n        return this.decimalPrecision !== 0;\n    }\n\n    get isValid() {\n        const\n            me      = this,\n            isEmpty = me.value == null || (me.value && me.value.magnitude == null);\n\n        return super.isValid && ((isEmpty && !me.required) || !isEmpty && (me.allowNegative || me.value.magnitude >= 0));\n    }\n\n    internalOnChange(event) {\n        const\n            me     = this,\n            value  = me.value,\n            oldVal = me._lastValue;\n\n        if (me.hasChanged(oldVal, value)) {\n            me._lastValue = value;\n            me.triggerFieldChange({ value, event, userAction : true, valid : me.isValid });\n        }\n    }\n\n    onFocusOut(e) {\n        this.syncInputFieldValue(true);\n\n        this.triggers?.spin?.clickRepeater?.cancel();\n\n        return super.onFocusOut(e);\n    }\n\n    /**\n     * The `value` property may be set in Object form specifying two properties, `magnitude`, a Number, and `unit`, a\n     * String.\n     *\n     * If a Number is passed, the field's current unit is used and just the magnitude is changed.\n     *\n     * If a String is passed, it is parsed in accordance with current locale rules. The string is taken to be the\n     * numeric magnitude, followed by whitespace, then an abbreviation, or name of the unit.\n     *\n     * Upon read, the value is always a {@link Core.data.Duration} object containing `magnitude` and `unit`.\n     *\n     * @property {Core.data.Duration}\n     * @accepts {String|Number|DurationConfig|Core.data.Duration}\n     * @category Common\n     */\n    set value(value) {\n        const\n            me = this;\n        let newMagnitude, newUnit;\n\n        this.clearError('L{invalidUnit}');\n\n        if (typeof value === 'number') {\n            // A number means preserving existing unit value\n            newMagnitude = value;\n            newUnit = me._unit;\n        }\n        else if (typeof value === 'string') {\n            if (/^\\s*$/.test(value)) {\n                // special case of \"empty\" (in user meaning) string - set to `null` to allow unscheduling of tasks\n                newMagnitude = null;\n            }\n            else {\n                // Parse as a string\n                const\n                    parsedDuration = DateHelper.parseDuration(value, me.allowDecimals, me.unitWithDefault);\n\n                if (parsedDuration) {\n                    if (!me.allowedUnitsRe || me.allowedUnitsRe.test(parsedDuration.unit)) {\n                        newUnit = parsedDuration.unit;\n                        newMagnitude = parsedDuration.magnitude;\n                    }\n                    else {\n                        me.setError('L{invalidUnit}');\n                    }\n                }\n            }\n        }\n        else {\n            // Using value object with unit and magnitude\n            if (value && 'unit' in value && 'magnitude' in value) {\n                newUnit = value.unit;\n                newMagnitude = value.magnitude;\n            }\n            else {\n                newUnit = null;\n                newMagnitude = null;\n            }\n        }\n\n        if (me._magnitude !== newMagnitude || me._unit != newUnit) {\n            me._magnitude = newMagnitude;\n\n            // Once we have unit, do not clear it if setting clearing value\n            if (newUnit) {\n                me._unit = newUnit;\n            }\n            super.value = me.calcValue();\n        }\n    }\n\n    okMax(value) {\n        if (typeof value === 'number') {\n            value = new Duration({\n                unit      : this.unitWithDefault,\n                magnitude : value\n            });\n        }\n        return this.max == null || value <= this.max;\n    }\n\n    okMin(value) {\n        if (typeof value === 'number') {\n            value = new Duration({\n                unit      : this.unitWithDefault,\n                magnitude : value\n            });\n        }\n\n        return this.min == null || value >= this.min;\n    }\n\n    get validity() {\n        const\n            value    = this.value,\n            validity = {};\n\n        // Assert range for non-empty fields, empty fields will turn invalid if `required: true`\n        if (value != null) {\n            validity.rangeUnderflow = !this.okMin(value);\n            validity.rangeOverflow  = !this.okMax(value);\n        }\n        validity.valid = !validity.rangeUnderflow && !validity.rangeOverflow;\n\n        return validity;\n    }\n\n    get value() {\n        return super.value;\n    }\n\n    calcValue(round = false) {\n        const\n            me = this;\n\n        if ((!me._unit || me._magnitude == null) && me.clearable) {\n            return null;\n        }\n        else {\n            return new Duration(round ? this.roundMagnitude(me._magnitude) : this._magnitude, me.unitWithDefault);\n        }\n    }\n\n    hasChanged(oldValue, newValue) {\n        return newValue && !oldValue ||\n            !newValue && oldValue ||\n            newValue && oldValue && !oldValue.isEqual(newValue);\n    }\n\n    /**\n     * The `milliseconds` property is a read only property which returns the number of milliseconds in this field's\n     * value\n     * @member {Number} milliseconds\n     * @readonly\n     */\n    get milliseconds() {\n        // For reasons unknown documenting as @property did not work\n\n        return this.value ? this.value.milliseconds : 0;\n    }\n\n    onInternalKeyDown(keyEvent) {\n        if (keyEvent.key === 'ArrowUp') {\n            this.doSpinUp();\n        }\n        else if (keyEvent.key === 'ArrowDown') {\n            this.doSpinDown();\n        }\n    }\n\n    doSpinUp() {\n        const me = this;\n\n        if (me.readOnly) {\n            return;\n        }\n\n        let newValue = (me.magnitude || 0) + me.step;\n\n        me._isUserAction = true;\n\n        if (!me.okMin(newValue)) {\n            newValue = me.min;\n        }\n\n        if (me.okMax(newValue)) {\n            me.value = newValue;\n        }\n\n        me._isUserAction = false;\n    }\n\n    doSpinDown() {\n        const me = this;\n\n        if (me.readOnly) {\n            return;\n        }\n\n        let newValue = (me.magnitude || 0) - me.step;\n\n        if (!me.okMax(newValue)) {\n            newValue = me.max;\n        }\n\n        if (me.okMin(newValue) && (me.allowNegative || (me.magnitude || 0) > 0)) {\n            me._isUserAction = true;\n            me.value         = newValue;\n\n            me._isUserAction = false;\n        }\n    }\n}\n\n// Register this widget type with its Factory\nDurationField.initClass();\n","import Container from './Container.js';\nimport ArrayHelper from '../helper/ArrayHelper.js';\nimport DateHelper from '../helper/DateHelper.js';\nimport './Combo.js';\nimport './Checkbox.js';\nimport './NumberField.js';\nimport './TextField.js';\nimport './DateField.js';\nimport './DurationField.js';\nimport DomClassList from '../helper/util/DomClassList.js';\nimport ObjectHelper from '../helper/ObjectHelper.js';\nimport Duration from '../data/Duration.js';\nimport VersionHelper from '../helper/VersionHelper.js';\n\n/**\n * @module Core/widget/FieldFilterPicker\n */\n\nexport const SUPPORTED_FIELD_DATA_TYPES = ['number', 'boolean', 'string', 'date', 'duration'];\n\nexport const isSupportedDurationField = field => field.column?.type === 'duration';\n\nconst\n    emptyString = '',\n    typeName = 'fieldfilterpicker',\n    clsBase = `b-${typeName}`,\n    multiValueOperators = {\n        between         : true,\n        notBetween      : true,\n        isIncludedIn    : true,\n        isNotIncludedIn : true\n    },\n    valueInputTypes = {\n        textfield     : true,\n        datefield     : true,\n        numberfield   : true,\n        durationfield : true,\n        combo         : true\n    };\n\n/**\n * A field that is available for selection when defining filters.\n *\n * @typedef {Object} FieldOption\n * @property {'string'|'number'|'date'|'boolean'} type The data type of the values in this field in the data source\n * @property {String} title The human-friendly display name for the field, as might be displayed in a data column header\n */\n\n/**\n * A dictionary of value field placeholder strings, keyed by data type.\n *\n * @typedef {Object} ValueFieldPlaceholders\n * @property {String} string Placeholder text for text value fields\n * @property {String} number Placeholder text for number value fields\n * @property {String} date Placeholder text for date value fields\n * @property {String} list Placeholder text for multi-select list values, e.g. for the 'is one of' operator\n */\n\n/**\n * Widget for defining a {@link Core.util.CollectionFilter} for use in filtering a {@link Core.data.Store}.\n * Filters consist of `property` (the name of the data field whose values are checked), `operator`\n * (the type of comparison to use), and `value` (the pre-defined value against which to compare the\n * data field value during filtering).\n *\n * {@inlineexample Core/widget/FieldFilterPicker.js}\n *\n * For example:\n *\n * ```javascript\n * new FieldFilterPicker({\n *     appendTo : domElement,\n *\n *     fields: {\n *         // Allow filters to be defined against the 'age' and 'role' fields in our data\n *         age       : { title: 'Age', type: 'number' },\n *         startDate : { title: 'Start Date', type: 'date' }\n *     },\n *\n *     filter : {\n *         property : 'startDate',\n *         operator : '<',\n *         value    : new Date()\n *     }\n * });\n * ```\n *\n * @extends Core/widget/Container\n * @demo Grid/fieldfilters\n * @classtype fieldfilterpicker\n * @widget\n */\nexport default class FieldFilterPicker extends Container {\n\n    //region Config\n    static get $name() {\n        return 'FieldFilterPicker';\n    }\n\n    // Factoryable type name\n    static get type() {\n        return typeName;\n    }\n\n    static operators = {\n        empty           : { value : 'empty', text : 'L{isEmpty}', argCount : 0 },\n        notEmpty        : { value : 'notEmpty', text : 'L{isNotEmpty}', argCount : 0 },\n        '='             : { value : '=', text : 'L{equals}' },\n        '!='            : { value : '!=', text : 'L{doesNotEqual}' },\n        '>'             : { value : '>', text : 'L{isGreaterThan}' },\n        '<'             : { value : '<', text : 'L{isLessThan}' },\n        '>='            : { value : '>=', text : 'L{isGreaterThanOrEqualTo}' },\n        '<='            : { value : '<=', text : 'L{isLessThanOrEqualTo}' },\n        between         : { value : 'between', text : 'L{isBetween}', argCount : 2 },\n        notBetween      : { value : 'notBetween', text : 'L{isNotBetween}', argCount : 2 },\n        isIncludedIn    : { value : 'isIncludedIn', text : 'L{isOneOf}' },\n        isNotIncludedIn : { value : 'isNotIncludedIn', text : 'L{isNotOneOf}' }\n    };\n\n    static defaultOperators = {\n        string : [\n            // In display order\n            this.operators.empty,\n            this.operators.notEmpty,\n            this.operators['='],\n            this.operators['!='],\n            { value : 'includes', text : 'L{contains}' },\n            { value : 'doesNotInclude', text : 'L{doesNotContain}' },\n            { value : 'startsWith', text : 'L{startsWith}' },\n            { value : 'endsWith', text : 'L{endsWith}' },\n            this.operators.isIncludedIn,\n            this.operators.isNotIncludedIn\n        ],\n        number : [\n            this.operators.empty,\n            this.operators.notEmpty,\n            this.operators['='],\n            this.operators['!='],\n            this.operators['>'],\n            this.operators['<'],\n            this.operators['>='],\n            this.operators['<='],\n            this.operators.between,\n            this.operators.notBetween,\n            this.operators.isIncludedIn,\n            this.operators.isNotIncludedIn\n        ],\n        date : [\n            this.operators.empty,\n            this.operators.notEmpty,\n            this.operators['='],\n            this.operators['!='],\n            { value : '<', text : 'L{isBefore}' },\n            { value : '>', text : 'L{isAfter}' },\n            this.operators.between,\n            { value : 'isToday', text : 'L{isToday}', argCount : 0 },\n            { value : 'isTomorrow', text : 'L{isTomorrow}', argCount : 0 },\n            { value : 'isYesterday', text : 'L{isYesterday}', argCount : 0 },\n            { value : 'isThisWeek', text : 'L{isThisWeek}', argCount : 0 },\n            { value : 'isNextWeek', text : 'L{isNextWeek}', argCount : 0 },\n            { value : 'isLastWeek', text : 'L{isLastWeek}', argCount : 0 },\n            { value : 'isThisMonth', text : 'L{isThisMonth}', argCount : 0 },\n            { value : 'isNextMonth', text : 'L{isNextMonth}', argCount : 0 },\n            { value : 'isLastMonth', text : 'L{isLastMonth}', argCount : 0 },\n            { value : 'isThisYear', text : 'L{isThisYear}', argCount : 0 },\n            { value : 'isNextYear', text : 'L{isNextYear}', argCount : 0 },\n            { value : 'isLastYear', text : 'L{isLastYear}', argCount : 0 },\n            { value : 'isYearToDate', text : 'L{isYearToDate}', argCount : 0 },\n            this.operators.isIncludedIn,\n            this.operators.isNotIncludedIn\n        ],\n        boolean : [\n            { value : 'isTrue', text : 'L{isTrue}', argCount : 0 },\n            { value : 'isFalse', text : 'L{isFalse}', argCount : 0 }\n        ],\n        duration : [\n            this.operators.empty,\n            this.operators.notEmpty,\n            this.operators['='],\n            this.operators['!='],\n            this.operators['>'],\n            this.operators['<'],\n            this.operators['>='],\n            this.operators['<='],\n            this.operators.between,\n            this.operators.notBetween,\n            this.operators.isIncludedIn,\n            this.operators.isNotIncludedIn\n        ],\n        relation : [\n            this.operators.isIncludedIn,\n            this.operators.isNotIncludedIn\n        ]\n    };\n\n    static get defaultValueFieldPlaceholders() {\n        return {\n            string   : 'L{enterAValue}',\n            number   : 'L{enterANumber}',\n            date     : 'L{selectADate}',\n            list     : 'L{selectOneOrMoreValues}',\n            duration : 'L{enterAValue}'\n        };\n    };\n\n    static configurable = {\n        /**\n         * Dictionary of {@link #typedef-FieldOption} representing the fields against which filters can be defined,\n         * keyed by field name.\n         *\n         * <div class=\"note\">5.3.0 Syntax accepting FieldOption[] was deprecated in favor of dictionary and will be removed in 6.0</div>\n         *\n         * If filtering a {@link Grid.view.Grid}, consider using {@link Grid.widget.GridFieldFilterPicker}, which can be configured\n         * with an existing {@link Grid.view.Grid} instead of, or in combination with, defining fields manually.\n         *\n         * Example:\n         * ```javascript\n         * fields: {\n         *     // Allow filters to be defined against the 'age' and 'role' fields in our data\n         *     age  : { title: 'Age', type: 'number' },\n         *     role : { title: 'Role', type: 'string' }\n         * }\n         * ```\n         *\n         * @config {Object<String,FieldOption>}\n         */\n        fields : null,\n\n        /**\n         * Make the entire picker disabled.\n         *\n         * @config {Boolean}\n         * @default\n         */\n        disabled : false,\n\n        /**\n         * Make the entire picker read-only.\n         *\n         * @config {Boolean}\n         * @default\n         */\n        readOnly : false,\n\n        layout : 'vbox',\n\n        /**\n         * Make only the property selector readOnly.\n         * @private\n         *\n         * @config {Boolean}\n         * @default\n         */\n        propertyLocked : false,\n\n        /**\n         * Make only the operator selector readOnly.\n         * @private\n         *\n         * @config {Boolean}\n         * @default\n         */\n        operatorLocked : false,\n\n        /**\n         * Configuration object for the {@link Core.util.CollectionFilter} displayed\n         * and editable in this picker.\n         *\n         * Example:\n         *\n         * ```javascript\n         * {\n         *     property: 'age',\n         *     operator: '=',\n         *     value: 25\n         * }\n         * ```\n         *\n         * @config {CollectionFilterConfig}\n         */\n        filter : null,\n\n        /**\n         * Optional configuration for the property selector {@link Core.widget.Combo}.\n         *\n         * @config {ComboConfig}\n         */\n        propertyFieldConfig : null,\n\n        /**\n         * Optional configuration for the operator selector {@link Core.widget.Combo}.\n         *\n         * @config {ComboConfig}\n         * @private\n         */\n        operatorFieldConfig : null,\n\n        /**\n         * Optional CSS class to apply to the value field(s).\n         *\n         * @config {String}\n         * @private\n         */\n        valueFieldCls : null,\n\n        /**\n         * @private\n         */\n        items : {\n            inputs : {\n                type   : 'container',\n                layout : 'hbox',\n                cls    : `${clsBase}-inputs`,\n                items  : {\n                    propertyPicker : {\n                        type        : 'combo',\n                        items       : {},\n                        cls         : `${clsBase}-property`,\n                        placeholder : 'L{FieldFilterPicker.selectAProperty}'\n                    },\n                    operatorPicker : {\n                        type        : 'combo',\n                        editable    : false,\n                        items       : {},\n                        cls         : `${clsBase}-operator`,\n                        placeholder : 'L{FieldFilterPicker.selectAnOperator}'\n                    },\n                    valueFields : {\n                        type  : 'container',\n                        cls   : `${clsBase}-values`,\n                        items : {}\n                    }\n                }\n            },\n            caseSensitive : {\n                type : 'checkbox',\n                text : 'L{FieldFilterPicker.caseSensitive}',\n                cls  : `${clsBase}-case-sensitive`\n            }\n        },\n\n        /**\n         * Overrides the built-in list of operators that are available for selection. Specify operators as\n         * an object with data types as keys and lists of operators as values, like this:\n         *\n         * ```javascript\n         * operators : {\n         *     string : [\n         *         { value : 'empty', text : 'is empty', argCount : 0 },\n         *         { value : 'notEmpty', text : 'is not empty', argCount : 0 }\n         *     ],\n         *     number : [\n         *         { value : '=', text : 'equals' },\n         *         { value : '!=', text : 'does not equal' }\n         *     ],\n         *     date : [\n         *         { value : '<', text : 'is before' }\n         *     ]\n         * }\n         * ```\n         *\n         * Here `value` is what will be stored in the `operator` field in the filter when selected, `text` is the text\n         * displayed in the Combo for selection, and `argCount` is the number of arguments (comparison values) the\n         * operator requires. The default argCount if not specified is 1.\n         *\n         * @config {Object}\n         */\n        operators : FieldFilterPicker.defaultOperators,\n\n        /**\n         * The date format string used to display dates when using the 'is one of' / 'is not one of' operators with a date\n         * field. Defaults to the current locale's `FieldFilterPicker.dateFormat` value.\n         *\n         * @config {String}\n         * @default\n         */\n        dateFormat : 'L{FieldFilterPicker.dateFormat}',\n\n        /**\n         * Optional {Core.data.Store} against which filters are being defined. This is used to supply options to filter against\n         * when using the 'is one of' and 'is not one of' operators.\n         *\n         * @config {Core.data.Store}\n         */\n        store : null,\n\n        /**\n         * Optional {@link ValueFieldPlaceholders} object specifying custom placeholder text for value input fields.\n         *\n         * @config {ValueFieldPlaceholders}\n         */\n        valueFieldPlaceholders : null,\n\n        /**\n         * Optional function that modifies the configuration of value fields shown for a filter. The default configuration\n         * is received as an argument and the returned value will be used as the final configuration. For example:\n         *\n         * ```javascript\n         * getValueFieldConfig : (filter, fieldConfig) => {\n         *     return {\n         *         ...fieldConfig,\n         *         title : fieldName    // Override the `title` config for the field\n         *     };\n         * }\n         * ```\n         *\n         * The supplied function should accept the following arguments:\n         *\n         * @param {Core.util.CollectionFilter} filter The filter being displayed\n         * @param {ContainerItemConfig} fieldConfig Configuration object for the value field\n         *\n         * @config {Function}\n         */\n        getValueFieldConfig : null\n    };\n\n    //endregion\n\n    // Make lookup of operator arity (arg count) by [fieldType][operator]\n    static buildOperatorArgCountLookup = operators =>\n        ArrayHelper.keyBy(Object.entries(operators),\n            ([fieldType])   => fieldType,\n            ([, operators]) => ArrayHelper.keyBy(operators,\n                ({ value }) => value,\n                ({ argCount }) => argCount === undefined ? 1 : argCount\n            ));\n\n    afterConstruct() {\n        const me = this;\n        if (!me._fields) {\n            throw new Error(`${FieldFilterPicker.name} requires 'fields' to be configured.`);\n        }\n        if (!me._filter) {\n            throw new Error(`${FieldFilterPicker.name} requires 'filter' to be configured.`);\n        }\n        super.afterConstruct();\n        const { widgetMap: { propertyPicker, operatorPicker, caseSensitive } } = me;\n        propertyPicker.ion({ select : 'onPropertySelect', thisObj : me });\n        operatorPicker.ion({ select : 'onOperatorSelect', thisObj : me });\n        caseSensitive.ion({ change : 'onCaseSensitiveChange', thisObj : me });\n        me.propertyFieldConfig && propertyPicker.setConfig(me.propertyFieldConfig);\n        me.operatorFieldConfig && operatorPicker.setConfig(me.operatorFieldConfig);\n        propertyPicker.cls = me.allPropertyPickerClasses;\n        operatorPicker.cls = me.allOperatorPickerClasses;\n        me.populateUIFromFilter();\n    }\n\n    changeDateFormat(dateFormat) {\n        return this.L(dateFormat);\n    }\n\n    get allChildInputs() {\n        const { propertyPicker, operatorPicker, caseSensitive } = this.widgetMap;\n        return [propertyPicker, operatorPicker, ...this.valueFields, caseSensitive];\n    }\n\n    updateDisabled(newDisabled) {\n        this.allChildInputs.forEach(field => field.disabled = newDisabled);\n    }\n\n    updateReadOnly(newReadOnly) {\n        const { propertyPicker, operatorPicker } = this.widgetMap;\n        this.allChildInputs.forEach(field => field.readOnly = newReadOnly);\n        // Respect these individual configs when un-setting global readOnly\n        propertyPicker.readOnly = propertyPicker.readOnly || newReadOnly;\n        operatorPicker.readOnly = operatorPicker.readOnly || newReadOnly;\n    }\n\n    updatePropertyLocked(newPropertyLocked) {\n        this.widgetMap.propertyPicker.readOnly = newPropertyLocked || this.readOnly;\n        this.widgetMap.propertyPicker.cls = this.allPropertyPickerClasses;\n    }\n\n    updateOperatorLocked(newOperatorLocked) {\n        this.widgetMap.operatorPicker.readOnly = newOperatorLocked || this.readOnly;\n        this.widgetMap.operatorPicker.cls = this.allOperatorPickerClasses;\n    }\n\n    changeOperators(newOperators) {\n        const operators = (newOperators ?? FieldFilterPicker.defaultOperators);\n        return Object.keys(operators).reduce((outOperators, dataType) => ({\n            ...outOperators,\n            [dataType] : operators[dataType].map(op => ({ ...op, text : this.L(op.text) }))\n        }), {});\n    }\n\n    changeFields(newFields) {\n        let fields = newFields;\n        if (Array.isArray(newFields)) {\n            VersionHelper.deprecate('Core', '6.0.0', 'FieldOption[] deprecated, use Object<String, FieldOption> keyed by field name instead');\n            // Support old array syntax for `fields` during deprecation\n            fields = ArrayHelper.keyBy(fields, 'name');\n        }\n        return fields;\n    }\n\n    get isMultiSelectValueField() {\n        return ['isIncludedIn', 'isNotIncludedIn'].includes(this._filter?.operator);\n    }\n\n    get allPropertyPickerClasses() {\n        return new DomClassList(`${clsBase}-property`, this.propertyFieldConfig?.cls, {\n            [`${clsBase}-combo-locked`] : this.propertyLocked\n        });\n    }\n\n    get allOperatorPickerClasses() {\n        return new DomClassList(`${clsBase}-operator`, this.operatorFieldConfig?.cls, {\n            [`${clsBase}-combo-locked`] : this.operatorLocked\n        });\n    }\n\n    getValueFieldConfigs() {\n        const\n            me = this,\n            {\n                valueFieldCls,\n                fieldType,\n                _filter: { operator },\n                onValueChange,\n                filterValues,\n                isMultiSelectValueField,\n                operatorArgCount,\n                getValueFieldConfig\n            } = me,\n            valueFieldPlaceholders = ObjectHelper.merge(\n                {},\n                FieldFilterPicker.defaultValueFieldPlaceholders,\n                me.valueFieldPlaceholders\n            );\n\n        if (!fieldType || !operator || operatorArgCount === 0) {\n            return [];\n        }\n\n        let valueFieldCfg = {\n            type              : 'textfield', // replaced as needed below\n            internalListeners : {\n                change  : onValueChange,\n                input   : onValueChange,\n                thisObj : me\n            },\n            cls     : valueFieldCls,\n            dataset : {\n                type : fieldType\n            },\n            placeholder : me.L(valueFieldPlaceholders[isMultiSelectValueField ? 'list' : fieldType])\n        };\n\n        if (isMultiSelectValueField) {\n            valueFieldCfg = {\n                ...valueFieldCfg,\n                type              : 'combo',\n                multiSelect       : true,\n                createOnUnmatched : true,\n                items             : this.getUniqueDataValues(filterValues),\n                value             : filterValues ?? []\n            };\n        }\n        else if (['number', 'date', 'boolean'].includes(fieldType)) {\n            valueFieldCfg.type = `${fieldType}field`;\n        }\n        else if (fieldType === 'duration') {\n            valueFieldCfg.type = 'durationfield';\n        }\n\n        // Allow client to modify value field config\n        if (getValueFieldConfig) {\n            valueFieldCfg = me.callback(getValueFieldConfig, me, [me.filter, valueFieldCfg]);\n        }\n\n        if (isMultiSelectValueField) {\n            // We only support a single multi-select Combo for now\n            return [valueFieldCfg];\n        }\n\n        return ArrayHelper.populate(operatorArgCount, index => ([{\n            type    : 'widget',\n            tag     : 'div',\n            cls     : `${clsBase}-value-separator`,\n            content : me.L('L{FieldFilterPicker.and}')\n        }, {\n            ...valueFieldCfg,\n            value : filterValues[index]\n        }])).flat().slice(1);\n    }\n\n    /**\n     * Return an array of unique values in the data store for the currently selected field. If no store is\n     * configured or no field is selected, returns an empty array.\n     */\n    getUniqueDataValues(extraValuesToInclude = []) {\n        const\n            me            = this,\n            { fieldType } = me;\n\n        if (!me.store || !me._filter?.property) {\n            return [];\n        }\n\n        const { relatedDisplayField } = me.selectedField;\n        let values,\n            sortedValues;\n\n        if (me.fieldIsRelation) {\n            const { foreignStore } = me.currentPropertyRelationConfig;\n            if (relatedDisplayField) {\n                // Display field specified -- sort by text label;\n                // this bypasses the type-specific sorting for raw data values below\n                values = foreignStore.allRecords.reduce((options, record) => {\n                    if (record.id != null) {\n                        options.push({\n                            text  : record.getValue(relatedDisplayField),\n                            value : record.id\n                        });\n                    }\n                    return options;\n                }, []);\n\n                // Currently only support getting text from remote field and sorting as text\n                sortedValues = values.sort((a, b) => me.sortStrings(a.text, b.text));\n            }\n            else {\n                // If no display field, fall back to only data values\n                values = foreignStore.allRecords.map(record => record.id);\n            }\n        }\n        else {\n            // Local data field\n            values = me.store.allRecords.map(record => record.getValue(me._filter.property));\n        }\n\n        if (!sortedValues) {\n            values.push(...extraValuesToInclude);\n            const uniqueValues = ArrayHelper.unique(values.reduce((primitiveValues, value) => {\n                if (value != null && String(value).trim() !== '') {\n                    // Get primitive values from complex types, for deduping\n                    if (fieldType === 'date') {\n                        primitiveValues.push(value.valueOf());\n                    }\n                    else if (fieldType === 'duration') {\n                        primitiveValues.push(value.toString());\n                    }\n                    else {\n                        primitiveValues.push(value);\n                    }\n                }\n                return primitiveValues;\n            }, []));\n\n            // Sort\n            if (fieldType === 'string') {\n                sortedValues = uniqueValues.sort(me.sortStrings);\n            }\n            else if (fieldType === 'duration') {\n                sortedValues = uniqueValues\n                    .map(durationStr => new Duration(durationStr))\n                    .filter(duration => duration.isValid)\n                    .sort(me.sortDurations);\n            }\n            else {\n                sortedValues = uniqueValues.sort(me.sortNumerics);\n            }\n\n            // Provide labels for complex value types\n            if (fieldType === 'date') {\n                sortedValues = sortedValues.map(timestamp => {\n                    const date = new Date(timestamp);\n                    return {\n                        text  : DateHelper.format(date, me.dateFormat),\n                        value : timestamp\n                    };\n                });\n            }\n            else if (fieldType === 'duration') {\n                sortedValues = sortedValues.map(duration => duration.toString());\n            }\n        }\n\n        return sortedValues;\n    }\n\n    sortStrings(a, b) {\n        return (a ?? emptyString).localeCompare(b ?? emptyString);\n    }\n\n    sortNumerics(a, b) {\n        return a - b;\n    }\n\n    sortDurations(a, b) {\n        return a.valueOf() - b.valueOf();\n    }\n\n    get fieldType() {\n        return this.selectedField?.type;\n    }\n\n    get selectedField() {\n        return this.fields?.[this._filter?.property];\n    }\n\n    get propertyOptions() {\n        return Object.entries(this.fields ?? {})\n            .filter(([, fieldDef]) =>\n                SUPPORTED_FIELD_DATA_TYPES.includes(fieldDef.type) ||\n                isSupportedDurationField(fieldDef)\n            )\n            .map(([fieldName, { title }]) => ({ value : fieldName, text : title ?? fieldName }))\n            .sort((a, b) => a.text.localeCompare(b.text));\n    }\n\n    get operatorOptions() {\n        return this.operators[this.fieldIsRelation ? 'relation' : this.fieldType];\n    }\n\n    get fieldIsRelation() {\n        return Boolean(this.currentPropertyRelationConfig);\n    }\n\n    get currentPropertyRelationConfig() {\n        return this.store?.modelRelations?.find(({ foreignKey }) => foreignKey === this._filter?.property);\n    }\n\n    updateOperators() {\n        delete this._operatorArgCountLookup;\n    }\n\n    /**\n     * @internal\n     */\n    get operatorArgCountLookup() {\n        return this._operatorArgCountLookup ||\n            (this._operatorArgCountLookup = FieldFilterPicker.buildOperatorArgCountLookup(this.operators));\n    }\n\n    updateFilter() {\n        if (this._filter) {\n            this.onFilterChange();\n        }\n    }\n\n    updateStore(newStore) {\n        this._store?.un(this);\n        newStore?.ion({ refresh : 'onStoreRefresh', thisObj : this });\n    }\n\n    onStoreRefresh({ action }) {\n        if (this.isMultiSelectValueField && ['dataset', 'create', 'update', 'delete'].includes(action)) {\n            this.valueFields[0].items = this.getUniqueDataValues(this.filterValues);\n        }\n    }\n\n    refreshValueFields() {\n        const\n            me = this,\n            { valueFields } = me.widgetMap,\n            {\n                fieldType,\n                operatorArgCount,\n                _filter: { property, operator }\n            } = me,\n            isMultiValue = multiValueOperators[operator],\n            isString = fieldType === 'string';\n\n        // Put value fields on own row if appropriate, or at least bigger if string\n        valueFields.element.className = new DomClassList(valueFields.cls, {\n            [`${clsBase}-values-multiple`] : isMultiValue,\n            [`${clsBase}-values-string`]   : isString,\n            'b-hidden'                     : property == undefined || operator == undefined || operatorArgCount === 0\n        });\n        valueFields.removeAll();\n        valueFields.add(me.getValueFieldConfigs());\n        delete me._valueFields;\n        me.refreshCaseSensitive();\n    }\n\n    refreshCaseSensitive() {\n        const\n            me = this,\n            { fieldType, operatorArgCount, isMultiSelectValueField } = me,\n            operator = me._filter?.operator,\n            { caseSensitive } = me.widgetMap;\n        caseSensitive.hidden =\n            fieldType !== 'string' ||\n            !operator ||\n            isMultiSelectValueField ||\n            operatorArgCount === 0;\n        caseSensitive.checked = me._filter?.caseSensitive !== false;\n    }\n\n    onPropertySelect(event) {\n        const\n            me = this,\n            { _filter } = me;\n        _filter.property = event.record?.data.value || null;\n        if (me.fieldType !== me._fieldType) {\n            _filter.operator = null;\n            _filter.value = null;\n        }\n        me._fieldType = _filter.type = me.fieldType;\n        me.refreshOperatorPicker();\n        me.refreshValueFields();\n        me.triggerChange();\n    }\n\n    onCaseSensitiveChange({ checked }) {\n        this._filter.caseSensitive = checked;\n        this.triggerChange();\n    }\n\n    onOperatorSelect(event) {\n        const\n            me = this,\n            wasMultiSelectValueField = me.isMultiSelectValueField;\n        const prevArgCount = this.operatorArgCount;\n        me._filter.operator = event.record?.data.value || null;\n        if (me.operatorArgCount !== prevArgCount) {\n            me._filter.value = null;\n        }\n        if (me.isMultiSelectValueField && !wasMultiSelectValueField) {\n            me._filter.value = [];\n        }\n        me.refreshValueFields();\n        me.triggerChange();\n    }\n\n    triggerChange() {\n        const { filter, isValid } = this;\n        /**\n         * Fires when the filter is modified.\n         * @event change\n         * @param {Core.widget.FieldFilterPicker} source The FieldFilterPicker instance that fired the event.\n         * @param {Array} filter The {@link Core.util.CollectionFilter} configuration object for the filter represented by this\n         *                       {@link Core.widget.FieldFilterPicker}.\n         * @param {Boolean} isValid Whether the current configuration object represents a complete and valid filter\n         */\n        this.trigger('change', {\n            filter,\n            isValid\n        });\n    }\n\n    onValueChange() {\n        const\n            me = this,\n            { isMultiSelectValueField, fieldType, _filter } = me,\n            values = this.valueFields.map(field => field.value);\n        if (isMultiSelectValueField && fieldType === 'date') {\n            _filter.value = values[0].map(timestamp => new Date(timestamp));\n        }\n        else if (isMultiSelectValueField && fieldType === 'duration') {\n            _filter.value = values[0].map(durationStr => new Duration(durationStr));\n        }\n        else {\n            // Treat end date as inclusive by setting time to end of day\n            if (fieldType === 'date' && _filter.operator === 'between' && DateHelper.isValidDate(values[1])) {\n                values[1].setHours(23, 59, 59, 999);\n            }\n            _filter.value = values.length === 1 ? values[0] : values;\n        }\n        me.triggerChange();\n    }\n\n    refreshOperatorPicker() {\n        const\n            { operatorPicker } = this.widgetMap,\n            { _filter: { operator, property }, operatorOptions } = this;\n        operatorPicker.items = operatorOptions;\n        operatorPicker.value = operator;\n        operatorPicker.hidden = property === null;\n    }\n\n    populateUIFromFilter(forceRefreshValueFields = false) {\n        const\n            me = this,\n            {\n                filterValues,\n                widgetMap: { propertyPicker, operatorPicker },\n                _filter: { property, operator, disabled },\n                propertyOptions,\n                operatorOptions,\n                isMultiSelectValueField\n            } = me;\n        propertyPicker.items = propertyOptions;\n        operatorPicker.items = operatorOptions;\n        operatorPicker.hidden = property === null;\n        let refreshValueFields = forceRefreshValueFields;\n        if (propertyPicker.value !== property) {\n            propertyPicker.value = property;\n            me.refreshOperatorPicker();\n            refreshValueFields = true;\n        }\n        if (operatorPicker.value !== operator) {\n            if (operator === null || !operatorPicker.items.find(({ value }) => value === operator)) {\n                operatorPicker.clear();\n            }\n            else {\n                operatorPicker.value = operator;\n            }\n            refreshValueFields = true;\n        }\n        if (refreshValueFields) {\n            me.refreshValueFields();\n        }\n        me.refreshCaseSensitive();\n        me.valueFields.forEach((valueField, fieldIndex) => {\n            if (isMultiSelectValueField && (valueField.value.length > 0 || filterValues.length > 0)) {\n                if (me.fieldType === 'date') {\n                    valueField.value = filterValues.map(date => date?.valueOf());\n                }\n                else if (me.fieldType === 'duration') {\n                    valueField.value = filterValues.map(duration => duration?.toString());\n                }\n                else {\n                    valueField.value = filterValues;\n                }\n            }\n            else if (fieldIndex >= filterValues.length) {\n                valueField.clear();\n            }\n            else {\n                valueField.value = filterValues[fieldIndex];\n            }\n        });\n        // Grey out all inputs if filter is disabled\n        me.allChildInputs.forEach(widget => widget.disabled = me.disabled || disabled);\n    }\n\n    get valueFields() {\n        return this._valueFields ||\n            (this._valueFields = this.widgetMap.valueFields.queryAll(\n                w => valueInputTypes[w.type]));\n    }\n\n    get filterValues() {\n        if (this._filter?.value == null) {\n            return [];\n        }\n        return ArrayHelper.asArray(this._filter.value);\n    }\n\n    // Must be called manually when filter modified externally\n    onFilterChange() {\n        const\n            me = this,\n            newFieldType = me.fieldType,\n            forceRefreshValueFields = newFieldType !== me._fieldType;\n        me._fieldType = me._filter.type = newFieldType;\n        me.populateUIFromFilter(forceRefreshValueFields);\n    }\n\n    get operatorArgCount() {\n        const { fieldType, filter: { operator }, operatorArgCountLookup } = this;\n        return (fieldType && operator) ? operatorArgCountLookup[fieldType][operator] : 1;\n    }\n\n    get isValid() {\n        const\n            me = this,\n            { filter, fieldType, filterValues, isMultiSelectValueField, operatorArgCount } = me,\n            { operator } = filter,\n            missingValue = operatorArgCount > 0 && filter?.value == null;\n        return (\n            // fieldType here validates that we have a matching field\n            fieldType &&\n            operator &&\n            !missingValue &&\n            (\n                (isMultiSelectValueField && filterValues.length > 0) ||\n                (filterValues.length === operatorArgCount)\n            ) &&\n            filterValues.every(value => value != null &&\n                (fieldType !== 'duration' || value.isValid))\n        );\n    }\n}\n\nFieldFilterPicker.initClass();\n","import Widget from './Widget.js';\n\nexport default class Label extends Widget {\n    static $name = 'Label';\n    static type = 'label';\n\n    static configurable = {\n        text : null,\n\n        localizableProperties : ['text']\n    };\n\n    compose() {\n        const { text, html } = this;\n\n        return {\n            tag : 'label',\n            text,\n            html\n        };\n    }\n}\n\nLabel.initClass();\n","import './Checkbox.js';\nimport Container from './Container.js';\nimport './Label.js';\nimport './FieldFilterPicker.js';\n\n/**\n * @module Core/widget/FieldFilterPickerGroup\n */\n\n/**\n * A set of {@link Core.widget.FieldFilterPicker}s, representing an array\n * of {@link Core.util.CollectionFilter}s. The filters are provided to the\n * picker as an array of filter configuration objects.\n *\n * {@inlineexample Core/widget/FieldFilterPickerGroup.js}\n *\n * When {@link #config-store} is provided in the configuration, the picker group will\n * read filters from the store and monitor for filter changes, and reflect any changes. It is\n * possible to synchronize multiple {@link Core.widget.FieldFilterPickerGroup}s by configuring\n * them with the same store.\n *\n * Does not support modifying filters defined as custom functions.\n *\n * @classtype fieldfilterpickergroup\n * @extends Core/widget/Container\n * @widget\n */\nexport default class FieldFilterPickerGroup extends Container {\n    //region Config\n    static get $name() {\n        return 'FieldFilterPickerGroup';\n    }\n\n    // Factoryable type name\n    static get type() {\n        return 'fieldfilterpickergroup';\n    }\n\n    /**\n     * @private\n     */\n    static addFilterButtonDefaultText = 'L{FieldFilterPickerGroup.addFilter}';\n\n    static configurable = {\n        /**\n         * Array of {@link Core.util.CollectionFilter} configuration objects. One\n         * {@link Core.widget.FieldFilterPicker} will be created\n         * for each object in the array.\n         *\n         * When {@link #config-store} is provided, any filters in the store will\n         * be automatically added and do not need to be provided explicitly.\n         *\n         * Example:\n         * ```javascript\n         * filters: [{\n         *     // Filter properties should exist among field names configured\n         *     // via `fields` or `store`\n         *     property: 'age',\n         *     operator: '<',\n         *     value: 30\n         * },{\n         *     property: 'title',\n         *     operator: 'startsWith',\n         *     value: 'Director'\n         * }]\n         * ```\n         *\n         * @config\n         * @type {CollectionFilterConfig[]}\n         */\n        filters : [],\n\n        /**\n         * Dictionary of {@link Core.widget.FieldFilterPicker#typedef-FieldOption} representing the fields against which filters can be defined,\n         * keyed by field name.\n         *\n         * If filtering a {@link Grid.view.Grid}, consider using {@link Grid.widget.GridFieldFilterPicker}, which can be configured\n         * with an existing {@link Grid.view.Grid} instead of, or in combination with, defining fields manually.\n         *\n         * Example:\n         * ```javascript\n         * fields: {\n         *     // Allow filters to be defined against the 'age' and 'role' fields in our data\n         *     age  : { text: 'Age', type: 'number' },\n         *     role : { text: 'Role', type: 'string' }\n         * }\n         * ```\n         *\n         * @config {Object<String,FieldOption>}\n         * @deprecated 5.3.0 Syntax accepting FieldOptions[] was deprecated in favor of dictionary and will be removed in 6.0\n         */\n        fields : null,\n\n        /**\n         * Whether the picker group is disabled.\n         *\n         * @config {Boolean}\n         * @default\n         */\n        disabled : false,\n\n        /**\n         * Whether the picker group is read-only.\n         *\n         * Example:\n         * fields: [\n         *    { name: 'age', type: 'number' },\n         *    { name: 'title', type: 'string' }\n         * ]\n         *\n         * @config {Boolean}\n         * @default\n         */\n        readOnly : false,\n\n        layout : 'vbox',\n\n        /**\n         * The {@link Core.data.Store} whose records will be filtered. The store's {@link Core.data.Store#property-modelClass}\n         * will be used to determine field types.\n         *\n         * This store will be kept in sync with the filters defined in the picker group, and new filters added to the store\n         * via other means will appear in this filter group when they are able to be modified by it. (Some types of filters,\n         * like arbitrary filter functions, cannot be managed through this widget.)\n         *\n         * As a corollary, multiple `FieldFilterPickerGroup`s configured with the same store will stay in sync, showing the\n         * same filters as the store's filters change.\n         *\n         * @config {Core.data.Store}\n         */\n        store : null,\n\n        /**\n         * When `limitToProperty` is set to the name of an available field (as specified either\n         * explicitly in {@link #config-fields} or implicitly in the\n         * {@link #config-store}'s model), it has the following effects:\n         *\n         * - the picker group will only show filters defined on the specified property\n         * - it will automatically set the `property` to the specified property for all newly added\n         *   filters where the property is not already set\n         * - the property selector is made read-only\n         *\n         * @config {String}\n         */\n        limitToProperty : null,\n\n        /**\n         * Optional CSS class to apply to the value field(s).\n         *\n         * @config {String}\n         * @private\n         */\n        valueFieldCls : null,\n\n        /**\n         * Show a button at the bottom of the group that adds a new, blank filter to the group.\n         *\n         * @config {Boolean}\n         * @default\n         */\n        showAddFilterButton : true,\n\n        /**\n         * Optional predicate that returns whether a given filter can be deleted. When `canDeleteFilter` is provided,\n         * it will be called for each filter and will not show the delete button for those for which the\n         * function returns false.\n         *\n         * @config {Function}\n         */\n        canDeleteFilter : null,\n\n        /**\n         * Optional function that returns {@link Core.widget.FieldFilterPicker} configuration properties for\n         * a given filter. When `getFieldFilterPickerConfig` is provided, it will be called for each filter and the returned\n         * object will be merged with the configuration properties for the individual\n         * {@link Core.widget.FieldFilterPicker} representing that filter.\n         *\n         * The supplied function should accept a single argument, the {@link Core.util.CollectionFilter} whose picker\n         * is being created.\n         *\n         * @config {Function}\n         */\n        getFieldFilterPickerConfig : null,\n\n        /**\n         * Optional predicate that returns whether a given filter can be managed by this widget. When `canManageFilter`\n         * is provided, it will be used to decide whether to display filters found in the configured\n         * {@link #config-store}.\n         *\n         * @config {Function}\n         */\n        canManageFilter : null,\n\n        /**\n         * Sets the text displayed in the 'add filter' button if one is present.\n         *\n         * @config {String}\n         */\n        addFilterButtonText : null,\n\n        /**\n         * @private\n         */\n        items : {\n            pickers : {\n                type       : 'container',\n                layout     : 'vbox',\n                scrollable : true,\n                items      : {}\n            },\n            addFilterButton : {\n                type   : 'button',\n                text   : FieldFilterPickerGroup.addFilterButtonDefaultText,\n                cls    : `b-${FieldFilterPickerGroup.type}-add-button`,\n                hidden : true\n            }\n        },\n\n        /**\n         * When specified, overrides the built-in list of available operators. See\n         * {@link Core.widget.FieldFilterPicker#config-operators}.\n         *\n         * @config {Object}\n         */\n        operators : null,\n\n        /**\n         * The date format string used to display dates when using the 'is one of' / 'is not one of' operators with a date\n         * field. Defaults to the current locale's `FieldFilterPicker.dateFormat` value.\n         *\n         * @config {String}\n         * @default\n         */\n        dateFormat : 'L{FieldFilterPicker.dateFormat}'\n    };\n\n    // endregion\n\n    static childPickerType = 'fieldfilterpicker';\n\n    afterConstruct() {\n        const me = this;\n        me.validateConfig();\n        const { addFilterButton } = me.widgetMap;\n        addFilterButton.ion({ click : 'addFilter', thisObj : me });\n        // <remove-on-release>\n        // TODO: not sure why we have to do this. Not doing L() in the static initializer because then the localization sanity test\n        //  doesn't find it\n        // </remove-on-release>\n        addFilterButton.text = me.L(addFilterButton.text);\n        me.store && me.updateStore(me.store);\n        super.afterConstruct();\n    }\n\n    changeDateFormat(dateFormat) {\n        return this.L(dateFormat);\n    }\n\n    validateConfig() {\n        if (!this.fields && !this.store) {\n            throw new Error(\n                `FieldFilterPickerGroup requires either a 'fields' or 'store' config property.`\n            );\n        }\n    }\n\n    updateFields(newFields) {\n        this.widgetMap.pickers.childItems.forEach(picker => picker.fields = newFields);\n    }\n\n    updateFilters(newFilters, oldFilters) {\n        const me = this;\n        if (oldFilters) {\n            oldFilters\n                .filter(filter => !newFilters.find(newFilter => newFilter.id === filter.id))\n                .forEach(filter => me.store?.removeFilter(filter.id));\n        }\n        newFilters.forEach(filter => filter.id = filter.id || me.nextFilterId);\n        me.widgetMap.pickers.items = newFilters?.map(filter => me.getPickerRowConfig(filter)) || [];\n    }\n\n    changeFilters(newFilters) {\n        const { canManageFilter } = this;\n        return (newFilters && canManageFilter)\n            ? newFilters.filter(filter => this.callback(canManageFilter, this, [filter]))\n            : newFilters;\n    }\n\n    updateStore(newStore) {\n        const me = this;\n        me.detachListeners('store');\n        if (newStore) {\n            // Make sure the store has all of our configured filters\n            me.widgetMap.pickers.childItems.forEach(({ widgetMap: { filterPicker: { filter, isValid } } }) => {\n                newStore.removeFilter(filter.id, true);\n                if (isValid) {\n                    newStore.addFilter(filter, true);\n                }\n            });\n            newStore.filter();\n            me.appendFiltersFromStore();\n            newStore.ion({\n                name    : 'store',\n                filter  : 'onStoreFilter',\n                thisObj : me\n            });\n        }\n        me.widgetMap.pickers.childItems.forEach(picker => picker.store = newStore);\n    }\n\n    updateShowAddFilterButton(newShow) {\n        this.widgetMap.addFilterButton.hidden = !newShow;\n    }\n\n    updateAddFilterButtonText(newText) {\n        this.widgetMap.addFilterButton.text = newText ?? FieldFilterPickerGroup.addFilterButtonDefaultText;\n    }\n\n    /**\n     * Find any filters the store has that we don't know about yet, and add to our list\n     * @private\n     */\n    appendFiltersFromStore() {\n        const\n            me = this;\n        me.store.filters.forEach(filter => {\n            const\n                canManage = me.canManage(filter),\n                { property, operator, value, id, disabled = false, caseSensitive } = filter;\n            if (canManage && property && operator &&\n                !me.filters?.find(filter => filter.id === id)\n            ) {\n                me.appendFilter({\n                    id,\n                    property,\n                    operator,\n                    value,\n                    disabled,\n                    caseSensitive\n                });\n            }\n        });\n    }\n\n    /**\n     * @private\n     */\n    canManage(filter) {\n        const me = this;\n        return !me.canManageFilter || (me.callback(me.canManageFilter, me, [filter]) === true);\n    }\n\n    /**\n     * Get the configuration object for one child FieldFilterPicker.\n     * @param {Core.util.CollectionFilter} filter The filter represented by the child FieldFilterPicker\n     * @returns {Object} The FieldFilterPicker configuration\n     */\n    getFilterPickerConfig(filter) {\n        const\n            me = this,\n            {\n                fields, store, disabled, readOnly, valueFieldCls, operators, limitToProperty, dateFormat,\n                getFieldFilterPickerConfig\n            } = me;\n        return {\n            type              : me.constructor.childPickerType,\n            fields            : fields ?? me.getFieldsFromStore(store),\n            filter,\n            store,\n            disabled,\n            readOnly,\n            propertyLocked    : Boolean(limitToProperty),\n            valueFieldCls,\n            operators,\n            dateFormat,\n            internalListeners : {\n                change  : 'onFilterPickerChange',\n                thisObj : me\n            },\n            flex : 1,\n            ...(getFieldFilterPickerConfig ? me.callback(getFieldFilterPickerConfig, me, [filter]) : undefined)\n        };\n    }\n\n    /**\n     * Get store fields as {@link Core.widget.FieldFilterPicker#typedef-FieldOption}s in a dictionary keyed by name.\n     * @private\n     */\n    getFieldsFromStore(store) {\n        return Object.fromEntries(store.fields?.map(({ name, type }) => [name, { type }]) ?? []);\n    }\n\n    getPickerRowConfig(filter) {\n        const\n            me = this,\n            { disabled, readOnly, canDeleteFilter } = me,\n            canDelete = !(canDeleteFilter && (me.callback(canDeleteFilter, me, [filter]) === false));\n        return {\n            type   : 'container',\n            layout : 'box',\n            cls    : {\n                [`b-${FieldFilterPickerGroup.type}-row`]           : true,\n                [`b-${FieldFilterPickerGroup.type}-row-removable`] : canDelete\n            },\n            dataset : {\n                separatorText : me.L('L{FieldFilterPicker.and}')\n            },\n            items : {\n                activeCheckbox : {\n                    type              : 'checkbox',\n                    disabled,\n                    readOnly,\n                    checked           : !Boolean(filter.disabled),\n                    internalListeners : {\n                        change  : 'onFilterActiveChange',\n                        thisObj : me\n                    },\n                    cls : `b-${FieldFilterPickerGroup.type}-filter-active`\n                },\n                filterPicker : me.getFilterPickerConfig(filter),\n                removeButton : {\n                    type              : 'button',\n                    ref               : 'removeButton',\n                    disabled,\n                    readOnly,\n                    hidden            : !canDelete,\n                    cls               : `b-transparent b-${FieldFilterPickerGroup.type}-remove`,\n                    icon              : 'b-fa-trash',\n                    internalListeners : {\n                        click   : 'removeFilter',\n                        thisObj : me\n                    }\n                }\n            }\n        };\n    }\n\n    get allInputs() {\n        const childInputTypes = [this.constructor.childPickerType, 'button', 'checkbox'];\n        return this.queryAll(w => childInputTypes.includes(w.type));\n    }\n\n    updateDisabled(newDisabled) {\n        this.allInputs.forEach(input => input.disabled = newDisabled);\n    }\n\n    updateReadOnly(newReadOnly) {\n        this.allInputs.forEach(input => input.readOnly = newReadOnly);\n    }\n\n    onFilterActiveChange({ source, checked }) {\n        const\n            me = this,\n            filterIndex = me.getFilterIndex(source),\n            filter = me.filters[filterIndex],\n            filterPicker = me.getFilterPicker(filterIndex);\n        filter.disabled = !checked;\n        filterPicker.onFilterChange();\n        if (me.store && filterPicker.isValid) {\n            me.store.addFilter(filter, true);\n        }\n        me.updateStoreFilter();\n        me.triggerChange();\n    }\n\n    onFilterPickerChange({ source, filter, isValid }) {\n        const\n            me = this,\n            { store } = me,\n            filterIndex = me.getFilterIndex(source);\n        if (store) {\n            store.removeFilter(filter.id, true);\n            if (isValid) {\n                store.addFilter(filter, true);\n            }\n            me.updateStoreFilter();\n        }\n        Object.assign(me.filters[filterIndex], filter);\n        me.triggerChange();\n    }\n\n    getFilterIndex(eventSource) {\n        return this.widgetMap.pickers.childItems.indexOf(\n            eventSource.containingWidget\n        );\n    }\n\n    getPickerRow(index) {\n        return this.widgetMap.pickers.childItems[index];\n    }\n\n    /**\n     * Return the {@link Core.widget.FieldFilterPicker} for the filter at the specified index.\n     * @param {Number} filterIndex\n     * @returns {Core.widget.FieldFilterPicker}\n     */\n    getFilterPicker(filterIndex) {\n        return this.getPickerRow(filterIndex).widgetMap.filterPicker;\n    }\n\n    get nextFilterId() {\n        this._nextId = (this._nextId || 0) + 1;\n        return `${this.id}-filter-${this._nextId}`;\n    }\n\n    removeFilter({ source }) {\n        const\n            me = this,\n            filterIndex = me.getFilterIndex(source),\n            filter = me.filters[filterIndex],\n            pickerRow = me.getPickerRow(filterIndex),\n            // <remove-on-release>\n            // TODO: Would like a better solution than this. Setting focus to any other element in the group\n            //  to prevent a containing popup from closing due to focusOut (in the Grid Filter feature)\n            // </remove-on-release>\n            newFocusWidget = me.query(w => w.isFocusable && w.type !== 'container' && !pickerRow.contains(w));\n\n        if (newFocusWidget) {\n            newFocusWidget.focus();\n        }\n        me.removeFilterAt(filterIndex);\n        if (me.store) {\n            me.store.removeFilter(filter.id, true);\n            me.updateStoreFilter();\n        }\n        me.trigger('remove', { filter });\n        me.triggerChange();\n    }\n\n    /**\n     * Appends a filter at the bottom of the list\n     * @param {CollectionFilterConfig} [filter={}] Configuration object for the {@link Core.util.CollectionFilter} to\n     * add. Defaults to an empty filter.\n     */\n    addFilter({ property = null, operator = null, value = null } = {}) {\n        const\n            me = this,\n            { filters } = me,\n            newFilter = {\n                property      : me.limitToProperty || property,\n                operator,\n                value,\n                disabled      : false,\n                id            : me.nextFilterId,\n                caseSensitive : false\n            };\n        me.appendFilter(newFilter);\n        if (me.getFilterPicker(filters.length - 1).isValid) {\n            me.store?.addFilter(newFilter, true);\n            me.store && me.updateStoreFilter();\n        }\n        me.trigger('add', { filter : newFilter });\n        me.triggerChange();\n    }\n\n    /**\n     * @private\n     */\n    appendFilter(filter) {\n        const me = this;\n        if (!me.limitToProperty || filter.property === me.limitToProperty) {\n            me.filters.push(filter);\n            me.widgetMap.pickers.add(\n                me.getPickerRowConfig(filter, me.filters.length - 1)\n            );\n        }\n    }\n\n    onStoreFilter(event) {\n        const me = this;\n        if (me._isUpdatingStore) {\n            return;\n        }\n        const\n            { filters } = event,\n            storeFiltersById = filters.values.reduce((byId, filter) =>\n                ({ ...byId, [filter.id] : filter }), {});\n        for (\n            let filterIndex = me.filters.length - 1;\n            filterIndex >= 0;\n            filterIndex--\n        ) {\n            const\n                filter = me.filters[filterIndex],\n                storeFilter = storeFiltersById[filter.id],\n                filterRow = me.getPickerRow(filterIndex);\n            if (filterRow) {\n                const { filterPicker, activeCheckbox } = filterRow.widgetMap;\n                if (!storeFilter && filterPicker.isValid) {\n                    me.removeFilterAt(filterIndex);\n                }\n                else if (storeFilter !== undefined) {\n                    const\n                        { operator, value, property, disabled, caseSensitive } = storeFilter;\n                    if (filter !== storeFilter) {\n                        Object.assign(filter, { operator, value, property, disabled, caseSensitive });\n                    }\n                    filterPicker.filter = filter;\n                    filterPicker.onFilterChange();\n                    activeCheckbox.checked = !disabled;\n                }\n            }\n        }\n        me.appendFiltersFromStore();\n        me.triggerChange();\n    }\n\n    /**\n     * Remove the filter at the given index.\n     * @param {Number} filterIndex The index of the filter to remove\n     */\n    removeFilterAt(filterIndex) {\n        const { widgetMap: { pickers }, filters } = this;\n        pickers.remove(pickers.childItems[filterIndex]);\n        filters.splice(filterIndex, 1);\n        this.triggerChange();\n    }\n\n    /**\n     * Trigger a store re-filter after filters have been silently modified.\n     * @private\n     */\n    updateStoreFilter() {\n        this._isUpdatingStore = true;\n        this.store?.filter();\n        this._isUpdatingStore = false;\n    }\n\n    /**\n     * Returns the array of filter configuration objects currently represented by this picker group.\n     * @type {CollectionFilterConfig[]}\n     */\n    get value() {\n        return this.filters;\n    }\n\n    triggerChange() {\n        const\n            { filters } = this,\n            validFilters = filters.filter((f, index) => this.getPickerRow(index).widgetMap.filterPicker.isValid);\n        /**\n         * Fires when any filter in the group is added, removed, or modified.\n         * @event change\n         * @param {Core.widget.FieldFilterPickerGroup} source The FieldFilterPickerGroup instance that fired the event.\n         * @param {CollectionFilterConfig[]} filters The array of {@link Core.util.CollectionFilter} configuration\n         * objects currently represented by the FieldFilterPickerGroup. **IMPORTANT:** Note that this includes all filters\n         * currently present in the UI, including partially completed ones that may not be ready to apply to a Store.\n         * To retrieve only valid filters, use the `validFilters` parameter on this event, or filter out incomplete filters\n         * in your own code.\n         * @param {CollectionFilterConfig[]} validFilters The subset of {@link Core.util.CollectionFilter} configuration\n         * objects in the `filters` parameter on this event that are complete and valid for application to a Store.\n         */\n        this.trigger('change', {\n            filters,\n            validFilters\n        });\n    }\n\n    /**\n     * Sets all current filters to enabled and checks their checkboxes.\n     */\n    activateAll() {\n        this.setAllActiveStatus(true);\n    }\n\n    /**\n     * Sets all current filters to disabled and clears their checkboxes.\n     */\n    deactivateAll() {\n        this.setAllActiveStatus(false);\n    }\n\n    /**\n     * @private\n     */\n    setAllActiveStatus(newActive) {\n        const\n            me = this,\n            { _filters, store } = me;\n        _filters.forEach((filter, filterIndex) => {\n            // Only do anything if status is changing\n            if (newActive === filter.disabled) {\n                const { filterPicker, activeCheckbox } = me.getPickerRow(filterIndex).widgetMap;\n                filter.disabled = !newActive;\n                filterPicker.onFilterChange();\n                activeCheckbox.checked = newActive;\n                if (newActive && store && filterPicker.isValid) {\n                    store.addFilter(filter, true);\n                }\n            }\n        });\n        me.updateStoreFilter();\n    }\n\n}\n\nFieldFilterPickerGroup.initClass();\n","import Popup from './Popup.js';\nimport './Button.js';\nimport './TextField.js';\nimport Widget from './Widget.js';\nimport BrowserHelper from '../helper/BrowserHelper.js';\nimport DomHelper from '../helper/DomHelper.js';\n\n/**\n * @module Core/widget/MessageDialog\n */\n\nconst items = [\n    {\n        ref     : 'cancelButton',\n        cls     : 'b-messagedialog-cancelbutton b-gray',\n        text    : 'L{Object.Cancel}',\n        onClick : 'up.onCancelClick'\n    },\n    {\n        ref     : 'okButton',\n        cls     : 'b-messagedialog-okbutton b-raised b-blue',\n        text    : 'L{Object.Ok}',\n        onClick : 'up.onOkClick'\n    }\n];\n\n// Windows has OK button to the left, Mac / Ubuntu to the right\nif (BrowserHelper.isWindows) {\n    items.reverse();\n}\n\nclass MessageDialogConstructor extends Popup {\n\n    static get $name() {\n        return 'MessageDialog';\n    }\n\n    // Factoryable type name\n    static get type() {\n        return 'messagedialog';\n    }\n\n    static get configurable() {\n        return {\n            centered    : true,\n            modal       : true,\n            hidden      : true,\n            autoShow    : false,\n            closeAction : 'hide',\n            title       : '\\xa0',\n\n            lazyItems : {\n                $config : ['lazy'],\n                value   : [{\n                    cls : 'b-messagedialog-message',\n                    ref : 'message'\n                }, {\n                    type : 'textfield',\n                    cls  : 'b-messagedialog-input',\n                    ref  : 'input'\n                }]\n            },\n\n            showClass : null,\n\n            bbar : {\n                overflow : null,\n                items\n            }\n        };\n    }\n\n    construct() {\n        /**\n         * The enum value for the OK button\n         * @member {Number} okButton\n         * @readOnly\n         */\n        this.okButton = this.yesButton = 1;\n\n        /**\n         * The enum value for the Cancel button\n         * @member {Number} cancelButton\n         * @readOnly\n         */\n        this.cancelButton = 3;\n\n        super.construct(...arguments);\n    }\n\n    // Protect from queryAll -> destroy\n    destroy() {}\n\n    /**\n     * Shows a confirm dialog with \"Ok\" and \"Cancel\" buttons. The returned promise resolves passing the button identifier\n     * of the button that was pressed ({@link #property-okButton} or {@link #property-cancelButton}).\n     * @function confirm\n     * @param {Object} options An options object for what to show.\n     * @param {String} [options.title] The title to show in the dialog header.\n     * @param {String} [options.message] The message to show in the dialog body.\n     * @param {String} [options.rootElement] The root element of this widget, defaults to document.body. Use this\n     * if you use the MessageDialog inside a web component ShadowRoot\n     * @param {String|ButtonConfig} [options.cancelButton] A text or a config object to apply to the Cancel button.\n     * @param {String|ButtonConfig} [options.okButton] A text or config object to apply to the OK button.\n     * @returns {Promise} A promise which is resolved when the dialog is closed\n     */\n    async confirm() {\n        return this.showDialog('confirm', ...arguments);\n    }\n\n    /**\n     * Shows an alert popup with a message. The returned promise resolves when the button is clicked.\n     * @function alert\n     * @param {Object} options An options object for what to show.\n     * @param {String} [options.title] The title to show in the dialog header.\n     * @param {String} [options.message] The message to show in the dialog body.\n     * @param {String} [options.rootElement] The root element of this widget, defaults to document.body. Use this\n     * if you use the MessageDialog inside a web component ShadowRoot\n     * @param {String|ButtonConfig} [options.okButton] A text or config object to apply to the OK button.\n     * @returns {Promise} A promise which is resolved when the dialog is closed\n     */\n    async alert() {\n        return this.showDialog('alert', ...arguments);\n    }\n\n    /**\n     * Shows a popup with a basic {@link Core.widget.TextField} along with a message. The returned promise resolves when\n     * the dialog is closed and yields an Object with a `button` ({@link #property-okButton} or {@link #property-cancelButton})\n     * and a `text` property with the text the user provided\n     * @function prompt\n     * @param {Object} options An options object for what to show.\n     * @param {String} [options.title] The title to show in the dialog header.\n     * @param {String} [options.message] The message to show in the dialog body.\n     * @param {String} [options.rootElement] The root element of this widget, defaults to document.body. Use this\n     * if you use the MessageDialog inside a web component ShadowRoot\n     * @param {TextFieldConfig} [options.textField] A config object to apply to the TextField.\n     * @param {String|ButtonConfig} [options.cancelButton] A text or a config object to apply to the Cancel button.\n     * @param {String|ButtonConfig} [options.okButton] A text or config object to apply to the OK button.\n     * @returns {Promise} A promise which is resolved when the dialog is closed. The promise yields an Object with\n     * a `button` ({@link #property-okButton} or {@link #property-cancelButton}) and a `text` property with the text the\n     * user provided\n     */\n    async prompt({\n        textField\n    }) {\n        const field = this.widgetMap.input;\n\n        Widget.reconfigure(field, textField);\n        field.value = '';\n\n        return this.showDialog('prompt', ...arguments);\n    }\n\n    showDialog(mode, {\n        message = '',\n        title = '\\xa0',\n        cancelButton,\n        okButton,\n        rootElement = document.body\n    }) {\n        const me = this;\n\n        me.rootElement = rootElement;\n\n        // Ensure our child items are instanced\n        me.getConfig('lazyItems');\n\n        me.title                  = me.optionalL(title);\n        me.widgetMap.message.html = me.optionalL(message);\n        me.showClass              = `b-messagedialog-${mode}`;\n\n        // Normalize string input to config object\n        if (okButton) {\n            okButton = typeof okButton === 'string' ? { text : okButton } : okButton;\n        }\n\n        if (cancelButton) {\n            cancelButton = typeof cancelButton === 'string' ? { text : cancelButton } : cancelButton;\n        }\n\n        // Ensure default configs are applied\n        okButton = Object.assign({}, me.widgetMap.okButton.initialConfig, okButton);\n        cancelButton = Object.assign({}, me.widgetMap.cancelButton.initialConfig, cancelButton);\n\n        // Ensure strings are localized\n        okButton.text = me.optionalL(okButton.text);\n        cancelButton.text = me.optionalL(cancelButton.text);\n\n        Widget.reconfigure(me.widgetMap.okButton, okButton);\n        Widget.reconfigure(me.widgetMap.cancelButton, cancelButton);\n\n        me.show();\n\n        return me.promise = new Promise(resolve => {\n            me.resolve = resolve;\n        });\n    }\n\n    show() {\n        const activeElement = DomHelper.getActiveElement(this.element);\n\n        // So that when we focus, we don't close an autoClose popup, but temporarily become\n        // part of its ownership tree.\n        this.owner = this.element.contains(activeElement) ? null : MessageDialogConstructor.fromElement(document.activeElement);\n\n        return super.show(...arguments);\n    }\n\n    updateShowClass(showClass, oldShowClass) {\n        const { classList } = this.element;\n\n        if (oldShowClass) {\n            classList.remove(oldShowClass);\n        }\n        if (showClass) {\n            classList.add(showClass);\n        }\n    }\n\n    doResolve(value) {\n        const\n            me          = this,\n            { resolve } = me;\n\n        if (resolve) {\n            const isPrompt = me.showClass === 'b-messagedialog-prompt';\n\n            if (isPrompt && value === me.okButton && !me.widgetMap.input.isValid) {\n                return;\n            }\n\n            me.resolve = me.reject = me.promise = null;\n            resolve(isPrompt ? { button : value, text : me.widgetMap.input.value } : value);\n            me.hide();\n        }\n    }\n\n    onInternalKeyDown(event) {\n        // Cancel on escape key\n        if (event.key === 'Escape') {\n            event.stopImmediatePropagation();\n            this.onCancelClick();\n        }\n        if (event.key === 'Enter') {\n            event.stopImmediatePropagation();\n            event.preventDefault(); // Needed to not spill over into next MessageDialog if closing this opens another\n            this.onOkClick();\n        }\n        super.onInternalKeyDown(event);\n    }\n\n    onOkClick() {\n        this.doResolve(MessageDialog.okButton);\n    }\n\n    onCancelClick() {\n        this.doResolve(MessageDialog.cancelButton);\n    }\n}\n\n// Register this widget type with its Factory\nMessageDialogConstructor.initClass();\n\n// Instantiate MessgeDialog Widget on first use.\nconst MessageDialog = new Proxy({}, {\n    get(target, prop) {\n        const\n            instance = target.instance || (target.instance = new MessageDialogConstructor({\n                rootElement : document.body\n            })),\n            result = instance[prop];\n\n        return typeof result === 'function' ? result.bind(instance) : result;\n    }\n});\n\n/**\n * A singleton class which shows common dialogs, similar to the native browser APIs (though these methods do not block the UI thread):\n * - {@link Core.widget.MessageDialog#function-confirm} shows a confirmation dialog with Ok / Cancel buttons\n * - {@link Core.widget.MessageDialog#function-alert} shows an dialog with a message\n * - {@link Core.widget.MessageDialog#function-prompt} shows a dialog with a text input field\n *\n * @class\n * @singleton\n * @inlineexample Core/widget/MessageDialog.js\n * @extends Core/widget/Popup\n */\nexport default MessageDialog;\n"],"names":["Target","DragHelperContainer","Base","$name","initContainerDrag","me","mode","containers","Error","grabContainerDrag","event","ignoreSelector","target","closest","element","DomHelper","getAncestor","outerElement","box","getBoundingClientRect","context","valid","action","offsetX","pageX","left","offsetY","pageY","top","originalPosition","parent","parentElement","prev","previousElementSibling","next","nextElementSibling","startContainerDrag","_outerWidgetEl$parent","floatRootOwner","dragElement","clonedNode","cloneNode","outerWidgetEl","classList","add","dragProxyCls","draggingCls","floatRoot","getRootElement","appendChild","dragProxy","dragging","dropPlaceholderCls","matches","style","zIndex","floatRootMaxZIndex","onContainerDragStarted","autoSizeClonedTarget","width","height","setTranslateXY","proxyBox","Object","assign","clientX","clientY","updateContainerDrag","_context$dragging","started","targetElement","containerElement","willLoseFocus","contains","getActiveElement","isDescendant","GlobalEvents","suspendFocusEvents","moveNextTo","revertPosition","resumeFocusEvents","preventDefault","finishContainerDrag","draggedTo","insertBefore","Boolean","externalDropTargetSelector","finalize","remove","reset","async","trigger","abortContainerDrag","invalid","silent","updateContainerProxy","proxy","newX","newY","minX","Math","max","maxX","min","offsetWidth","minY","maxY","offsetHeight","lockX","setTranslateY","lockY","setTranslateX","type","touch","changedTouches","elementFromPoint","centerX","Rectangle","from","center","x","isRTL","lastElementChild","isNoop","previousSibling","lastChild","noScroll","pageXOffset","pageYOffset","DragHelperTranslate","Delayable","configurable","positioning","skipUpdatingElement","initTranslateDrag","isElementDraggable","targetSelector","grabTranslateDrag","getTarget","startPageX","startPageY","startClientX","startClientY","getX","parseFloat","getTranslateX","getY","getTranslateY","getXY","offsetLeft","offsetTop","getTranslateXY","setXY","y","startTranslateDrag","proxySelector","dragWithin","cloneTarget","document","body","grabbed","grabbedParent","elementToClone","querySelector","proxyX","proxyY","createProxy","proxyRect","dragWithinX","dragWithinY","localX","localY","hideOriginalElement","grabbedNextSibling","elementStartX","elementStartY","elementX","getOffsetX","elementY","getOffsetY","scrollX","scrollY","scrollManagerElementContainsDragProxy","updateTranslateProxy","onTranslateDragStarted","_relatedElements","relatedElements","unifiedProxy","length","relatedElStartPos","relatedElDragFromPos","originalRelatedElements","map","relatedEl","i","proxyTemplateElement","relatedElementToDrag","unifiedOffset","EventHelper","onTransitionEnd","property","handler","forEach","el","thisObj","once","applyConstraints","constrain","globalThis","scrollWidth","scrollHeight","constrainedX","constrainedY","scrollManagerConfig","getRelativeLeftScroll","getRelativeTopScroll","snapCoordinates","snapped","undefined","deltaX","deltaY","r","finishTranslateDrag","xChanged","round","yChanged","ignoreSamePositionDrop","abortTranslateDrag","targetRect","allowDropOutside","right","bottom","finalized","console","warn","isDestroyed","transform","_me$scrollManager","_me$context","scrollManager","stopMonitoring","aborted","proxyMoved","animateTo","isConnected","isDestroying","waitForTransitionEnd","getPropertyTransitionDuration","runOnDestroy","cleanUp","removeClonedProxies","removeProxyAfterDrop","cssClassesToRemove","rootElementListeners","move","up","docclick","touchstart","touchmove","touchend","keydown","DragHelper","mixin","Events","defaultConfig","invalidCls","dragThreshold","monitoringConfig","dropTargetSelector","dropTargetCls","startEvent","touchStartDelay","clickSwallowDuration","mouseMoveListenerElement","testConfig","transitionDuration","rtlSource","construct","config","initListeners","isContainerDrag","onScrollManagerScrollCallback","bind","doDestroy","dragStartListeners","pointerdown","getMouseMoveListenerTarget","on","root","getRootNode","result","nodeType","Node","DOCUMENT_FRAGMENT_NODE","_this$rtlSource","rtl","onPointerDown","button","handled","blurDetacher","blur","onWindowBlur","dragListeners","capture","pointerType","touchStartTimer","setTimeout","passive","pointerup","pointermove","dragListenersDetacher","internalMove","_event$target","scrollInitiated","distance","getDistanceBetween","abortTouchDrag","abort","ELEMENT_NODE","startMonitoring","ObjectHelper","merge","scrollables","callback","outermostEl","getOutermostElement","querySelectorAll","isPromise","moveUnblocked","_cachedMouseEvent","update","stopImmediatePropagation","_this$context","lastMouseMoveEvent","isScroll","onTouchMove","onMouseMove","scrollingPageElement","scrollingElement","getMouseMoveEventTarget","scrollLeft","scrollTop","internallyValid","_target","draggedElements","toggle","_me$scrollManager2","_me$scrollManager2$st","call","removeListeners","_this$dragListenersDe","_this$blurDetacher","onTouchEnd","onMouseUp","onDocumentClick","stopPropagation","_me$scrollManager3","finalizing","click","expires","ion","drag","onKeyDown","_this$context2","key","removeAttribute","animateProxyTo","alignSpec","align","isRectangle","alignTo","isDragging","_this$context3","_$name","documentListeners","down","ResizeHelper","resizingCls","handleSize","dynamicHandleSize","reservedSpace","touchHandleSize","minWidth","maxWidth","minHeight","maxHeight","scroller","allowResize","isElementResizable","leftHandle","rightHandle","topHandle","bottomHandle","handleSelector","handleContainerSelector","grab","handleVisibilityThreshold","skipTranslate","direction","BrowserHelper","isHoverableDevice","initResize","updateSkipUpdatingElement","skip","edge","cursorOffset","getCursorOffsetToElementEdge","elementWidth","elementHeight","startX","startY","_me$reset","internalStartResize","isTouch","mousedown","mousemove","delegate","mouseleave","mouseup","removeDragListeners","_this$removeDragListe","canResize","grabResizeHandle","onTouchStart","touches","onMouseDown","checkResizeHandles","onPointerUp","_me$removeDragListene","finishResize","_me$reset2","parentRectangle","currentX","currentY","updateResize","_me$scrollManager3$st","abortResize","coordsFrom","getPageX","getPageY","overLeftHandle","overRightHandle","overTopHandle","overBottomHandle","_me$reset3","rectEl","currentElement","over","highlightHandle","unHighlightHandle","onMouseLeaveTarget","allowEdgeSwitch","updated","getExtremalSizePX","sign","newWidth","newHeight","flex","abs","eventObject","changed","_me$reset4","overAnyHandle","overStartHandle","overEndHandle","getDynamicHandleSize","opposite","handleCount","floor","getPagePoint","WidgetHelper","getById","id","Widget","fromElement","limit","createWidget","isWidget","create","append","widget","Array","isArray","HTMLElement","appendTo","insertFirst","getElementById","firstChild","item","openPopup","forElement","html","showContextMenu","currentContextMenu","destroy","Point","position","internalListeners","attachTooltip","configOrText","hasTooltipAttached","resolveType","destroyTooltipAttached","mask","msg","text","Mask","unmask","close","hide","toast","Toast","show","hasOwnProperty","prototype","cacheKey","setParser","parser","defineProperty","value","Default","constructor","formatter","format","defaultFormat","parse","strict","defaultParse","resolvedOptions","Formatter","get","NULL","JSON","stringify","cache","fmt","set","_cache","Map","_null","initialize","configure","entries","defaults","Parser","String","parseStrict","escapeRegExp","StringHelper","digitsRe","newFormatter","locale","Intl","NumberFormat","numFormatRe","unicodeMinus","NumberParser","numFmt","maximumFractionDigits","currency","is","_decodeStyle","currencyDisplay","percent","decimal","replace","grouper","decimalRe","stripRe","RegExp","decimalPlaces","dot","indexOf","Number","fmtDef","decFmt","zero","zeroDec","suffix","startsWith","trim","_as","null","truncator","scale","as","options","template","loc","LocaleManager","locales","match","exec","m2","m4","useGrouping","integer","fraction","_minMax","change","cacheAs","ret","v","isNaN","truncate","substr","name","setMin","setMax","capName","capitalize","minimumFractionDigits","minimumIntegerDigits","maximumSignificantDigits","minimumSignificantDigits","significant","number","Clipboard","hasNativeAccess","_content","writeText","allowNative","navigator","clipboard","e","triggerContentChange","readText","triggerPaste","source","oldText","fromRead","fromWrite","newText","clear","Clipboardable","useNativeClipboard","args","bryntum","paste","contentChange","onClipboardPaste","clipboardText","isCut","isOwn","compareClipboardText","_me$handleCutData","handleCutData","cutData","clearClipboard","onClipboardContentChange","data","_me$_cutData","_me$_cutData2","_cutData","setIsCut","ArrayHelper","asArray","writeToClipboard","params","beforeCopy","isString","stringData","stringConverter","safeJsonStringify","clipboardData","readFromClipboard","skipPasteTrigger","_me$beforePaste","transformClipboardText","beforePaste","clearShared","a","b","regex","stringParser","hasClipboardData","Month","date","$config","equal","DH","clearTime","Date","month","year","weekStartDay","hideNonWorkingDays","nonWorkingDays","sixWeeks","updateDayNumbers","generation","changeDate","isConfiguring","updateDate","newDate","oldDate","dayColumnIndex","weekCount","monthStart","getFirstDateOfMonth","monthEnd","getLastDateOfMonth","startWeekDay","getDay","endWeekDay","yearChanged","getFullYear","monthChanged","getMonth","changes","eventListeners","getDate","getWeekId","_year","_month","startDayOfMonth","endDayOfMonth","weekBase","calculateWeekBase","d","w","m","jan1","dec31","january","getOtherMonth","startDate","dec31Week","diff","has53weeks","getWeekStart","week","weekOfYear","otherMonth","changeYear","setFullYear","changeMonth","setMonth","_weekStartDay","updateWeekStartDay","_nonWorkingDays","changeNonWorkingDays","updateNonWorkingDays","updateHideNonWorkingDays","updateSixWeeks","dayCount","endDate","eachDay","fn","dayOfMonth","eachWeek","weekDates","getWeekNumber","day","push","weekNo","getCellData","ownerMonth","dayTime","DayTime","MIDNIGHT","visibleColumnIndex","visibleDayColumnIndex","isNonWorking","isHiddenDay","columnIndex","dayEnd","duration","tomorrow","dayOfDate","isOtherMonth","visible","isRowStart","isRowEnd","visibleColumnCount","canonicalDayNumbers","canonicalDay","weekLength","keys","ButtonGroup","Container","Rotatable","defaultType","cls","items","color","toggleGroup","valueSeparator","columns","hideWhenEmpty","defaultBindProperty","onChildAdd","prio","onChildRemove","un","onItemToggle","resetValueCache","isSettingValue","pressed","triggerFieldChange","userAction","_value","isButton","generateId","relayEvents","updateRotate","rotate","eachWidget","btn","values","join","oldValue","split","includes","updateDisabled","disabled","ignoreParentReadOnly","readOnly","updateReadOnly","widgetClassList","initClass","CalendarPanel","Panel","layout","textContent","showWeekNumber","showWeekColumn","disabledDates","headerRenderer","weekRenderer","cellRenderer","disableWeekends","hideNonWorkingDaysCls","tip","dayCellCls","dayHeaderCls","disabledCls","otherMonthCls","weekendCls","todayCls","nonWorkingDayCls","dayNameFormat","minRowHeight","minColumnWidth","disableOtherMonthCells","disableOtherMonthCellsCls","hideOtherMonthCells","hideOtherMonthCellsCls","animateTimeShift","refreshCount","refresh","onPaint","firstPaint","_super$onPaint","arguments","getConfig","overflowElement","weeksElement","_this$tip","changeMinRowHeight","minValue","parseInt","getStyleValue","updateMinRowHeight","weekElements","setLength","scrollable","overflowY","changeMinColumnWidth","updateMinColumnWidth","weekdayCells","c","cellElements","overflowX","getDateFromDomEvent","domEvent","Element","DateHelper","parseKey","dataset","changeTip","existingTip","Tooltip","reconfigure","owner","bodyElement","forSelector","updateTip","detachListeners","pointerOver","updateElement","was","weekDayElements","children","updateDayNameFormat","shortDayNames","setDate","dayNames","_this$scrollable","contentElement","syncOverflowState","updateHideOtherMonthCells","_this$scrollable2","updateDisableOtherMonthCells","_this$scrollable3","_localeNonWorkingDays","weekends","_localeWeekends","_this$scrollable4","currentMonth","new","dateChange","onMonthDateChange","getCell","isVisible","slideIn","updateYear","updateShowWeekNumber","updateShowWeekColumn","floating","isAligning","realign","doRefresh","_me$project","timeZone","project","today","TimeZoneHelper","toTimeZone","setHours","cell","cellDay","cellClassList","innerHTML","setInnerText","syncClassList","rowIndex","cellIndex","lastWorkingColumn","dates","weekDayElement","weekCells","innerText","makeKey","isDisabledDate","getTime","firstVisibleDate","lastVisibleDate","lastDomConfig","class","className","row","visibleWeekCount","some","bodyConfig","weeksContainerChildren","tag","reference","fill","scrollBarPadElement","weekRow","syncOptions","ignoreRefs","lastDate","onTipOverCell","updateLocalization","YearPicker","tbar","overflow","previous","onAction","weight","title","itemCls","yearButtonCount","minYear","maxYear","startYear","focusElement","getYearButton","onYearClick","clickedYear","handleTitleClick","endYear","ingestYear","isDate","changeStartYear","updateStartYear","oldStartYear","composeBody","widgetMap","slice","DisplayField","TextField","alias","editable","ariaElement","changeReadOnly","changeEditable","inputElement","encodeHtml","generateMonthNames","getMonthNames","dateSort","lhs","rhs","valueOf","emptyArray","freeze","ReadOnlyCombo","Combo","inputAttributes","tabIndex","inputValueAttr","highlightExternalChange","monitorResize","triggers","expand","picker","axisLock","matchSize","DatePicker","delayable","activeDate","focusable","prevYear","tooltip","prevMonth","fields","monthField","select","yearButton","nextMonth","nextYear","yearPicker","trapFocus","positioned","hidden","titleClick","minDate","maxDate","focusDisabledDates","multiSelect","selection","v1","v2","equals","editMonth","role","focusDescendant","alwaysRefreshOnMonthChange","prototypeProperties","outOfRangeCls","activeCls","selectedCls","externalCellRenderer","internalCellRenderer","setAttribute","flush","afterHide","_this$_yearPicker","_yearPicker","_this$yearButton","_this$monthField","oldActiveCell","betweenLesser","_activeDate","dateOfOldActiveCell","syncActiveDate","isSelected","isSelectedDate","isActiveDate","isStart","isEnd","updateClassList","onCellMousedown","focus","onCellClick","onUIDateSelect","lastClickedDate","activatingEvent","handleMultiSelect","_selection","DateSet","singleRange","size","rangeEnds","has","toggleFn","clickedRangeEnd","ctrlKey","rangeStartDate","shiftKey","start","end","sort","newSize","updateSelection","changeSelection","updateMultiSelect","dateSet","now","onInternalKeyDown","keyEvent","keyName","code","gotoPrevMonth","gotoNextMonth","changeMinDate","apply","updateMinDate","_yearpicker","changeMaxDate","updateMaxDate","clamp","initializingActiveDate","isNavigating","changeActiveDate","oldActiveDate","updateActiveDate","wasActiveDate","isPending","activeCell","wasActiveCell","activeElement","betweenLesserEqual","gotoPrevYear","goto","gotoNextYear","unit","firstDateOfNewMonth","lastDateOfNewMonth","_this$_selection","onMonthPicked","record","_this$focusElement","onYearPickerRequested","onYearPickerTitleClick","onYearPicked","focusWithoutScrolling","changeYearPicker","oldYearPicker","_this$minDate","_this$maxDate","mergeConfigs","childItems","newData","every","store","getAt","selected","Set","delete","other","s","k","DateField","PickerField","strictParsing","fallbackFormat","timeFormat","keepTime","pickerFormat","validateDateOnly","back","forward","calendarContainerCls","step","stepTriggers","scrollAction","changePicker","oldPicker","pickerAlignElement","anchor","overlayAnchor","onSelectionChange","_isUserAction","_isPickerInput","backShiftDate","_step","magnitude","onBackClick","newValue","forwardShiftDate","onForwardClick","showPicker","focusPicker","_picker","pickerConfig","setConfig","isValid","clearError","setError","transformDateValue","isValidDate","MS_PER_DAY","transformTimeValue","clone","timeValue","copyTimeValues","changeMin","updateMin","input","syncInvalid","changeMax","updateMax","changeValue","hasChanged","inputting","syncInputFieldValue","updateValue","changeStep","parseDuration","updateStep","isEqual","inputValue","updateFormat","internalOnKeyEvent","NumberField","Field","largeStep","decimalPrecision","leadingZeroes","spin","changeOnSpin","inputType","addEventListener","bufferedSpinChange","buffer","triggerChange","acceptValue","rawValue","accept","hasTextSelection","raw","current","okMax","okMin","block","doSpinUp","doSpinDown","altKey","after","getAfterValue","afterValue","accepted","_changedBySilentSpin","applySpinChange","silenceChange","onFocusOut","_me$triggers","_me$triggers$spin","_me$triggers$spin$cli","formatted","formatValue","clickRepeater","cancel","lastTouchmove","internalOnInput","decimals","trunc","pos","caretPos","changeFormat","repeat","_formatter","_lastFormat","isMobile","touchMoveListener","throttled","alt","_me$touchMoveListener","onInputSwipe","screenX","screenY","delta","changeLargeStep","validity","rangeUnderflow","rangeOverflow","valueIsNaN","TimePicker","hour","label","minute","second","amPm","amButton","onClick","pmButton","autoShow","seconds","initialValue","updateSeconds","onFieldChange","isRefreshing","pickerToTime","onAmPmButtonClick","_pm","ref","_super$onInternalKeyD","triggerTimeChange","_initialValue","pm","_is24Hour","hours","setMinutes","setSeconds","_min","_max","time","updateInitialValue","is24HourFormat","is24","getHours","getMinutes","getSeconds","TimeField","compose","keepDate","onTimeChange","getMilliseconds","maxTime","minTime","onPickerShow","_this$pickerKeyDownRe","pickerKeyDownRemover","isRequired","firstElementChild","animationDelay","_value2","DurationField","defaultUnit","useAbbreviation","allowNegative","nullValue","allowedUnits","Duration","changeAllowedUnits","units","updateAllowedUnits","allowedUnitsRe","calcValue","toString","_unit","unitWithDefault","_magnitude","roundMagnitude","allowDecimals","isEmpty","required","internalOnChange","oldVal","_lastValue","_this$triggers","_this$triggers$spin","_this$triggers$spin$c","newMagnitude","newUnit","test","parsedDuration","clearable","milliseconds","SUPPORTED_FIELD_DATA_TYPES","isSupportedDurationField","field","_field$column","column","emptyString","typeName","clsBase","multiValueOperators","between","notBetween","isIncludedIn","isNotIncludedIn","valueInputTypes","textfield","datefield","numberfield","durationfield","combo","FieldFilterPicker","operators","empty","argCount","notEmpty","defaultOperators","string","boolean","relation","defaultValueFieldPlaceholders","list","propertyLocked","operatorLocked","filter","propertyFieldConfig","operatorFieldConfig","valueFieldCls","inputs","propertyPicker","placeholder","operatorPicker","valueFields","caseSensitive","dateFormat","valueFieldPlaceholders","getValueFieldConfig","buildOperatorArgCountLookup","keyBy","fieldType","afterConstruct","_fields","_filter","allPropertyPickerClasses","allOperatorPickerClasses","populateUIFromFilter","changeDateFormat","L","allChildInputs","newDisabled","newReadOnly","updatePropertyLocked","newPropertyLocked","updateOperatorLocked","newOperatorLocked","changeOperators","newOperators","reduce","outOperators","dataType","op","changeFields","newFields","VersionHelper","deprecate","isMultiSelectValueField","_this$_filter","operator","_this$propertyFieldCo","DomClassList","_this$operatorFieldCo","getValueFieldConfigs","onValueChange","filterValues","operatorArgCount","valueFieldCfg","createOnUnmatched","getUniqueDataValues","populate","index","content","flat","extraValuesToInclude","_me$_filter","relatedDisplayField","selectedField","sortedValues","fieldIsRelation","foreignStore","currentPropertyRelationConfig","allRecords","getValue","sortStrings","uniqueValues","unique","primitiveValues","durationStr","sortDurations","sortNumerics","timestamp","localeCompare","_this$selectedField","_this$fields","_this$_filter2","propertyOptions","fieldDef","fieldName","operatorOptions","_this$store","_this$store$modelRela","modelRelations","find","foreignKey","_this$_filter3","updateOperators","_operatorArgCountLookup","operatorArgCountLookup","updateFilter","onFilterChange","updateStore","newStore","_this$_store","_store","onStoreRefresh","refreshValueFields","isMultiValue","removeAll","_valueFields","refreshCaseSensitive","_me$_filter2","_me$_filter3","checked","onPropertySelect","_event$record","_fieldType","refreshOperatorPicker","onCaseSensitiveChange","onOperatorSelect","_event$record2","wasMultiSelectValueField","prevArgCount","forceRefreshValueFields","valueField","fieldIndex","queryAll","_this$_filter4","newFieldType","missingValue","Label","localizableProperties","FieldFilterPickerGroup","addFilterButtonDefaultText","filters","limitToProperty","showAddFilterButton","canDeleteFilter","getFieldFilterPickerConfig","canManageFilter","addFilterButtonText","pickers","addFilterButton","childPickerType","validateConfig","updateFields","updateFilters","newFilters","oldFilters","newFilter","_me$store","removeFilter","nextFilterId","getPickerRowConfig","changeFilters","filterPicker","addFilter","appendFiltersFromStore","updateShowAddFilterButton","newShow","updateAddFilterButtonText","_me$filters","canManage","appendFilter","getFilterPickerConfig","getFieldsFromStore","_store$fields","fromEntries","canDelete","separatorText","activeCheckbox","removeButton","icon","allInputs","childInputTypes","onFilterActiveChange","filterIndex","getFilterIndex","getFilterPicker","updateStoreFilter","onFilterPickerChange","eventSource","containingWidget","getPickerRow","_nextId","pickerRow","newFocusWidget","query","isFocusable","removeFilterAt","_me$store2","onStoreFilter","_isUpdatingStore","storeFiltersById","byId","storeFilter","filterRow","splice","validFilters","f","activateAll","setAllActiveStatus","deactivateAll","newActive","_filters","isWindows","reverse","MessageDialogConstructor","Popup","centered","modal","closeAction","lazyItems","showClass","bbar","okButton","yesButton","cancelButton","confirm","showDialog","alert","prompt","textField","message","rootElement","optionalL","initialConfig","promise","Promise","resolve","updateShowClass","oldShowClass","doResolve","isPrompt","reject","onCancelClick","onOkClick","MessageDialog","Proxy","prop","instance"],"mappings":"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UAAU,EAAG,cAAc;AAC3BC,EAAAA,SAAS,EAAI,aAAa;AAC1BC,EAAAA,QAAQ,EAAK,YAAY;AACzBC,EAAAA,OAAO,EAAM,WAAA;AACjB,CAAC,CAAA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,MAAMC,UAAU,SAASnQ,IAAI,CAACoQ,KAAK,CAACC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,CAACC,IAAI;AAC5B;AACZ;AACA;AACA;AACYmO,MAAAA,QAAQ,EAAG,IAAI;AACf;AACZ;AACA;AACA;AACA;AACYC,MAAAA,WAAW,EAAG,IAAI;AAClB;AACZ;AACA;AACA;AACA;AACYvO,MAAAA,UAAU,EAAG,IAAI;AACjB;AACZ;AACA;AACA;AACA;AACA;AACYwO,MAAAA,kBAAkB,EAAG,IAAI;AACzB;AACZ;AACA;AACA;AACA;AACY5P,MAAAA,cAAc,EAAG,IAAI;AACrB;AACZ;AACA;AACA;AACA;AACY6P,MAAAA,UAAU,EAAG,IAAI;AACjB;AACZ;AACA;AACA;AACA;AACYC,MAAAA,WAAW,EAAG,IAAI;AAClB;AACZ;AACA;AACA;AACA;AACYC,MAAAA,SAAS,EAAG,IAAI;AAChB;AACZ;AACA;AACA;AACA;AACYC,MAAAA,YAAY,EAAG,IAAI;AACnB;AACZ;AACA;AACA;AACA;AACYC,MAAAA,cAAc,EAAG,IAAI;AACrB;AACZ;AACA;AACA;AACYC,MAAAA,uBAAuB,EAAG,IAAI;AAC9B5H,MAAAA,UAAU,EAAG,IAAI;AACjB;AACZ;AACA;AACA;AACA;AACY6H,MAAAA,IAAI,EAAG,IAAI;AACX;AACZ;AACA;AACA;AACA;AACYlI,MAAAA,UAAU,EAAG,kBAAkB;AAC/B;AACA;AACAmI,MAAAA,yBAAyB,EAAG,IAAI;AAChC;AACA;AACAC,MAAAA,aAAa,EAAG,KAAK;AACrB;AACZ;AACA;AACA;AACA;AACYC,MAAAA,SAAS,EAAG,YAAY;AACxB9H,MAAAA,oBAAoB,EAAG,EAAE;AACzBI,MAAAA,SAAS,EAAG,IAAA;KACf,CAAA;AACL,GAAA;AACA,EAAA,OAAOjJ,YAAY,GAAG;AAClB;AACA;AACAE,IAAAA,mBAAmB,EAAG,IAAA;GACzB,CAAA;AACD;AACA;AACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACI;AACJ;AACA;AACA;AACA;AACA;AACA;AACI;AACJ;AACA;AACA;AACA;AACA;AACA;AACI;AACJ;AACA;AACA;AACA;AACA;AACA;AACI;AACA;EACAgJ,SAASA,CA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ACA;AACQqD,IAAAA,qBAAqB,EAAG,IAAI;AAC5B;AACR;AACA;AACA;AACA;AACA;AACQC,IAAAA,oBAAoB,EAAG,IAAI;AAC3B;AACR;AACA;AACA;AACA;AACA;AACQC,IAAAA,wBAAwB,EAAG,IAAI;AAC/B;AACR;AACA;AACA;AACA;AACA;AACQC,IAAAA,wBAAwB,EAAG,IAAI;AAC/B;AACR;AACA;AACA;AACA;AACQnB,IAAAA,WAAW,EAAG,IAAA;GACjB;AACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACIE,EAAAA,QAAQ,EAAG,IAAI;AACf/d,EAAAA,IAAI,EAAG,IAAI;AACX;AACJ;AACA;AACA;AACI8d,EAAAA,OAAO,EAAG,IAAI;AACd;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACImB,EAAAA,WAAW,EAAG,IAAI;AAClB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACI5B,EAAAA,QAAQ,EAAG,IAAA;AACf,CAAC,CAAC,CAAA;AACF5gB,MAAM,CAACC,MAAM,CAACye,YAAY,CAACvC,SAAS,EAAEuC,YAAY,CAACvC,SAAS,CAAC6B,QAAQ,CAAC,CAAA;AACtEd,SAAS,CAACuF,MAAM,GAAG,CAAC7F,MAAM,EAAEJ,KAAK,KAAKkC,YAAY,CAAC9B,MAAM,CAACA,MAAM,EAAEJ,KAAK,CAAC,CAAA;AACxEkC,YAAY,CAACpL,MAAM,GAAG,cAAc;;ACxepC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMoP,SAAS,SAASvmB,IAAI,CAACoQ,KAAK,CAACC,MAAM,CAAC,CAAC;AACvC;AACAmW,EAAAA,eAAe,GAAG,IAAI,CAAA;AACtBC,EAAAA,QAAQ,GAAG,IAAI,CAAA;AACf;AACJ;AACA;AACA;AACA;AACA;AACI,EAAA,MAAMC,SAASA,CAACnH,IAAI,EAAEoH,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A;AACJ,KAAA;AACA,IAAA,OAAOrhB,OAAO,CAACshB,QAAQ,IAAI,IAAI,CAACiD,sBAAsB,CAACjD,QAAQ,CAAC,CAAC+B,IAAI,CAAC,CAAA;AAC1E,GAAA;AACJ,CAAC;;AC3QD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,MAAM0B,KAAK,SAAU7Z,MAAM,CAACrQ,IAAI,CAAC,CAAC;EAC7C,OAAOC,KAAK,GAAG,OAAO,CAAA;EACtB,WAAWgI,YAAYA,GAAG;IACtB,OAAO;AACH;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACYkiB,MAAAA,IAAI,EAAG;AACHC,QAAAA,OAAO,EAAG;AACNC,UAAAA,KAAK,EAAG,MAAA;SACX;QACDhK,KAAK,EAAGiK,UAAE,CAACC,SAAS,CAAC,IAAIC,IAAI,EAAE,CAAA;OAClC;AACDC,MAAAA,KAAK,EAAG,IAAI;AACZC,MAAAA,IAAI,EAAG,IAAI;AACX;AACZ;AACA;AACA;AACA;AACYC,MAAAA,YAAY,EAAG,IAAI;AACnB;AACZ;AACA;AACA;AACA;AACYC,MAAAA,kBAAkB,EAAG,IAAI;AACzB;AACZ;AACA;AACA;AACA;AACYC,MAAAA,cAAc,EAAG,IAAI;AACrB;AACZ;AACA;AACA;AACA;AACYC,MAAAA,QAAQ,EAAG,IAAA;KACd,CAAA;AACL,GAAA;AACA;AACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACI;AACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;A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0zB,OAAO,EAAE;AACvC,MAAA,IAAI,CAAC5K,MAAM,CAAC7f,IAAI,EAAE,CAAA;AACtB,KAAA;AACJ,GAAA;AACA;AACJ,CAAA;AACA;AACAuoB,SAAS,CAAChV,SAAS,EAAE,CAAA;AACrBgV,SAAS,CAAC/wB,MAAM,GAAG,WAAW;;AClhB9B;AACA;AACA;AACA,MAAMpS,cAAc,GAAG+hB,CAAC,IAAIA,CAAC,CAACkd,OAAO,IAAIld,CAAC,CAAC/hB,cAAc,EAAE,CAAA;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,MAAMinC,WAAW,SAASC,KAAK,CAAC;AAC3C;EACA,WAAWhsC,KAAKA,GAAG;AACf,IAAA,OAAO,aAAa,CAAA;AACxB,GAAA;AACA;EACA,WAAW6G,IAAIA,GAAG;AACd,IAAA,OAAO,aAAa,CAAA;AACxB,GAAA;AACA;EACA,WAAWk3B,KAAKA,GAAG;AACf,IAAA,OAAO,QAAQ,CAAA;AACnB,GAAA;EACA,WAAW/1B,YAAYA,GAAG;IACtB,OAAO;AACH;AACZ;AACA;AACA;AACY5B,MAAAA,GAAG,EAAG,IAAI;AACV;AACZ;AACA;AACA;AACYF,MAAAA,GAAG,EAAG,IAAI;AACV;AACZ;AACA;AACA;AACY;AACZ;AACA;AACA;AACA;AACY0iC,MAAAA,IAAI,EAAG,CAAC;AACR;AACZ;AACA;AACA;AACA;AACA;AACYqD,MAAAA,SAAS,EAAG,CAAC;AACb;AACZ;AACA;AACA;AACY7rB,MAAAA,KAAK,EAAG,IAAI;AACZ;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACYI,MAAAA,MAAM,EAAG,EAAE;AACX;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY0rB,MAAAA,gBAAgB,EAAG,IAAI;AAC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AG;AAClB;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQg3C,IAAAA,OAAO,EAAG,EAAE;AACZ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQ/e,IAAAA,MAAM,EAAG,IAAI;AACb;AACR;AACA;AACA;AACA;AACA;AACQrN,IAAAA,QAAQ,EAAG,KAAK;AAChB;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQE,IAAAA,QAAQ,EAAG,KAAK;AAChBM,IAAAA,MAAM,EAAG,MAAM;AACf;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQqU,IAAAA,KAAK,EAAG,IAAI;AACZ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQwX,IAAAA,eAAe,EAAG,IAAI;AACtB;AACR;AACA;AACA;AACA;AACA;AACQ9H,IAAAA,aAAa,EAAG,IAAI;AACpB;AACR;AACA;AACA;AACA;AACA;AACQ+H,IAAAA,mBAAmB,EAAG,IAAI;AAC1B;AACR;AACA;AACA;AACA;AACA;AACA;AACQC,IAAAA,eAAe,EAAG,IAAI;AACtB;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQC,IAAAA,0BAA0B,EAAG,IAAI;AACjC;AACR;AACA;AACA;AACA;AACA;AACA;AACQC,IAAAA,eAAe,EAAG,IAAI;AACtB;AACR;AACA;AACA;AACA;AACQC,IAAAA,mBAAmB,EAAG,IAAI;AAC1B;AACR;AACA;AACQzuB,IAAAA,KAAK,EAAG;AACJ0uB,MAAAA,OAAO,EAAG;AACN14C,QAAAA,IAAI,EAAS,WAAW;AACxBusB,QAAAA,MAAM,EAAO,MAAM;AACnB2C,QAAAA,UAAU,EAAG,IAAI;AACjBlF,QAAAA,KAAK,EA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"}